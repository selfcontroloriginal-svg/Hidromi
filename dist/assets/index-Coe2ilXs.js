const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browser-D5QA20Nc.js","assets/vendor-DPDpq4mR.js","assets/index.es-D_mWTjhN.js","assets/ui-jVT9-Ln1.js","assets/router-vcVpyhT_.js","assets/utils-Bv3NO4NW.js"])))=>i.map(i=>d[i]);
import{j as c,R as en,P as tn,O as rn,C as nn,T as an,a as sn,b as vS,c as bS}from"./ui-jVT9-Ln1.js";import{a as jh,d as yS,e as mr,r as V,g as Kn,R as sm,c as H,b as cg}from"./vendor-DPDpq4mR.js";import{u as on,N as im,B as xS,R as wS,a as $r}from"./router-vcVpyhT_.js";import{b as mp,a as nc,c as SS,d as ac,f as Ra,e as Ya,i as NS,g as _S,h as jS,s as Dn,j as Yo,k as ht,l as om,m as Ws,n as Ys,o as Ti,p as ky,q as Qr,r as ov,t as kh,u as Lo,v as vc,w as lm,x as Go,y as Cy,z as Dy,A as Fa,B as Ba,C as ms,D as cm,E as La,F as Us,G as Ko,H as Kd,I as $o,J as um,K as kS,L as lv,M as CS,N as DS,O as Ey,P as Ed,Q as ES,R as Pd,S as Ad,T as Ld,U as PS,V as Py,W as Ay,X as ug,Y as AS,Z as LS,_ as OS,$ as TS,a0 as kc,a1 as MS,a2 as Ly,a3 as Jd,a4 as Xd,a5 as Qd,a6 as Zd,a7 as cv,a8 as uv,a9 as IS,aa as RS}from"./utils-Bv3NO4NW.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function e(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=e(a);fetch(a.href,s)}})();var Oy,dv=jh;Oy=dv.createRoot,dv.hydrateRoot;const $S="modulepreload",FS=function(n){return"/"+n},hv={},ga=function(t,e,r){let a=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(e.map(l=>{if(l=FS(l),l in hv)return;hv[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":$S,u||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),u)return new Promise((m,p)=>{f.addEventListener("load",m),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return a.then(i=>{for(const o of i||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})},BS=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>ga(async()=>{const{default:r}=await Promise.resolve().then(()=>hl);return{default:r}},void 0).then(({default:r})=>r(...e)):t=fetch,(...e)=>t(...e)};class dg extends Error{constructor(t,e="FunctionsError",r){super(t),this.name=e,this.context=r}}class qS extends dg{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class US extends dg{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class VS extends dg{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var dm;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(dm||(dm={}));var zS=function(n,t,e,r){function a(s){return s instanceof e?s:new e(function(i){i(s)})}return new(e||(e=Promise))(function(s,i){function o(d){try{u(r.next(d))}catch(f){i(f)}}function l(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?s(d.value):a(d.value).then(o,l)}u((r=r.apply(n,t||[])).next())})};class HS{constructor(t,{headers:e={},customFetch:r,region:a=dm.Any}={}){this.url=t,this.headers=e,this.region=a,this.fetch=BS(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,e={}){var r;return zS(this,void 0,void 0,function*(){try{const{headers:a,method:s,body:i}=e;let o={},{region:l}=e;l||(l=this.region),l&&l!=="any"&&(o["x-region"]=l);let u;i&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",u=i):typeof i=="string"?(o["Content-Type"]="text/plain",u=i):typeof FormData<"u"&&i instanceof FormData?u=i:(o["Content-Type"]="application/json",u=JSON.stringify(i)));const d=yield this.fetch(`${this.url}/${t}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),a),body:u}).catch(y=>{throw new qS(y)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new US(d);if(!d.ok)throw new VS(d);let m=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),p;return m==="application/json"?p=yield d.json():m==="application/octet-stream"?p=yield d.blob():m==="text/event-stream"?p=d:m==="multipart/form-data"?p=yield d.formData():p=yield d.text(),{data:p,error:null}}catch(a){return{data:null,error:a}}})}}var gn={},hg={},Ch={},Qc={},Dh={},Eh={},WS=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("unable to locate global object")},Jo=WS();const YS=Jo.fetch,Ty=Jo.fetch.bind(Jo),My=Jo.Headers,GS=Jo.Request,KS=Jo.Response,hl=Object.freeze(Object.defineProperty({__proto__:null,Headers:My,Request:GS,Response:KS,default:Ty,fetch:YS},Symbol.toStringTag,{value:"Module"})),JS=yS(hl);var Ph={};Object.defineProperty(Ph,"__esModule",{value:!0});let XS=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Ph.default=XS;var Iy=mr&&mr.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Eh,"__esModule",{value:!0});const QS=Iy(JS),ZS=Iy(Ph);let eN=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=QS.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=Object.assign({},this.headers),this.headers[t]=e,this}then(t,e){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let a=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var i,o,l;let u=null,d=null,f=null,m=s.status,p=s.statusText;if(s.ok){if(this.method!=="HEAD"){const w=await s.text();w===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=w:d=JSON.parse(w))}const v=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),x=(o=s.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");v&&x&&x.length>1&&(f=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,m=406,p="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const v=await s.text();try{u=JSON.parse(v),Array.isArray(u)&&s.status===404&&(d=[],u=null,m=200,p="OK")}catch{s.status===404&&v===""?(m=204,p="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,m=200,p="OK"),u&&this.shouldThrowOnError)throw new ZS.default(u)}return{error:u,data:d,count:f,status:m,statusText:p}});return this.shouldThrowOnError||(a=a.catch(s=>{var i,o,l;return{error:{message:`${(i=s==null?void 0:s.name)!==null&&i!==void 0?i:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(o=s==null?void 0:s.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,e)}returns(){return this}overrideTypes(){return this}};Eh.default=eN;var tN=mr&&mr.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Dh,"__esModule",{value:!0});const rN=tN(Eh);let nN=class extends rN.default{select(t){let e=!1;const r=(t??"*").split("").map(a=>/\s/.test(a)&&!e?"":(a==='"'&&(e=!e),a)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:a,referencedTable:s=a}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:a=r}={}){const s=typeof a>"u"?"offset":`${a}.offset`,i=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(i,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:a=!1,wal:s=!1,format:i="text"}={}){var o;const l=[t?"analyze":null,e?"verbose":null,r?"settings":null,a?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${u}"; options=${l};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Dh.default=nN;var aN=mr&&mr.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Qc,"__esModule",{value:!0});const sN=aN(Dh);let iN=class extends sN.default{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:a}={}){let s="";a==="plain"?s="pl":a==="phrase"?s="ph":a==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${i}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const a=r?`${r}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}};Qc.default=iN;var oN=mr&&mr.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ch,"__esModule",{value:!0});const sc=oN(Qc);let lN=class{constructor(t,{headers:e={},schema:r,fetch:a}){this.url=t,this.headers=e,this.schema=r,this.fetch=a}select(t,{head:e=!1,count:r}={}){const a=e?"HEAD":"GET";let s=!1;const i=(t??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",i),r&&(this.headers.Prefer=`count=${r}`),new sc.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:e,defaultToNull:r=!0}={}){const a="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),e&&s.push(`count=${e}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const i=t.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(i.length>0){const o=[...new Set(i)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new sc.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:a,defaultToNull:s=!0}={}){const i="POST",o=[`resolution=${r?"ignore":"merge"}-duplicates`];if(e!==void 0&&this.url.searchParams.set("on_conflict",e),this.headers.Prefer&&o.push(this.headers.Prefer),a&&o.push(`count=${a}`),s||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const l=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new sc.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:e}={}){const r="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),e&&a.push(`count=${e}`),this.headers.Prefer=a.join(","),new sc.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const e="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new sc.default({method:e,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ch.default=lN;var Ah={},Lh={};Object.defineProperty(Lh,"__esModule",{value:!0});Lh.version=void 0;Lh.version="0.0.0-automated";Object.defineProperty(Ah,"__esModule",{value:!0});Ah.DEFAULT_HEADERS=void 0;const cN=Lh;Ah.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${cN.version}`};var Ry=mr&&mr.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(hg,"__esModule",{value:!0});const uN=Ry(Ch),dN=Ry(Qc),hN=Ah;let fN=class $y{constructor(t,{headers:e={},schema:r,fetch:a}={}){this.url=t,this.headers=Object.assign(Object.assign({},hN.DEFAULT_HEADERS),e),this.schemaName=r,this.fetch=a}from(t){const e=new URL(`${this.url}/${t}`);return new uN.default(e,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new $y(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,e={},{head:r=!1,get:a=!1,count:s}={}){let i;const o=new URL(`${this.url}/rpc/${t}`);let l;r||a?(i=r?"HEAD":"GET",Object.entries(e).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{o.searchParams.append(d,f)})):(i="POST",l=e);const u=Object.assign({},this.headers);return s&&(u.Prefer=`count=${s}`),new dN.default({method:i,url:o,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};hg.default=fN;var fl=mr&&mr.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(gn,"__esModule",{value:!0});gn.PostgrestError=gn.PostgrestBuilder=gn.PostgrestTransformBuilder=gn.PostgrestFilterBuilder=gn.PostgrestQueryBuilder=gn.PostgrestClient=void 0;const Fy=fl(hg);gn.PostgrestClient=Fy.default;const By=fl(Ch);gn.PostgrestQueryBuilder=By.default;const qy=fl(Qc);gn.PostgrestFilterBuilder=qy.default;const Uy=fl(Dh);gn.PostgrestTransformBuilder=Uy.default;const Vy=fl(Eh);gn.PostgrestBuilder=Vy.default;const zy=fl(Ph);gn.PostgrestError=zy.default;var pN=gn.default={PostgrestClient:Fy.default,PostgrestQueryBuilder:By.default,PostgrestFilterBuilder:qy.default,PostgrestTransformBuilder:Uy.default,PostgrestBuilder:Vy.default,PostgrestError:zy.default};const{PostgrestClient:mN,PostgrestQueryBuilder:uY,PostgrestFilterBuilder:dY,PostgrestTransformBuilder:hY,PostgrestBuilder:fY,PostgrestError:pY}=pN,gN="2.11.2",vN={"X-Client-Info":`realtime-js/${gN}`},bN="1.0.0",Hy=1e4,yN=1e3;var Fo;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Fo||(Fo={}));var Cn;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Cn||(Cn={}));var fa;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(fa||(fa={}));var hm;(function(n){n.websocket="websocket"})(hm||(hm={}));var Ni;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Ni||(Ni={}));class xN{constructor(){this.HEADER_LENGTH=1}decode(t,e){return t.constructor===ArrayBuffer?e(this._binaryDecode(t)):e(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const e=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,e,r)}_decodeBroadcast(t,e,r){const a=e.getUint8(1),s=e.getUint8(2);let i=this.HEADER_LENGTH+2;const o=r.decode(t.slice(i,i+a));i=i+a;const l=r.decode(t.slice(i,i+s));i=i+s;const u=JSON.parse(r.decode(t.slice(i,t.byteLength)));return{ref:null,topic:o,event:l,payload:u}}}class Wy{constructor(t,e){this.callback=t,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ft;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Ft||(Ft={}));const fv=(n,t,e={})=>{var r;const a=(r=e.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((s,i)=>(s[i]=wN(i,n,t,a),s),{})},wN=(n,t,e,r)=>{const a=t.find(o=>o.name===n),s=a==null?void 0:a.type,i=e[n];return s&&!r.includes(s)?Yy(s,i):fm(i)},Yy=(n,t)=>{if(n.charAt(0)==="_"){const e=n.slice(1,n.length);return jN(t,e)}switch(n){case Ft.bool:return SN(t);case Ft.float4:case Ft.float8:case Ft.int2:case Ft.int4:case Ft.int8:case Ft.numeric:case Ft.oid:return NN(t);case Ft.json:case Ft.jsonb:return _N(t);case Ft.timestamp:return kN(t);case Ft.abstime:case Ft.date:case Ft.daterange:case Ft.int4range:case Ft.int8range:case Ft.money:case Ft.reltime:case Ft.text:case Ft.time:case Ft.timestamptz:case Ft.timetz:case Ft.tsrange:case Ft.tstzrange:return fm(t);default:return fm(t)}},fm=n=>n,SN=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},NN=n=>{if(typeof n=="string"){const t=parseFloat(n);if(!Number.isNaN(t))return t}return n},_N=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(t){return console.log(`JSON parse error: ${t}`),n}return n},jN=(n,t)=>{if(typeof n!="string")return n;const e=n.length-1,r=n[e];if(n[0]==="{"&&r==="}"){let s;const i=n.slice(1,e);try{s=JSON.parse("["+i+"]")}catch{s=i?i.split(","):[]}return s.map(o=>Yy(t,o))}return n},kN=n=>typeof n=="string"?n.replace(" ","T"):n,Gy=n=>{let t=n;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class gp{constructor(t,e,r={},a=Hy){this.channel=t,this.event=e,this.payload=r,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,e){var r;return this._hasReceived(t)&&e((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:e}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(e))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var pv;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(pv||(pv={}));class bc{constructor(t,e){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(e==null?void 0:e.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},a=>{const{onJoin:s,onLeave:i,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=bc.syncState(this.state,a,s,i),this.pendingDiffs.forEach(l=>{this.state=bc.syncDiff(this.state,l,s,i)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},a=>{const{onJoin:s,onLeave:i,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=bc.syncDiff(this.state,a,s,i),o())}),this.onJoin((a,s,i)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:s,newPresences:i})}),this.onLeave((a,s,i)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:s,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,e,r,a){const s=this.cloneDeep(t),i=this.transformState(e),o={},l={};return this.map(s,(u,d)=>{i[u]||(l[u]=d)}),this.map(i,(u,d)=>{const f=s[u];if(f){const m=d.map(x=>x.presence_ref),p=f.map(x=>x.presence_ref),y=d.filter(x=>p.indexOf(x.presence_ref)<0),v=f.filter(x=>m.indexOf(x.presence_ref)<0);y.length>0&&(o[u]=y),v.length>0&&(l[u]=v)}else o[u]=d}),this.syncDiff(s,{joins:o,leaves:l},r,a)}static syncDiff(t,e,r,a){const{joins:s,leaves:i}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return r||(r=()=>{}),a||(a=()=>{}),this.map(s,(o,l)=>{var u;const d=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(l),d.length>0){const f=t[o].map(p=>p.presence_ref),m=d.filter(p=>f.indexOf(p.presence_ref)<0);t[o].unshift(...m)}r(o,d,l)}),this.map(i,(o,l)=>{let u=t[o];if(!u)return;const d=l.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[o]=u,a(o,u,l),u.length===0&&delete t[o]}),t}static map(t,e){return Object.getOwnPropertyNames(t).map(r=>e(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((e,r)=>{const a=t[r];return"metas"in a?e[r]=a.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):e[r]=a,e},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var mv;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(mv||(mv={}));var gv;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(gv||(gv={}));var hs;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(hs||(hs={}));class fg{constructor(t,e={config:{}},r){this.topic=t,this.params=e,this.socket=r,this.bindings={},this.state=Cn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},e.config),this.timeout=this.socket.timeout,this.joinPush=new gp(this,fa.join,this.params,this.timeout),this.rejoinTimer=new Wy(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Cn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Cn.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Cn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Cn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(fa.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new bc(this),this.broadcastEndpointURL=Gy(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,e=this.timeout){var r,a;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:s,presence:i,private:o}}=this.params;this._onError(d=>t==null?void 0:t(hs.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(hs.CLOSED));const l={},u={broadcast:s,presence:i,postgres_changes:(a=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&a!==void 0?a:[],private:o};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},l)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(hs.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,p=(f=m==null?void 0:m.length)!==null&&f!==void 0?f:0,y=[];for(let v=0;v<p;v++){const x=m[v],{filter:{event:w,schema:N,table:_,filter:C}}=x,A=d&&d[v];if(A&&A.event===w&&A.schema===N&&A.table===_&&A.filter===C)y.push(Object.assign(Object.assign({},x),{id:A.id}));else{this.unsubscribe(),t==null||t(hs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(hs.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(hs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(hs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,e={}){return await this.send({type:"presence",event:"track",payload:t},e.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,e,r){return this._on(t,e,r)}async send(t,e={}){var r,a;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:i}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=e.timeout)!==null&&r!==void 0?r:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var i,o,l;const u=this._push(t.type,t,e.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(i=this.params)===null||i===void 0?void 0:i.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Cn.leaving;const e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(fa.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const a=new gp(this,fa.leave,{},t);a.receive("ok",()=>{e(),r("ok")}).receive("timeout",()=>{e(),r("timed out")}).receive("error",()=>{r("error")}),a.send(),this._canPush()||a.trigger("ok",{})})}async _fetchWithTimeout(t,e,r){const a=new AbortController,s=setTimeout(()=>a.abort(),r),i=await this.socket.fetch(t,Object.assign(Object.assign({},e),{signal:a.signal}));return clearTimeout(s),i}_push(t,e,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new gp(this,t,e,r);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(t,e,r){return e}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,e,r){var a,s;const i=t.toLocaleLowerCase(),{close:o,error:l,leave:u,join:d}=fa;if(r&&[o,l,u,d].indexOf(i)>=0&&r!==this._joinRef())return;let m=this._onMessage(i,e,r);if(e&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var y,v,x;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((x=(v=p.filter)===null||v===void 0?void 0:v.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===i}).map(p=>p.callback(m,r)):(s=this.bindings[i])===null||s===void 0||s.filter(p=>{var y,v,x,w,N,_;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const C=p.id,A=(y=p.filter)===null||y===void 0?void 0:y.event;return C&&((v=e.ids)===null||v===void 0?void 0:v.includes(C))&&(A==="*"||(A==null?void 0:A.toLocaleLowerCase())===((x=e.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const C=(N=(w=p==null?void 0:p.filter)===null||w===void 0?void 0:w.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return C==="*"||C===((_=e==null?void 0:e.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof m=="object"&&"ids"in m){const y=m.data,{schema:v,table:x,commit_timestamp:w,type:N,errors:_}=y;m=Object.assign(Object.assign({},{schema:v,table:x,commit_timestamp:w,eventType:N,new:{},old:{},errors:_}),this._getPayloadRecords(y))}p.callback(m,r)})}_isClosed(){return this.state===Cn.closed}_isJoined(){return this.state===Cn.joined}_isJoining(){return this.state===Cn.joining}_isLeaving(){return this.state===Cn.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,e,r){const a=t.toLocaleLowerCase(),s={type:a,filter:e,callback:r};return this.bindings[a]?this.bindings[a].push(s):this.bindings[a]=[s],this}_off(t,e){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(a=>{var s;return!(((s=a.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&fg.isEqual(a.filter,e))}),this}static isEqual(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(fa.close,{},t)}_onError(t){this._on(fa.error,{},e=>t(e))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Cn.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const e={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(e.new=fv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(e.old=fv(t.columns,t.old_record)),e}}const CN=()=>{},DN=typeof WebSocket<"u",EN=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class PN{constructor(t,e){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=vN,this.params={},this.timeout=Hy,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=CN,this.conn=null,this.sendBuffer=[],this.serializer=new xN,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>ga(async()=>{const{default:l}=await Promise.resolve().then(()=>hl);return{default:l}},void 0).then(({default:l})=>l(...o)):i=fetch,(...o)=>i(...o)},this.endPoint=`${t}/${hm.websocket}`,this.httpEndpoint=Gy(t),e!=null&&e.transport?this.transport=e.transport:this.transport=null,e!=null&&e.params&&(this.params=e.params),e!=null&&e.headers&&(this.headers=Object.assign(Object.assign({},this.headers),e.headers)),e!=null&&e.timeout&&(this.timeout=e.timeout),e!=null&&e.logger&&(this.logger=e.logger),e!=null&&e.heartbeatIntervalMs&&(this.heartbeatIntervalMs=e.heartbeatIntervalMs);const a=(r=e==null?void 0:e.params)===null||r===void 0?void 0:r.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=e!=null&&e.reconnectAfterMs?e.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=e!=null&&e.encode?e.encode:(s,i)=>i(JSON.stringify(s)),this.decode=e!=null&&e.decode?e.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Wy(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(e==null?void 0:e.fetch),e!=null&&e.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(e==null?void 0:e.worker)||!1,this.workerUrl=e==null?void 0:e.workerUrl}this.accessToken=(e==null?void 0:e.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(DN){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new AN(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),ga(async()=>{const{default:t}=await import("./browser-D5QA20Nc.js").then(e=>e.b);return{default:t}},__vite__mapDeps([0,1])).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:bN}))}disconnect(t,e){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,e??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const e=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),e}async removeAllChannels(){const t=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.disconnect(),t}log(t,e,r){this.logger(t,e,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Fo.connecting:return Ni.Connecting;case Fo.open:return Ni.Open;case Fo.closing:return Ni.Closing;default:return Ni.Closed}}isConnected(){return this.connectionState()===Ni.Open}channel(t,e={config:{}}){const r=new fg(`realtime:${t}`,e,this);return this.channels.push(r),r}push(t){const{topic:e,event:r,payload:a,ref:s}=t,i=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${e} ${r} (${s})`,a),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){let e=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(e){let r=null;try{r=JSON.parse(atob(e.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=e,this.channels.forEach(a=>{e&&a.updateJoinPayload({access_token:e}),a.joinedOnce&&a._isJoined()&&a._push(fa.access_token,{access_token:e})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(yN,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let e=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));e&&(this.log("transport",`leaving duplicate topic "${t}"`),e.unsubscribe())}_remove(t){this.channels=this.channels.filter(e=>e._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,e=>{let{topic:r,event:a,payload:s,ref:i}=e;i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${a} ${i&&"("+i+")"||""}`,s),this.channels.filter(o=>o._isMember(r)).forEach(o=>o._trigger(a,s,i)),this.stateChangeCallbacks.message.forEach(o=>o(e))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{e.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(e=>e(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(e=>e(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(fa.error))}_appendParams(t,e){if(Object.keys(e).length===0)return t;const r=t.match(/\?/)?"&":"?",a=new URLSearchParams(e);return`${t}${r}${a}`}_workerObjectUrl(t){let e;if(t)e=t;else{const r=new Blob([EN],{type:"application/javascript"});e=URL.createObjectURL(r)}return e}}class AN{constructor(t,e,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Fo.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=r.close}}class pg extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function xr(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class LN extends pg{constructor(t,e){super(t),this.name="StorageApiError",this.status=e}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class pm extends pg{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}}var ON=function(n,t,e,r){function a(s){return s instanceof e?s:new e(function(i){i(s)})}return new(e||(e=Promise))(function(s,i){function o(d){try{u(r.next(d))}catch(f){i(f)}}function l(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?s(d.value):a(d.value).then(o,l)}u((r=r.apply(n,t||[])).next())})};const Ky=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>ga(async()=>{const{default:r}=await Promise.resolve().then(()=>hl);return{default:r}},void 0).then(({default:r})=>r(...e)):t=fetch,(...e)=>t(...e)},TN=()=>ON(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ga(()=>Promise.resolve().then(()=>hl),void 0)).Response:Response}),mm=n=>{if(Array.isArray(n))return n.map(e=>mm(e));if(typeof n=="function"||n!==Object(n))return n;const t={};return Object.entries(n).forEach(([e,r])=>{const a=e.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[a]=mm(r)}),t};var Wi=function(n,t,e,r){function a(s){return s instanceof e?s:new e(function(i){i(s)})}return new(e||(e=Promise))(function(s,i){function o(d){try{u(r.next(d))}catch(f){i(f)}}function l(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?s(d.value):a(d.value).then(o,l)}u((r=r.apply(n,t||[])).next())})};const vp=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),MN=(n,t,e)=>Wi(void 0,void 0,void 0,function*(){const r=yield TN();n instanceof r&&!(e!=null&&e.noResolveJson)?n.json().then(a=>{t(new LN(vp(a),n.status||500))}).catch(a=>{t(new pm(vp(a),a))}):t(new pm(vp(n),n))}),IN=(n,t,e,r)=>{const a={method:n,headers:(t==null?void 0:t.headers)||{}};return n==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(a.body=JSON.stringify(r)),Object.assign(Object.assign({},a),e))};function Zc(n,t,e,r,a,s){return Wi(this,void 0,void 0,function*(){return new Promise((i,o)=>{n(e,IN(t,r,a,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>i(l)).catch(l=>MN(l,o,r))})})}function eh(n,t,e,r){return Wi(this,void 0,void 0,function*(){return Zc(n,"GET",t,e,r)})}function Rs(n,t,e,r,a){return Wi(this,void 0,void 0,function*(){return Zc(n,"POST",t,r,a,e)})}function RN(n,t,e,r,a){return Wi(this,void 0,void 0,function*(){return Zc(n,"PUT",t,r,a,e)})}function $N(n,t,e,r){return Wi(this,void 0,void 0,function*(){return Zc(n,"HEAD",t,Object.assign(Object.assign({},e),{noResolveJson:!0}),r)})}function Jy(n,t,e,r,a){return Wi(this,void 0,void 0,function*(){return Zc(n,"DELETE",t,r,a,e)})}var pn=function(n,t,e,r){function a(s){return s instanceof e?s:new e(function(i){i(s)})}return new(e||(e=Promise))(function(s,i){function o(d){try{u(r.next(d))}catch(f){i(f)}}function l(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?s(d.value):a(d.value).then(o,l)}u((r=r.apply(n,t||[])).next())})};const FN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},vv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class BN{constructor(t,e={},r,a){this.url=t,this.headers=e,this.bucketId=r,this.fetch=Ky(a)}uploadOrUpdate(t,e,r,a){return pn(this,void 0,void 0,function*(){try{let s;const i=Object.assign(Object.assign({},vv),a);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const l=i.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",i.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",i.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=r,o["cache-control"]=`max-age=${i.cacheControl}`,o["content-type"]=i.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),a!=null&&a.headers&&(o=Object.assign(Object.assign({},o),a.headers));const u=this._removeEmptyFolders(e),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:s,headers:o},i!=null&&i.duplex?{duplex:i.duplex}:{})),m=yield f.json();return f.ok?{data:{path:u,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(s){if(xr(s))return{data:null,error:s};throw s}})}upload(t,e,r){return pn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,e,r)})}uploadToSignedUrl(t,e,r,a){return pn(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),i=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${i}`);o.searchParams.set("token",e);try{let l;const u=Object.assign({upsert:vv.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(o.toString(),{method:"PUT",body:l,headers:d}),m=yield f.json();return f.ok?{data:{path:s,fullPath:m.Key},error:null}:{data:null,error:m}}catch(l){if(xr(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,e){return pn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const a=Object.assign({},this.headers);e!=null&&e.upsert&&(a["x-upsert"]="true");const s=yield Rs(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:a}),i=new URL(this.url+s.url),o=i.searchParams.get("token");if(!o)throw new pg("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:o},error:null}}catch(r){if(xr(r))return{data:null,error:r};throw r}})}update(t,e,r){return pn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,e,r)})}move(t,e,r){return pn(this,void 0,void 0,function*(){try{return{data:yield Rs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(xr(a))return{data:null,error:a};throw a}})}copy(t,e,r){return pn(this,void 0,void 0,function*(){try{return{data:{path:(yield Rs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(xr(a))return{data:null,error:a};throw a}})}createSignedUrl(t,e,r){return pn(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),s=yield Rs(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${i}`)},{data:s,error:null}}catch(a){if(xr(a))return{data:null,error:a};throw a}})}createSignedUrls(t,e,r){return pn(this,void 0,void 0,function*(){try{const a=yield Rs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:t},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${s}`):null})),error:null}}catch(a){if(xr(a))return{data:null,error:a};throw a}})}download(t,e){return pn(this,void 0,void 0,function*(){const a=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),i=s?`?${s}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield eh(this.fetch,`${this.url}/${a}/${o}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(xr(o))return{data:null,error:o};throw o}})}info(t){return pn(this,void 0,void 0,function*(){const e=this._getFinalPath(t);try{const r=yield eh(this.fetch,`${this.url}/object/info/${e}`,{headers:this.headers});return{data:mm(r),error:null}}catch(r){if(xr(r))return{data:null,error:r};throw r}})}exists(t){return pn(this,void 0,void 0,function*(){const e=this._getFinalPath(t);try{return yield $N(this.fetch,`${this.url}/object/${e}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(xr(r)&&r instanceof pm){const a=r.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,e){const r=this._getFinalPath(t),a=[],s=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&a.push(s);const o=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});l!==""&&a.push(l);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${u}`)}}}remove(t){return pn(this,void 0,void 0,function*(){try{return{data:yield Jy(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(e){if(xr(e))return{data:null,error:e};throw e}})}list(t,e,r){return pn(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},FN),e),{prefix:t||""});return{data:yield Rs(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(xr(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}}const qN="2.7.1",UN={"X-Client-Info":`storage-js/${qN}`};var ko=function(n,t,e,r){function a(s){return s instanceof e?s:new e(function(i){i(s)})}return new(e||(e=Promise))(function(s,i){function o(d){try{u(r.next(d))}catch(f){i(f)}}function l(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?s(d.value):a(d.value).then(o,l)}u((r=r.apply(n,[])).next())})};class VN{constructor(t,e={},r){this.url=t,this.headers=Object.assign(Object.assign({},UN),e),this.fetch=Ky(r)}listBuckets(){return ko(this,void 0,void 0,function*(){try{return{data:yield eh(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(xr(t))return{data:null,error:t};throw t}})}getBucket(t){return ko(this,void 0,void 0,function*(){try{return{data:yield eh(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(e){if(xr(e))return{data:null,error:e};throw e}})}createBucket(t,e={public:!1}){return ko(this,void 0,void 0,function*(){try{return{data:yield Rs(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(xr(r))return{data:null,error:r};throw r}})}updateBucket(t,e){return ko(this,void 0,void 0,function*(){try{return{data:yield RN(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(xr(r))return{data:null,error:r};throw r}})}emptyBucket(t){return ko(this,void 0,void 0,function*(){try{return{data:yield Rs(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(xr(e))return{data:null,error:e};throw e}})}deleteBucket(t){return ko(this,void 0,void 0,function*(){try{return{data:yield Jy(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(xr(e))return{data:null,error:e};throw e}})}}class zN extends VN{constructor(t,e={},r){super(t,e,r)}from(t){return new BN(this.url,this.headers,t,this.fetch)}}const HN="2.49.4";let fc="";typeof Deno<"u"?fc="deno":typeof document<"u"?fc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?fc="react-native":fc="node";const WN={"X-Client-Info":`supabase-js-${fc}/${HN}`},YN={headers:WN},GN={schema:"public"},KN={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},JN={};var XN=function(n,t,e,r){function a(s){return s instanceof e?s:new e(function(i){i(s)})}return new(e||(e=Promise))(function(s,i){function o(d){try{u(r.next(d))}catch(f){i(f)}}function l(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?s(d.value):a(d.value).then(o,l)}u((r=r.apply(n,t||[])).next())})};const QN=n=>{let t;return n?t=n:typeof fetch>"u"?t=Ty:t=fetch,(...e)=>t(...e)},ZN=()=>typeof Headers>"u"?My:Headers,e_=(n,t,e)=>{const r=QN(e),a=ZN();return(s,i)=>XN(void 0,void 0,void 0,function*(){var o;const l=(o=yield t())!==null&&o!==void 0?o:n;let u=new a(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",n),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},i),{headers:u}))})};var t_=function(n,t,e,r){function a(s){return s instanceof e?s:new e(function(i){i(s)})}return new(e||(e=Promise))(function(s,i){function o(d){try{u(r.next(d))}catch(f){i(f)}}function l(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?s(d.value):a(d.value).then(o,l)}u((r=r.apply(n,[])).next())})};function r_(n){return n.replace(/\/$/,"")}function n_(n,t){const{db:e,auth:r,realtime:a,global:s}=n,{db:i,auth:o,realtime:l,global:u}=t,d={db:Object.assign(Object.assign({},i),e),auth:Object.assign(Object.assign({},o),r),realtime:Object.assign(Object.assign({},l),a),global:Object.assign(Object.assign({},u),s),accessToken:()=>t_(this,void 0,void 0,function*(){return""})};return n.accessToken?d.accessToken=n.accessToken:delete d.accessToken,d}const Xy="2.69.1",Oo=30*1e3,gm=3,bp=gm*Oo,a_="http://localhost:9999",s_="supabase.auth.token",i_={"X-Client-Info":`gotrue-js/${Xy}`},vm="X-Supabase-Api-Version",Qy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},o_=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,l_=6e5;class mg extends Error{constructor(t,e,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=e,this.code=r}}function dt(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class c_ extends mg{constructor(t,e,r){super(t,e,r),this.name="AuthApiError",this.status=e,this.code=r}}function u_(n){return dt(n)&&n.name==="AuthApiError"}class Zy extends mg{constructor(t,e){super(t),this.name="AuthUnknownError",this.originalError=e}}class ti extends mg{constructor(t,e,r,a){super(t,r,a),this.name=e,this.status=r}}class Ms extends ti{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function d_(n){return dt(n)&&n.name==="AuthSessionMissingError"}class yp extends ti{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class id extends ti{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class od extends ti{constructor(t,e=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function h_(n){return dt(n)&&n.name==="AuthImplicitGrantRedirectError"}class bv extends ti{constructor(t,e=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class bm extends ti{constructor(t,e){super(t,"AuthRetryableFetchError",e,void 0)}}function xp(n){return dt(n)&&n.name==="AuthRetryableFetchError"}class yv extends ti{constructor(t,e,r){super(t,"AuthWeakPasswordError",e,"weak_password"),this.reasons=r}}class yc extends ti{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const xv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),wv=` 	
\r=`.split(""),f_=(()=>{const n=new Array(128);for(let t=0;t<n.length;t+=1)n[t]=-1;for(let t=0;t<wv.length;t+=1)n[wv[t].charCodeAt(0)]=-2;for(let t=0;t<xv.length;t+=1)n[xv[t].charCodeAt(0)]=t;return n})();function e2(n,t,e){const r=f_[n];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)e(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Sv(n){const t=[],e=i=>{t.push(String.fromCodePoint(i))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=i=>{g_(i,r,e)};for(let i=0;i<n.length;i+=1)e2(n.charCodeAt(i),a,s);return t.join("")}function p_(n,t){if(n<=127){t(n);return}else if(n<=2047){t(192|n>>6),t(128|n&63);return}else if(n<=65535){t(224|n>>12),t(128|n>>6&63),t(128|n&63);return}else if(n<=1114111){t(240|n>>18),t(128|n>>12&63),t(128|n>>6&63),t(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function m_(n,t){for(let e=0;e<n.length;e+=1){let r=n.charCodeAt(e);if(r>55295&&r<=56319){const a=(r-55296)*1024&65535;r=(n.charCodeAt(e+1)-56320&65535|a)+65536,e+=1}p_(r,t)}}function g_(n,t,e){if(t.utf8seq===0){if(n<=127){e(n);return}for(let r=1;r<6;r+=1)if(!(n>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=n&31;else if(t.utf8seq===3)t.codepoint=n&15;else if(t.utf8seq===4)t.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|n&63,t.utf8seq-=1,t.utf8seq===0&&e(t.codepoint)}}function v_(n){const t=[],e={queue:0,queuedBits:0},r=a=>{t.push(a)};for(let a=0;a<n.length;a+=1)e2(n.charCodeAt(a),e,r);return new Uint8Array(t)}function b_(n){const t=[];return m_(n,e=>t.push(e)),new Uint8Array(t)}function y_(n){return Math.round(Date.now()/1e3)+n}function x_(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const t=Math.random()*16|0;return(n=="x"?t:t&3|8).toString(16)})}const Pa=()=>typeof window<"u"&&typeof document<"u",yi={tested:!1,writable:!1},xc=()=>{if(!Pa())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(yi.tested)return yi.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),yi.tested=!0,yi.writable=!0}catch{yi.tested=!0,yi.writable=!1}return yi.writable};function w_(n){const t={},e=new URL(n);if(e.hash&&e.hash[0]==="#")try{new URLSearchParams(e.hash.substring(1)).forEach((a,s)=>{t[s]=a})}catch{}return e.searchParams.forEach((r,a)=>{t[a]=r}),t}const t2=n=>{let t;return n?t=n:typeof fetch>"u"?t=(...e)=>ga(async()=>{const{default:r}=await Promise.resolve().then(()=>hl);return{default:r}},void 0).then(({default:r})=>r(...e)):t=fetch,(...e)=>t(...e)},S_=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",r2=async(n,t,e)=>{await n.setItem(t,JSON.stringify(e))},ld=async(n,t)=>{const e=await n.getItem(t);if(!e)return null;try{return JSON.parse(e)}catch{return e}},cd=async(n,t)=>{await n.removeItem(t)};class Oh{constructor(){this.promise=new Oh.promiseConstructor((t,e)=>{this.resolve=t,this.reject=e})}}Oh.promiseConstructor=Promise;function wp(n){const t=n.split(".");if(t.length!==3)throw new yc("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!o_.test(t[r]))throw new yc("JWT not in base64url format");return{header:JSON.parse(Sv(t[0])),payload:JSON.parse(Sv(t[1])),signature:v_(t[2]),raw:{header:t[0],payload:t[1]}}}async function N_(n){return await new Promise(t=>{setTimeout(()=>t(null),n)})}function __(n,t){return new Promise((r,a)=>{(async()=>{for(let s=0;s<1/0;s++)try{const i=await n(s);if(!t(s,null,i)){r(i);return}}catch(i){if(!t(s,i)){a(i);return}}})()})}function j_(n){return("0"+n.toString(16)).substr(-2)}function k_(){const t=new Uint32Array(56);if(typeof crypto>"u"){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=e.length;let a="";for(let s=0;s<56;s++)a+=e.charAt(Math.floor(Math.random()*r));return a}return crypto.getRandomValues(t),Array.from(t,j_).join("")}async function C_(n){const e=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",e),a=new Uint8Array(r);return Array.from(a).map(s=>String.fromCharCode(s)).join("")}async function D_(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const e=await C_(n);return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Co(n,t,e=!1){const r=k_();let a=r;e&&(a+="/PASSWORD_RECOVERY"),await r2(n,`${t}-code-verifier`,a);const s=await D_(r);return[s,r===s?"plain":"s256"]}const E_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function P_(n){const t=n.headers.get(vm);if(!t||!t.match(E_))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function A_(n){if(!n)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(n<=t)throw new Error("JWT has expired")}function L_(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var O_=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(e[r[a]]=n[r[a]]);return e};const xi=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),T_=[502,503,504];async function Nv(n){var t;if(!S_(n))throw new bm(xi(n),0);if(T_.includes(n.status))throw new bm(xi(n),n.status);let e;try{e=await n.json()}catch(s){throw new Zy(xi(s),s)}let r;const a=P_(n);if(a&&a.getTime()>=Qy["2024-01-01"].timestamp&&typeof e=="object"&&e&&typeof e.code=="string"?r=e.code:typeof e=="object"&&e&&typeof e.error_code=="string"&&(r=e.error_code),r){if(r==="weak_password")throw new yv(xi(e),n.status,((t=e.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Ms}else if(typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0))throw new yv(xi(e),n.status,e.weak_password.reasons);throw new c_(xi(e),n.status||500,r)}const M_=(n,t,e,r)=>{const a={method:n,headers:(t==null?void 0:t.headers)||{}};return n==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),e))};async function vt(n,t,e,r){var a;const s=Object.assign({},r==null?void 0:r.headers);s[vm]||(s[vm]=Qy["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const i=(a=r==null?void 0:r.query)!==null&&a!==void 0?a:{};r!=null&&r.redirectTo&&(i.redirect_to=r.redirectTo);const o=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await I_(n,t,e+o,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function I_(n,t,e,r,a,s){const i=M_(t,r,a,s);let o;try{o=await n(e,Object.assign({},i))}catch(l){throw console.error(l),new bm(xi(l),0)}if(o.ok||await Nv(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(l){await Nv(l)}}function Is(n){var t;let e=null;B_(n)&&(e=Object.assign({},n),n.expires_at||(e.expires_at=y_(n.expires_in)));const r=(t=n.user)!==null&&t!==void 0?t:n;return{data:{session:e,user:r},error:null}}function _v(n){const t=Is(n);return!t.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((e,r)=>e&&typeof r=="string",!0)&&(t.data.weak_password=n.weak_password),t}function Fs(n){var t;return{data:{user:(t=n.user)!==null&&t!==void 0?t:n},error:null}}function R_(n){return{data:n,error:null}}function $_(n){const{action_link:t,email_otp:e,hashed_token:r,redirect_to:a,verification_type:s}=n,i=O_(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:e,hashed_token:r,redirect_to:a,verification_type:s},l=Object.assign({},i);return{data:{properties:o,user:l},error:null}}function F_(n){return n}function B_(n){return n.access_token&&n.refresh_token&&n.expires_in}var q_=function(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(n);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(n,r[a])&&(e[r[a]]=n[r[a]]);return e};class U_{constructor({url:t="",headers:e={},fetch:r}){this.url=t,this.headers=e,this.fetch=t2(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,e="global"){try{return await vt(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,e={}){try{return await vt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:Fs})}catch(r){if(dt(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:e}=t,r=q_(t,["options"]),a=Object.assign(Object.assign({},r),e);return"newEmail"in r&&(a.new_email=r==null?void 0:r.newEmail,delete a.newEmail),await vt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:$_,redirectTo:e==null?void 0:e.redirectTo})}catch(e){if(dt(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(t){try{return await vt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Fs})}catch(e){if(dt(e))return{data:{user:null},error:e};throw e}}async listUsers(t){var e,r,a,s,i,o,l;try{const u={nextPage:null,lastPage:0,total:0},d=await vt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(e=t==null?void 0:t.page)===null||e===void 0?void 0:e.toString())!==null&&r!==void 0?r:"",per_page:(s=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&s!==void 0?s:""},xform:F_});if(d.error)throw d.error;const f=await d.json(),m=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return p.length>0&&(p.forEach(y=>{const v=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(y.split(";")[1].split("=")[1]);u[`${x}Page`]=v}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(dt(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await vt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Fs})}catch(e){if(dt(e))return{data:{user:null},error:e};throw e}}async updateUserById(t,e){try{return await vt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:e,headers:this.headers,xform:Fs})}catch(r){if(dt(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,e=!1){try{return await vt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:e},xform:Fs})}catch(r){if(dt(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){try{const{data:e,error:r}=await vt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:e,error:r}}catch(e){if(dt(e))return{data:null,error:e};throw e}}async _deleteFactor(t){try{return{data:await vt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(e){if(dt(e))return{data:null,error:e};throw e}}}const V_={getItem:n=>xc()?globalThis.localStorage.getItem(n):null,setItem:(n,t)=>{xc()&&globalThis.localStorage.setItem(n,t)},removeItem:n=>{xc()&&globalThis.localStorage.removeItem(n)}};function jv(n={}){return{getItem:t=>n[t]||null,setItem:(t,e)=>{n[t]=e},removeItem:t=>{delete n[t]}}}function z_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Do={debug:!!(globalThis&&xc()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class n2 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class H_ extends n2{}async function W_(n,t,e){Do.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Do.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async a=>{if(a){Do.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,a.name);try{return await e()}finally{Do.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,a.name)}}else{if(t===0)throw Do.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new H_(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Do.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await e()}}))}z_();const Y_={url:a_,storageKey:s_,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:i_,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function kv(n,t,e){return await e()}class Cc{constructor(t){var e,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Cc.nextInstanceID,Cc.nextInstanceID+=1,this.instanceID>0&&Pa()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},Y_),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new U_({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=t2(a.fetch),this.lock=a.lock||kv,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Pa()&&(!((e=globalThis==null?void 0:globalThis.navigator)===null||e===void 0)&&e.locks)?this.lock=W_:this.lock=kv,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?a.storage?this.storage=a.storage:xc()?this.storage=V_:(this.memoryStorage={},this.storage=jv(this.memoryStorage)):(this.memoryStorage={},this.storage=jv(this.memoryStorage)),Pa()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Xy}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const e=w_(window.location.href);let r="none";if(this._isImplicitGrantCallback(e)?r="implicit":await this._isPKCECallback(e)&&(r="pkce"),Pa()&&this.detectSessionInUrl&&r!=="none"){const{data:a,error:s}=await this._getSessionFromURL(e,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),h_(s)){const l=(t=s.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:i,redirectType:o}=a;return this._debug("#_initialize()","detected session in URL",i,"redirect type",o),await this._saveSession(i),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return dt(e)?{error:e}:{error:new Zy("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var e,r,a;try{const s=await vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(e=t==null?void 0:t.options)===null||e===void 0?void 0:e.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Is}),{data:i,error:o}=s;if(o||!i)return{data:{user:null,session:null},error:o};const l=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(dt(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var e,r,a;try{let s;if("email"in t){const{email:d,password:f,options:m}=t;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await Co(this.storage,this.storageKey)),s=await vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:f,data:(e=m==null?void 0:m.data)!==null&&e!==void 0?e:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:y},xform:Is})}else if("phone"in t){const{phone:d,password:f,options:m}=t;s=await vt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(a=m==null?void 0:m.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Is})}else throw new id("You must provide either an email or phone number and a password");const{data:i,error:o}=s;if(o||!i)return{data:{user:null,session:null},error:o};const l=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(s){if(dt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let e;if("email"in t){const{email:s,password:i,options:o}=t;e=await vt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:_v})}else if("phone"in t){const{phone:s,password:i,options:o}=t;e=await vt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:_v})}else throw new id("You must provide either an email or phone number and a password");const{data:r,error:a}=e;return a?{data:{user:null,session:null},error:a}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new yp}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:a})}catch(e){if(dt(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOAuth(t){var e,r,a,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(e=t.options)===null||e===void 0?void 0:e.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const e=await ld(this.storage,`${this.storageKey}-code-verifier`),[r,a]=(e??"").split("/");try{const{data:s,error:i}=await vt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Is});if(await cd(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new yp}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:a??null}),error:i})}catch(s){if(dt(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:e,provider:r,token:a,access_token:s,nonce:i}=t,o=await vt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:a,access_token:s,nonce:i,gotrue_meta_security:{captcha_token:e==null?void 0:e.captchaToken}},xform:Is}),{data:l,error:u}=o;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new yp}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(e){if(dt(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOtp(t){var e,r,a,s,i;try{if("email"in t){const{email:o,options:l}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Co(this.storage,this.storageKey));const{error:f}=await vt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(e=l==null?void 0:l.data)!==null&&e!==void 0?e:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:o,options:l}=t,{data:u,error:d}=await vt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(a=l==null?void 0:l.data)!==null&&a!==void 0?a:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(i=l==null?void 0:l.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new id("You must provide either an email or phone number.")}catch(o){if(dt(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var e,r;try{let a,s;"options"in t&&(a=(e=t.options)===null||e===void 0?void 0:e.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:i,error:o}=await vt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:a,xform:Is});if(o)throw o;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,u=i.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(a){if(dt(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var e,r,a;try{let s=null,i=null;return this.flowType==="pkce"&&([s,i]=await Co(this.storage,this.storageKey)),await vt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(e=t.options)===null||e===void 0?void 0:e.redirectTo)!==null&&r!==void 0?r:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:i}),headers:this.headers,xform:R_})}catch(s){if(dt(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:e},error:r}=t;if(r)throw r;if(!e)throw new Ms;const{error:a}=await vt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:e.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(dt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const e=`${this.url}/resend`;if("email"in t){const{email:r,type:a,options:s}=t,{error:i}=await vt(this.fetch,"POST",e,{headers:this.headers,body:{email:r,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:r,type:a,options:s}=t,{data:i,error:o}=await vt(this.fetch,"POST",e,{headers:this.headers,body:{phone:r,type:a,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:o}}throw new id("You must provide either an email or phone number and a type")}catch(e){if(dt(e))return{data:{user:null,session:null},error:e};throw e}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(t,e){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await r,await e()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=e();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const e=await this.__loadSession();return await t(e)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const e=await ld(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",e),e!==null&&(this._isValidSession(e)?t=e:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<bp:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.storage.isServer){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,d)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,d))})}return{data:{session:t},error:null}}const{session:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await vt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Fs}):await this._useSession(async e=>{var r,a,s;const{data:i,error:o}=e;if(o)throw o;return!(!((r=i.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ms}:await vt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&s!==void 0?s:void 0,xform:Fs})})}catch(e){if(dt(e))return d_(e)&&(await this._removeSession(),await cd(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:e};throw e}}async updateUser(t,e={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,e))}async _updateUser(t,e={}){try{return await this._useSession(async r=>{const{data:a,error:s}=r;if(s)throw s;if(!a.session)throw new Ms;const i=a.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await Co(this.storage,this.storageKey));const{data:u,error:d}=await vt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:e==null?void 0:e.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:i.access_token,xform:Fs});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(r){if(dt(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ms;const e=Date.now()/1e3;let r=e,a=!0,s=null;const{payload:i}=wp(t.access_token);if(i.exp&&(r=i.exp,a=r<=e),a){const{session:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)throw l;s={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:r-e,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(e){if(dt(e))return{data:{session:null,user:null},error:e};throw e}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async e=>{var r;if(!t){const{data:i,error:o}=e;if(o)throw o;t=(r=i.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Ms;const{session:a,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(e){if(dt(e))return{data:{user:null,session:null},error:e};throw e}}async _getSessionFromURL(t,e){try{if(!Pa())throw new od("No browser detected.");if(t.error||t.error_description||t.error_code)throw new od(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(e){case"implicit":if(this.flowType==="pkce")throw new bv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new od("Not a valid implicit grant flow url.");break;default:}if(e==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new bv("No code detected.");const{data:N,error:_}=await this._exchangeCodeForSession(t.code);if(_)throw _;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:a,access_token:s,refresh_token:i,expires_in:o,expires_at:l,token_type:u}=t;if(!s||!o||!i||!u)throw new od("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let m=d+f;l&&(m=parseInt(l));const p=m-d;p*1e3<=Oo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const y=m-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,m,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,m,d);const{data:v,error:x}=await this._getUser(s);if(x)throw x;const w={provider_token:r,provider_refresh_token:a,access_token:s,expires_in:f,expires_at:m,refresh_token:i,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:t.type},error:null}}catch(r){if(dt(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const e=await ld(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&e)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async e=>{var r;const{data:a,error:s}=e;if(s)return{error:s};const i=(r=a.session)===null||r===void 0?void 0:r.access_token;if(i){const{error:o}=await this.admin.signOut(i,t);if(o&&!(u_(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await cd(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const e=x_(),r={id:e,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",e),this.stateChangeEmitters.delete(e)}};return this._debug("#onAuthStateChange()","registered callback with id",e),this.stateChangeEmitters.set(e,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(e)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async e=>{var r,a;try{const{data:{session:s},error:i}=e;if(i)throw i;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,e={}){let r=null,a=null;this.flowType==="pkce"&&([r,a]=await Co(this.storage,this.storageKey,!0));try{return await vt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:a,gotrue_meta_security:{captcha_token:e.captchaToken}},headers:this.headers,redirectTo:e.redirectTo})}catch(s){if(dt(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:e,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=e.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(e){if(dt(e))return{data:null,error:e};throw e}}async linkIdentity(t){var e;try{const{data:r,error:a}=await this._useSession(async s=>{var i,o,l,u,d;const{data:f,error:m}=s;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await vt(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Pa()&&!(!((e=t.options)===null||e===void 0)&&e.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(dt(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async e=>{var r,a;const{data:s,error:i}=e;if(i)throw i;return await vt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0})})}catch(e){if(dt(e))return{data:null,error:e};throw e}}async _refreshAccessToken(t){const e=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(e,"begin");try{const r=Date.now();return await __(async a=>(a>0&&await N_(200*Math.pow(2,a-1)),this._debug(e,"refreshing attempt",a),await vt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Is})),(a,s)=>{const i=200*Math.pow(2,a);return s&&xp(s)&&Date.now()+i-r<Oo})}catch(r){if(this._debug(e,"error",r),dt(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(e,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,e){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:e.redirectTo,scopes:e.scopes,queryParams:e.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",e,"url",r),Pa()&&!e.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t;const e="#_recoverAndRefresh()";this._debug(e,"begin");try{const r=await ld(this.storage,this.storageKey);if(this._debug(e,"session from storage",r),!this._isValidSession(r)){this._debug(e,"session is not valid"),r!==null&&await this._removeSession();return}const a=((t=r.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<bp;if(this._debug(e,`session has${a?"":" not"} expired with margin of ${bp}s`),a){if(this.autoRefreshToken&&r.refresh_token){const{error:s}=await this._callRefreshToken(r.refresh_token);s&&(console.error(s),xp(s)||(this._debug(e,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(e,"error",r),console.error(r);return}finally{this._debug(e,"end")}}async _callRefreshToken(t){var e,r;if(!t)throw new Ms;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Oh;const{data:s,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!s.session)throw new Ms;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={session:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(a,"error",s),dt(s)){const i={session:null,error:s};return xp(s)||await this._removeSession(),(e=this.refreshingDeferred)===null||e===void 0||e.resolve(i),i}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,e,r=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",e,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:e});const s=[],i=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,e)}catch(l){s.push(l)}});if(await Promise.all(i),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await r2(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await cd(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Pa()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(e){console.error("removing visibilitychange callback failed",e)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Oo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async e=>{const{data:{session:r}}=e;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((r.expires_at*1e3-t)/Oo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Oo}ms, refresh threshold is ${gm} ticks`),a<=gm&&await this._callRefreshToken(r.refresh_token)})}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof n2)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Pa()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const e=`#_onVisibilityChanged(${t})`;this._debug(e,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(e,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,e,r){const a=[`provider=${encodeURIComponent(e)}`];if(r!=null&&r.redirectTo&&a.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&a.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,i]=await Co(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(i)}`});a.push(o.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);a.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&a.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async e=>{var r;const{data:a,error:s}=e;return s?{data:null,error:s}:await vt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(e){if(dt(e))return{data:null,error:e};throw e}}async _enroll(t){try{return await this._useSession(async e=>{var r,a;const{data:s,error:i}=e;if(i)return{data:null,error:i};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await vt(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((a=l==null?void 0:l.totp)===null||a===void 0)&&a.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(e){if(dt(e))return{data:null,error:e};throw e}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async e=>{var r;const{data:a,error:s}=e;if(s)return{data:null,error:s};const{data:i,error:o}=await vt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:o})})}catch(e){if(dt(e))return{data:null,error:e};throw e}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async e=>{var r;const{data:a,error:s}=e;return s?{data:null,error:s}:await vt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token})})}catch(e){if(dt(e))return{data:null,error:e};throw e}})}async _challengeAndVerify(t){const{data:e,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:e.id,code:t.code})}async _listFactors(){const{data:{user:t},error:e}=await this.getUser();if(e)return{data:null,error:e};const r=(t==null?void 0:t.factors)||[],a=r.filter(i=>i.factor_type==="totp"&&i.status==="verified"),s=r.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:r,totp:a,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var e,r;const{data:{session:a},error:s}=t;if(s)return{data:null,error:s};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=wp(a.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((r=(e=a.user.factors)===null||e===void 0?void 0:e.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,e={keys:[]}){let r=e.keys.find(i=>i.kid===t);if(r||(r=this.jwks.keys.find(i=>i.kid===t),r&&this.jwks_cached_at+l_>Date.now()))return r;const{data:a,error:s}=await vt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;if(!a.keys||a.keys.length===0)throw new yc("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),r=a.keys.find(i=>i.kid===t),!r)throw new yc("No matching signing key found in JWKS");return r}async getClaims(t,e={keys:[]}){try{let r=t;if(!r){const{data:p,error:y}=await this.getSession();if(y||!p.session)return{data:null,error:y};r=p.session.access_token}const{header:a,payload:s,signature:i,raw:{header:o,payload:l}}=wp(r);if(A_(s.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:s,header:a,signature:i},error:null}}const u=L_(a.alg),d=await this.fetchJwk(a.kid,e),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,i,b_(`${o}.${l}`)))throw new yc("Invalid JWT signature");return{data:{claims:s,header:a,signature:i},error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}}}Cc.nextInstanceID=0;const G_=Cc;class K_ extends G_{constructor(t){super(t)}}var J_=function(n,t,e,r){function a(s){return s instanceof e?s:new e(function(i){i(s)})}return new(e||(e=Promise))(function(s,i){function o(d){try{u(r.next(d))}catch(f){i(f)}}function l(d){try{u(r.throw(d))}catch(f){i(f)}}function u(d){d.done?s(d.value):a(d.value).then(o,l)}u((r=r.apply(n,[])).next())})};class X_{constructor(t,e,r){var a,s,i;if(this.supabaseUrl=t,this.supabaseKey=e,!t)throw new Error("supabaseUrl is required.");if(!e)throw new Error("supabaseKey is required.");const o=r_(t);this.realtimeUrl=`${o}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${o}/auth/v1`,this.storageUrl=`${o}/storage/v1`,this.functionsUrl=`${o}/functions/v1`;const l=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:GN,realtime:JN,auth:Object.assign(Object.assign({},KN),{storageKey:l}),global:YN},d=n_(r??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=d.auth)!==null&&i!==void 0?i:{},this.headers,d.global.fetch),this.fetch=e_(e,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new mN(`${o}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new HS(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new zN(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,e;return J_(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(e=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:a,storageKey:s,flowType:i,lock:o,debug:l},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new K_({url:this.authUrl,headers:Object.assign(Object.assign({},f),u),storageKey:s,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:a,flowType:i,lock:o,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new PN(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,r)=>{this._handleTokenChanged(e,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Q_=(n,t,e)=>new X_(n,t,e),Z_="https://jlkwxwrimwntrytbjemx.supabase.co",ej="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Impsa3d4d3JpbXdudHJ5dGJqZW14Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY3NTE4NDAsImV4cCI6MjA3MjMyNzg0MH0.1WJWTf6A-8MJqI4rXOmIoK5DbpYIiMBpnfA023L61Q0",We=Q_(Z_,ej,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0},global:{headers:{"x-client-info":"business-management-system"}}}),a2=Object.freeze(Object.defineProperty({__proto__:null,supabase:We},Symbol.toStringTag,{value:"Module"})),s2=V.createContext(void 0),Sp=[{id:"550e8400-e29b-41d4-a716-446655440000",email:"hidromineralbrasil@gmail.com",password:"Agua1050",profile:{id:"550e8400-e29b-41d4-a716-446655440000",role:"admin",full_name:"HidroMineral Admin"}},{id:"550e8400-e29b-41d4-a716-446655440001",email:"vendor@example.com",password:"vendor123",profile:{id:"550e8400-e29b-41d4-a716-446655440001",role:"vendor",full_name:"Vendor User"}}];function tj({children:n}){const[t,e]=V.useState(()=>{const u=localStorage.getItem("user");return u?JSON.parse(u):null}),[r,a]=V.useState(()=>{const u=localStorage.getItem("profile");return u?JSON.parse(u):null}),s=async u=>{try{const{data:d}=await We.from("profiles").select("*").eq("id",u.id).single();if(!d){const{error:f}=await We.from("profiles").insert([{id:u.id,role:u.profile.role,full_name:u.profile.full_name}]);f&&console.log("Profile creation skipped (might already exist):",f.message)}}catch(d){console.log("Profile check/creation skipped:",d)}};V.useEffect(()=>{(async()=>{const{data:{session:f}}=await We.auth.getSession();if(f!=null&&f.user){const{data:m}=await We.from("profiles").select("*").eq("id",f.user.id).single();if(m){const p={id:f.user.id,email:f.user.email||""};e(p),a(m)}}else{const m=localStorage.getItem("user");if(m){const p=JSON.parse(m),y=Sp.find(v=>v.id===p.id);y?await s(y):(e(null),a(null),localStorage.removeItem("user"),localStorage.removeItem("profile"))}}})();const{data:{subscription:d}}=We.auth.onAuthStateChange(async(f,m)=>{if(f==="SIGNED_OUT"||!(m!=null&&m.user)){const p=JSON.parse(localStorage.getItem("user")||"null");p&&Sp.some(v=>v.id===p.id)||(e(null),a(null),localStorage.removeItem("user"),localStorage.removeItem("profile"))}else if(f==="SIGNED_IN"&&(m!=null&&m.user)){const{data:p}=await We.from("profiles").select("*").eq("id",m.user.id).single();if(p){const y={id:m.user.id,email:m.user.email||""};e(y),a(p)}}});return()=>d.unsubscribe()},[]),V.useEffect(()=>{t?localStorage.setItem("user",JSON.stringify(t)):localStorage.removeItem("user")},[t]),V.useEffect(()=>{r?localStorage.setItem("profile",JSON.stringify(r)):localStorage.removeItem("profile")},[r]);const l={user:t,profile:r,signIn:async(u,d)=>{try{const f=Sp.find(y=>y.email===u&&y.password===d);if(f){await s(f);const y={id:f.id,email:f.email};return e(y),a(f.profile),{user:y}}const{data:m,error:p}=await We.auth.signInWithPassword({email:u,password:d});if(m.user&&!p){const{data:y,error:v}=await We.from("profiles").select("*").eq("id",m.user.id).single();if(y&&!v){const x={id:m.user.id,email:m.user.email||""};return e(x),a(y),{user:x}}else return await We.auth.signOut(),{error:{message:"Perfil de usurio no encontrado. Verifique se o vendedor foi cadastrado corretamente."}}}return p?p.message.includes("Invalid login credentials")?{error:{message:"Email ou senha incorretos. Verifique suas credenciais."}}:{error:{message:p.message}}:{error:{message:"Credenciais invlidas. Verifique email e senha."}}}catch(f){return console.error("Authentication error:",f),{error:{message:"Erro de conexo. Tente novamente."}}}},signOut:async()=>{try{await We.auth.signOut()}catch(u){console.error("Sign out error:",u)}e(null),a(null),localStorage.removeItem("user"),localStorage.removeItem("profile")}};return c.jsx(s2.Provider,{value:l,children:n})}function Jn(){const n=V.useContext(s2);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n}const rj=V.createContext(void 0);function nj({children:n}){const[t,e]=V.useState(()=>{const r=localStorage.getItem("companyLogo");return r||null});return V.useEffect(()=>{t&&localStorage.setItem("companyLogo",t)},[t]),c.jsx(rj.Provider,{value:{logoUrl:t,setLogoUrl:e},children:n})}function th(){return c.jsx("div",{className:"flex flex-col items-center",children:c.jsx("img",{src:"/Imagem do WhatsApp de 2025-06-07 (s) 14.47.51_4a694503 (1).png",alt:"HidroMineral - Mineralizador de gua",className:"h-24 object-contain mb-2"})})}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var aj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),nt=(n,t)=>{const e=V.forwardRef(({color:r="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:o="",children:l,...u},d)=>V.createElement("svg",{ref:d,...aj,width:a,height:a,stroke:r,strokeWidth:i?Number(s)*24/Number(a):s,className:["lucide",`lucide-${sj(n)}`,o].join(" "),...u},[...t.map(([f,m])=>V.createElement(f,m)),...Array.isArray(l)?l:[l]]));return e.displayName=`${n}`,e};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=nt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=nt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=nt("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=nt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=nt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=nt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=nt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=nt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=nt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=nt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=nt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=nt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=nt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=nt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=nt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=nt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=nt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=nt("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=nt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=nt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=nt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=nt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=nt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=nt("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=nt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lj=nt("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=nt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=nt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=nt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=nt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ec=nt("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=nt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=nt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=nt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=nt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=nt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=nt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=nt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=nt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=nt("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=nt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=nt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=nt("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=nt("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=nt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function fj(){const[n,t]=V.useState(""),[e,r]=V.useState(""),[a,s]=V.useState(""),[i,o]=V.useState(!1),[l,u]=V.useState(!1),[d,f]=V.useState(""),[m,p]=V.useState(""),[y,v]=V.useState(""),[x,w]=V.useState("admin"),[N,_]=V.useState(!1),{signIn:C}=Jn(),A=on(),B=async E=>{E.preventDefault(),o(!0),s("");try{const{user:U,error:L}=await C(n,e);L?s(L.message):U&&A(x==="vendor"?"/vendor":"/admin")}catch(U){s("Ocorreu um erro ao conectar com o servidor. Por favor, tente novamente."),console.error("Login error:",U)}finally{o(!1)}},D=async E=>{if(E.preventDefault(),m!==y){s("As senhas no coincidem");return}o(!0);try{if(d){const{error:U}=await We.auth.updateUser({email:d});if(U)throw new Error(`Erro ao atualizar email: ${U.message}`)}if(m){const{error:U}=await We.auth.updateUser({password:m});if(U)throw new Error(`Erro ao atualizar senha: ${U.message}`)}alert("Credenciais atualizadas com sucesso! Por favor, faa login novamente."),u(!1),f(""),p(""),v(""),await We.auth.signOut()}catch(U){s(U instanceof Error?U.message:"Erro ao atualizar credenciais")}finally{o(!1)}};return c.jsxs("div",{className:"min-h-screen flex items-center justify-center",style:{background:"linear-gradient(135deg, #e0f7fa 0%, #80deea 50%, #00acc1 100%)",backgroundSize:"cover",backgroundAttachment:"fixed"},children:[c.jsx("div",{className:"max-w-md w-full mx-4",children:c.jsxs("div",{className:"bg-white bg-opacity-95 rounded-2xl shadow-xl p-8 backdrop-blur-sm",children:[c.jsxs("div",{className:"flex flex-col items-center mb-8",children:[c.jsx(th,{}),c.jsx("p",{className:"text-cyan-600 font-medium",children:"Sistema Oficial"}),c.jsxs("button",{type:"button",onClick:()=>_(!0),className:"mt-3 flex items-center text-sm text-cyan-600 hover:text-cyan-800 transition-colors",children:[c.jsx(Av,{className:"h-4 w-4 mr-1"}),"Informaes de Acesso"]})]}),a&&c.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4 text-sm",children:a}),c.jsxs("form",{onSubmit:B,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"E-mail"}),c.jsx("input",{id:"email",type:"email",required:!0,value:n,onChange:E=>t(E.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500",placeholder:"seu@email.com",disabled:i})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Senha"}),c.jsx("input",{id:"password",type:"password",required:!0,value:e,onChange:E=>r(E.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500",placeholder:"",disabled:i})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700",children:"Tipo de Acesso"}),c.jsxs("select",{id:"role",value:x,onChange:E=>w(E.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500",disabled:i,children:[c.jsx("option",{value:"admin",children:"Administrativo"}),c.jsx("option",{value:"vendor",children:"Vendedor"})]})]}),c.jsx("div",{className:"flex items-center justify-between",children:c.jsx("button",{type:"button",onClick:()=>u(!0),className:"text-sm text-cyan-600 hover:text-cyan-500",children:"Redefinir Credenciais"})}),c.jsx("button",{type:"submit",disabled:i,className:`w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white ${i?"bg-cyan-400 cursor-not-allowed":"bg-cyan-600 hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-cyan-500"} transition-colors duration-200`,children:i?"Entrando...":"Entrar no Sistema"})]})]})}),c.jsx(en,{open:N,onOpenChange:_,children:c.jsxs(tn,{children:[c.jsx(rn,{className:"fixed inset-0 bg-black/50"}),c.jsxs(nn,{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white rounded-lg p-6 w-[90vw] max-w-[500px]",children:[c.jsxs(an,{className:"text-xl font-semibold mb-4 flex items-center",children:[c.jsx(Av,{className:"h-5 w-5 mr-2 text-cyan-600"}),"Informaes de Acesso"]}),c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-cyan-50 border border-blue-200 rounded-lg p-4",children:[c.jsx("h3",{className:"text-sm font-medium text-blue-800 mb-3",children:" Como Acessar o Sistema:"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"bg-white/70 rounded-lg p-3",children:[c.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:" Administrador (Demonstrao)"}),c.jsxs("div",{className:"text-sm text-blue-700",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Email:"})," hidromineralbrasil@gmail.com"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Senha:"})," Agua1050"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Tipo:"})," Administrativo"]})]})]}),c.jsxs("div",{className:"bg-white/70 rounded-lg p-3",children:[c.jsx("h4",{className:"font-medium text-green-900 mb-2",children:" Vendedores"}),c.jsxs("div",{className:"text-sm text-green-700",children:[c.jsxs("p",{children:[c.jsx("strong",{children:"Vendedores Reais:"})," Use as credenciais criadas pelo administrador"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Demo:"})," vendor@example.com / vendor123"]}),c.jsxs("p",{children:[c.jsx("strong",{children:"Tipo:"})," Vendedor"]})]})]})]}),c.jsxs("div",{className:"mt-4 bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:[c.jsx("h4",{className:"font-medium text-yellow-800 mb-2",children:" Importante"}),c.jsxs("div",{className:"text-xs text-yellow-700 space-y-1",children:[c.jsxs("p",{children:[" Selecione o ",c.jsx("strong",{children:"tipo de acesso correto"})," antes de fazer login"]}),c.jsx("p",{children:" Vendedores devem usar credenciais criadas pelo admin"}),c.jsx("p",{children:" Em caso de problemas, contate o administrador"})]})]})]})}),c.jsx("div",{className:"flex justify-end mt-6",children:c.jsx("button",{onClick:()=>_(!1),className:"px-4 py-2 bg-cyan-600 text-white rounded-md hover:bg-cyan-700 transition-colors",children:"Entendi"})}),c.jsx(sn,{className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:c.jsx(Lr,{size:20})})]})]})}),c.jsx(en,{open:l,onOpenChange:u,children:c.jsxs(tn,{children:[c.jsx(rn,{className:"fixed inset-0 bg-black/50"}),c.jsxs(nn,{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white rounded-lg p-6 w-[90vw] max-w-[400px]",children:[c.jsx(an,{className:"text-xl font-semibold mb-4",children:"Redefinir Credenciais"}),c.jsxs("form",{onSubmit:D,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Novo Email"}),c.jsx("input",{type:"email",value:d,onChange:E=>f(E.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"novo@email.com"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nova Senha"}),c.jsx("input",{type:"password",value:m,onChange:E=>p(E.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Confirmar Nova Senha"}),c.jsx("input",{type:"password",value:y,onChange:E=>v(E.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),c.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[c.jsx("button",{type:"button",onClick:()=>u(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-md",children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:!d&&!m,className:"px-4 py-2 text-sm font-medium text-white bg-cyan-600 hover:bg-cyan-700 rounded-md disabled:bg-gray-400 disabled:cursor-not-allowed",children:"Confirmar"})]})]}),c.jsx(sn,{className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:c.jsx(Lr,{size:20})})]})]})})]})}const pj={lessThanXSeconds:{one:"menos de um segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"meio minuto",lessThanXMinutes:{one:"menos de um minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"cerca de 1 hora",other:"cerca de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 dia",other:"{{count}} dias"},aboutXWeeks:{one:"cerca de 1 semana",other:"cerca de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"cerca de 1 ms",other:"cerca de {{count}} meses"},xMonths:{one:"1 ms",other:"{{count}} meses"},aboutXYears:{one:"cerca de 1 ano",other:"cerca de {{count}} anos"},xYears:{one:"1 ano",other:"{{count}} anos"},overXYears:{one:"mais de 1 ano",other:"mais de {{count}} anos"},almostXYears:{one:"quase 1 ano",other:"quase {{count}} anos"}},mj=(n,t,e)=>{let r;const a=pj[n];return typeof a=="string"?r=a:t===1?r=a.one:r=a.other.replace("{{count}}",String(t)),e!=null&&e.addSuffix?e.comparison&&e.comparison>0?"em "+r:"h "+r:r},gj={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/yyyy"},vj={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},bj={full:"{{date}} 's' {{time}}",long:"{{date}} 's' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},yj={date:mp({formats:gj,defaultWidth:"full"}),time:mp({formats:vj,defaultWidth:"full"}),dateTime:mp({formats:bj,defaultWidth:"full"})},xj={lastWeek:n=>{const t=n.getDay();return"'"+(t===0||t===6?"ltimo":"ltima")+"' eeee 's' p"},yesterday:"'ontem s' p",today:"'hoje s' p",tomorrow:"'amanh s' p",nextWeek:"eeee 's' p",other:"P"},wj=(n,t,e,r)=>{const a=xj[n];return typeof a=="function"?a(t):a},Sj={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","depois de cristo"]},Nj={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},_j={narrow:["j","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez"],wide:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]},jj={narrow:["D","S","T","Q","Q","S","S"],short:["dom","seg","ter","qua","qui","sex","sab"],abbreviated:["domingo","segunda","tera","quarta","quinta","sexta","sbado"],wide:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"]},kj={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"manh",afternoon:"tarde",evening:"tarde",night:"noite"}},Cj={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},abbreviated:{am:"AM",pm:"PM",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"},wide:{am:"a.m.",pm:"p.m.",midnight:"meia-noite",noon:"meio-dia",morning:"da manh",afternoon:"da tarde",evening:"da tarde",night:"da noite"}},Dj=(n,t)=>{const e=Number(n);return(t==null?void 0:t.unit)==="week"?e+"":e+""},Ej={ordinalNumber:Dj,era:nc({values:Sj,defaultWidth:"wide"}),quarter:nc({values:Nj,defaultWidth:"wide",argumentCallback:n=>n-1}),month:nc({values:_j,defaultWidth:"wide"}),day:nc({values:jj,defaultWidth:"wide"}),dayPeriod:nc({values:kj,defaultWidth:"wide",formattingValues:Cj,defaultFormattingWidth:"wide"})},Pj=/^(\d+)[o]?/i,Aj=/\d+/i,Lj={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|d\.?\s?c\.?)/i,wide:/^(antes de cristo|depois de cristo)/i},Oj={any:[/^ac/i,/^dc/i],wide:[/^antes de cristo/i,/^depois de cristo/i]},Tj={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},Mj={any:[/1/i,/2/i,/3/i,/4/i]},Ij={narrow:/^[jfmajsond]/i,abbreviated:/^(jan|fev|mar|abr|mai|jun|jul|ago|set|out|nov|dez)/i,wide:/^(janeiro|fevereiro|maro|abril|maio|junho|julho|agosto|setembro|outubro|novembro|dezembro)/i},Rj={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^fev/i,/^mar/i,/^abr/i,/^mai/i,/^jun/i,/^jul/i,/^ago/i,/^set/i,/^out/i,/^nov/i,/^dez/i]},$j={narrow:/^(dom|[23456]?|s[a]b)/i,short:/^(dom|[23456]?|s[a]b)/i,abbreviated:/^(dom|seg|ter|qua|qui|sex|s[a]b)/i,wide:/^(domingo|(segunda|ter[c]a|quarta|quinta|sexta)([- ]feira)?|s[a]bado)/i},Fj={short:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],narrow:[/^d/i,/^2/i,/^3/i,/^4/i,/^5/i,/^6/i,/^s[a]/i],any:[/^d/i,/^seg/i,/^t/i,/^qua/i,/^qui/i,/^sex/i,/^s[a]b/i]},Bj={narrow:/^(a|p|mn|md|(da) (manh|tarde|noite))/i,any:/^([ap]\.?\s?m\.?|meia[-\s]noite|meio[-\s]dia|(da) (manh|tarde|noite))/i},qj={any:{am:/^a/i,pm:/^p/i,midnight:/^mn|^meia[-\s]noite/i,noon:/^md|^meio[-\s]dia/i,morning:/manh/i,afternoon:/tarde/i,evening:/tarde/i,night:/noite/i}},Uj={ordinalNumber:SS({matchPattern:Pj,parsePattern:Aj,valueCallback:n=>parseInt(n,10)}),era:ac({matchPatterns:Lj,defaultMatchWidth:"wide",parsePatterns:Oj,defaultParseWidth:"any"}),quarter:ac({matchPatterns:Tj,defaultMatchWidth:"wide",parsePatterns:Mj,defaultParseWidth:"any",valueCallback:n=>n+1}),month:ac({matchPatterns:Ij,defaultMatchWidth:"wide",parsePatterns:Rj,defaultParseWidth:"any"}),day:ac({matchPatterns:$j,defaultMatchWidth:"wide",parsePatterns:Fj,defaultParseWidth:"any"}),dayPeriod:ac({matchPatterns:Bj,defaultMatchWidth:"any",parsePatterns:qj,defaultParseWidth:"any"})},Ci={code:"pt-BR",formatDistance:mj,formatLong:yj,formatRelative:wj,localize:Ej,match:Uj,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Vj({open:n,onOpenChange:t,duePayments:e}){return c.jsx(en,{open:n,onOpenChange:t,children:c.jsxs(tn,{children:[c.jsx(rn,{className:"fixed inset-0 bg-black/50"}),c.jsxs(nn,{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white rounded-lg p-6 w-[90vw] max-w-[500px] max-h-[80vh] overflow-y-auto shadow-xl",children:[c.jsx(an,{className:"text-xl font-semibold mb-4 text-red-600",children:"Cobranas Pendentes para Amanh"}),c.jsx("div",{className:"space-y-4",children:e.map((r,a)=>c.jsxs("div",{className:"p-4 bg-red-50 border border-red-100 rounded-lg",children:[c.jsx("h3",{className:"font-medium text-gray-900",children:r.clientName}),c.jsxs("p",{className:"text-sm text-gray-600",children:["Vencimento: ",Ra(new Date(r.dueDate),"dd 'de' MMMM",{locale:Ci})]}),c.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Valor: R$ ",r.value.toFixed(2)]})]},a))}),c.jsx("div",{className:"mt-6 flex justify-end",children:c.jsx("button",{onClick:()=>t(!1),className:"px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-md",children:"Fechar"})}),c.jsx(sn,{className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:c.jsx(Lr,{size:20})})]})]})})}const zj={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Impsa3d4d3JpbXdudHJ5dGJqZW14Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTY3NTE4NDAsImV4cCI6MjA3MjMyNzg0MH0.1WJWTf6A-8MJqI4rXOmIoK5DbpYIiMBpnfA023L61Q0",VITE_SUPABASE_URL:"https://jlkwxwrimwntrytbjemx.supabase.co"};function Hj(n,t){let e;try{e=n()}catch{return}return{getItem:a=>{var s;const i=l=>l===null?null:JSON.parse(l,void 0),o=(s=e.getItem(a))!=null?s:null;return o instanceof Promise?o.then(i):i(o)},setItem:(a,s)=>e.setItem(a,JSON.stringify(s,void 0)),removeItem:a=>e.removeItem(a)}}const Pc=n=>t=>{try{const e=n(t);return e instanceof Promise?e:{then(r){return Pc(r)(e)},catch(r){return this}}}catch(e){return{then(r){return this},catch(r){return Pc(r)(e)}}}},Wj=(n,t)=>(e,r,a)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:x=>x,version:0,merge:(x,w)=>({...w,...x}),...t},i=!1;const o=new Set,l=new Set;let u;try{u=s.getStorage()}catch{}if(!u)return n((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),e(...x)},r,a);const d=Pc(s.serialize),f=()=>{const x=s.partialize({...r()});let w;const N=d({state:x,version:s.version}).then(_=>u.setItem(s.name,_)).catch(_=>{w=_});if(w)throw w;return N},m=a.setState;a.setState=(x,w)=>{m(x,w),f()};const p=n((...x)=>{e(...x),f()},r,a);let y;const v=()=>{var x;if(!u)return;i=!1,o.forEach(N=>N(r()));const w=((x=s.onRehydrateStorage)==null?void 0:x.call(s,r()))||void 0;return Pc(u.getItem.bind(u))(s.name).then(N=>{if(N)return s.deserialize(N)}).then(N=>{if(N)if(typeof N.version=="number"&&N.version!==s.version){if(s.migrate)return s.migrate(N.state,N.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return N.state}).then(N=>{var _;return y=s.merge(N,(_=r())!=null?_:p),e(y,!0),f()}).then(()=>{w==null||w(y,void 0),i=!0,l.forEach(N=>N(y))}).catch(N=>{w==null||w(void 0,N)})};return a.persist={setOptions:x=>{s={...s,...x},x.getStorage&&(u=x.getStorage())},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>v(),hasHydrated:()=>i,onHydrate:x=>(o.add(x),()=>{o.delete(x)}),onFinishHydration:x=>(l.add(x),()=>{l.delete(x)})},v(),y||p},Yj=(n,t)=>(e,r,a)=>{let s={storage:Hj(()=>localStorage),partialize:v=>v,version:0,merge:(v,x)=>({...x,...v}),...t},i=!1;const o=new Set,l=new Set;let u=s.storage;if(!u)return n((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),e(...v)},r,a);const d=()=>{const v=s.partialize({...r()});return u.setItem(s.name,{state:v,version:s.version})},f=a.setState;a.setState=(v,x)=>{f(v,x),d()};const m=n((...v)=>{e(...v),d()},r,a);a.getInitialState=()=>m;let p;const y=()=>{var v,x;if(!u)return;i=!1,o.forEach(N=>{var _;return N((_=r())!=null?_:m)});const w=((x=s.onRehydrateStorage)==null?void 0:x.call(s,(v=r())!=null?v:m))||void 0;return Pc(u.getItem.bind(u))(s.name).then(N=>{if(N)if(typeof N.version=="number"&&N.version!==s.version){if(s.migrate)return[!0,s.migrate(N.state,N.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,N.state];return[!1,void 0]}).then(N=>{var _;const[C,A]=N;if(p=s.merge(A,(_=r())!=null?_:m),e(p,!0),C)return d()}).then(()=>{w==null||w(p,void 0),p=r(),i=!0,l.forEach(N=>N(p))}).catch(N=>{w==null||w(void 0,N)})};return a.persist={setOptions:v=>{s={...s,...v},v.storage&&(u=v.storage)},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>y(),hasHydrated:()=>i,onHydrate:v=>(o.add(v),()=>{o.delete(v)}),onFinishHydration:v=>(l.add(v),()=>{l.delete(v)})},s.skipHydration||y(),p||m},Gj=(n,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((zj?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Wj(n,t)):Yj(n,t),Ka=Gj,bg=Ya()(Ka((n,t)=>({info:null,loading:!1,error:null,syncWithSupabase:async()=>{try{const{data:e,error:r}=await We.from("company_info").select().limit(1).maybeSingle();if(r){console.error("Sync error:",r);return}n({info:e})}catch(e){console.error("Sync failed:",e)}},setInfo:async e=>{n({loading:!0,error:null});try{const{data:r}=await We.from("company_info").select().limit(1).maybeSingle();if(r){const{error:a}=await We.from("company_info").update(e).eq("id",r.id);if(a)throw a}else{const{error:a}=await We.from("company_info").insert([e]);if(a)throw a}n({info:e,loading:!1})}catch(r){throw console.error("Error setting company info:",r),n({loading:!1,error:r instanceof Error?r.message:"Erro ao salvar informaes da empresa"}),r}},getInfo:async()=>{n({loading:!0,error:null});try{const{data:e,error:r}=await We.from("company_info").select().limit(1).maybeSingle();if(r)throw r;n({info:e,loading:!1})}catch(e){console.error("Error getting company info:",e),n({loading:!1,error:e instanceof Error?e.message:"Erro ao carregar informaes da empresa"})}}}),{name:"company-storage",partialize:n=>({info:n.info}),onRehydrateStorage:()=>n=>{n&&n.syncWithSupabase()}}));function Kj({open:n,onOpenChange:t}){const{info:e,setInfo:r}=bg(),[a,s]=V.useState((e==null?void 0:e.name)||""),[i,o]=V.useState((e==null?void 0:e.cnpj)||""),[l,u]=V.useState((e==null?void 0:e.address)||""),[d,f]=V.useState((e==null?void 0:e.phone)||""),m=p=>{p.preventDefault(),r({name:a,cnpj:i,address:l,phone:d}),t(!1)};return c.jsx(en,{open:n,onOpenChange:t,children:c.jsxs(tn,{children:[c.jsx(rn,{className:"fixed inset-0 bg-black/50"}),c.jsxs(nn,{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white rounded-lg p-6 w-[90vw] max-w-[500px]",children:[c.jsx(an,{className:"text-xl font-semibold mb-4",children:"Informaes da Empresa"}),c.jsxs("form",{onSubmit:m,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome da Empresa"}),c.jsx("input",{type:"text",value:a,onChange:p=>s(p.target.value),className:"w-full px-3 py-2 border rounded-md",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"CNPJ"}),c.jsx("input",{type:"text",value:i,onChange:p=>o(p.target.value),className:"w-full px-3 py-2 border rounded-md",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Endereo"}),c.jsx("input",{type:"text",value:l,onChange:p=>u(p.target.value),className:"w-full px-3 py-2 border rounded-md",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Telefone"}),c.jsx("input",{type:"text",value:d,onChange:p=>f(p.target.value),className:"w-full px-3 py-2 border rounded-md",required:!0})]}),c.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[c.jsx("button",{type:"button",onClick:()=>t(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-md",children:"Cancelar"}),c.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md",children:"Salvar"})]})]}),c.jsx(sn,{className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:c.jsx(Lr,{size:20})})]})]})})}async function Lv(n,t){try{if(!n.type.startsWith("image/"))return{success:!1,error:"Arquivo deve ser uma imagem"};if(n.size>5*1024*1024)return{success:!1,error:"Imagem deve ter no mximo 5MB"};const e=await Jj(n);return e?{success:!0,url:e}:{success:!1,error:"Erro ao processar a imagem"}}catch(e){return console.error("Image upload error:",e),{success:!1,error:"Erro inesperado ao processar imagem"}}}function m2(n,t=800,e=.8){return new Promise(r=>{const a=document.createElement("canvas"),s=a.getContext("2d"),i=new Image;i.onload=()=>{const o=Math.min(t/i.width,t/i.height);a.width=i.width*o,a.height=i.height*o,s==null||s.drawImage(i,0,0,a.width,a.height),a.toBlob(l=>{if(l){const u=new File([l],n.name,{type:n.type,lastModified:Date.now()});r(u)}else r(n)},n.type,e)},i.src=URL.createObjectURL(n)})}function Jj(n){return new Promise((t,e)=>{const r=new FileReader;r.onload=()=>{const a=r.result;t(a)},r.onerror=()=>{e(new Error("Erro ao ler o arquivo"))},r.readAsDataURL(n)})}const ri=Ya()(Ka((n,t)=>({products:[],loading:!1,error:null,syncWithSupabase:async()=>{try{const{data:e,error:r}=await We.from("products").select("*").order("created_at",{ascending:!1});if(r){console.error("Sync error:",r);return}const a=(e||[]).map(s=>({id:s.id,name:s.name,code:s.name,colors:["Padro"],price:s.price,description:s.description||"",imageUrl:s.image_url||"",stockQuantity:s.stock_quantity,createdAt:s.created_at,taxInfo:{ncm:"00000000",icms:0,ipi:0,pis:0,cofins:0,cfop:"0000"}}));n({products:a})}catch(e){console.error("Sync failed:",e)}},addProduct:async(e,r)=>{n({loading:!0,error:null});try{let a=e.imageUrl||"";if(r){const l=await Lv(r,"temp-id");l.success&&l.url?a=l.url:console.warn("Image upload failed:",l.error)}const{data:s,error:i}=await We.from("products").insert([{name:e.name,description:e.description,price:e.price,stock_quantity:e.stockQuantity,image_url:a}]).select().single();if(i)throw i;const o={id:s.id,name:s.name,code:e.code,colors:e.colors,price:s.price,description:s.description||"",imageUrl:s.image_url||"",stockQuantity:s.stock_quantity,createdAt:s.created_at,taxInfo:e.taxInfo};n(l=>({products:[o,...l.products],loading:!1}))}catch(a){throw console.error("Error adding product:",a),n({loading:!1,error:a instanceof Error?a.message:"Erro ao adicionar produto"}),a}},getProducts:async()=>{n({loading:!0,error:null});try{const{data:e,error:r}=await We.from("products").select("*").order("created_at",{ascending:!1});if(r)throw r;const a=(e||[]).map(s=>({id:s.id,name:s.name,code:s.name,colors:["Padro"],price:s.price,description:s.description||"",imageUrl:s.image_url||"",stockQuantity:s.stock_quantity,createdAt:s.created_at,taxInfo:{ncm:"00000000",icms:0,ipi:0,pis:0,cofins:0,cfop:"0000"}}));n({products:a,loading:!1})}catch(e){console.error("Error getting products:",e),n({loading:!1,error:e instanceof Error?e.message:"Erro ao carregar produtos"})}},updateProduct:async(e,r,a)=>{n({loading:!0,error:null});try{let s=r.imageUrl;if(a){const o=await Lv(a,e);o.success&&o.url?s=o.url:console.warn("Image upload failed:",o.error)}const{error:i}=await We.from("products").update({name:r.name,description:r.description,price:r.price,stock_quantity:r.stockQuantity,image_url:s}).eq("id",e);if(i)throw i;n(o=>({products:o.products.map(l=>l.id===e?{...l,...r,imageUrl:s}:l),loading:!1}))}catch(s){throw console.error("Error updating product:",s),n({loading:!1,error:s instanceof Error?s.message:"Erro ao atualizar produto"}),s}},deleteProduct:async e=>{n({loading:!0,error:null});try{const{error:r}=await We.from("products").delete().eq("id",e);if(r)throw r;n(a=>({products:a.products.filter(s=>s.id!==e),loading:!1}))}catch(r){throw console.error("Error deleting product:",r),n({loading:!1,error:r instanceof Error?r.message:"Erro ao excluir produto"}),r}},getMostSoldProducts:()=>t().products.sort((e,r)=>r.stockQuantity-e.stockQuantity).slice(0,5)}),{name:"products-storage",partialize:n=>({products:[]}),onRehydrateStorage:()=>n=>{n&&n.syncWithSupabase()}})),Ii=Ya()(Ka((n,t)=>({services:[],loading:!1,error:null,syncWithSupabase:async()=>{try{const{data:e,error:r}=await We.from("services").select("*").order("created_at",{ascending:!1});if(r){console.error("Sync error:",r);return}n({services:e||[]})}catch(e){console.error("Sync failed:",e)}},addService:async e=>{n({loading:!0,error:null});try{const{data:r,error:a}=await We.from("services").insert([e]).select().single();if(a)throw a;n(s=>({services:[r,...s.services],loading:!1}))}catch(r){throw console.error("Error adding service:",r),n({loading:!1,error:r instanceof Error?r.message:"Erro ao adicionar servio"}),r}},getServices:async()=>{n({loading:!0,error:null});try{const{data:e,error:r}=await We.from("services").select("*").order("created_at",{ascending:!1});if(r)throw r;n({services:e||[],loading:!1})}catch(e){console.error("Error getting services:",e),n({loading:!1,error:e instanceof Error?e.message:"Erro ao carregar servios"})}},updateService:async(e,r)=>{n({loading:!0,error:null});try{const{error:a}=await We.from("services").update(r).eq("id",e);if(a)throw a;n(s=>({services:s.services.map(i=>i.id===e?{...i,...r}:i),loading:!1}))}catch(a){throw console.error("Error updating service:",a),n({loading:!1,error:a instanceof Error?a.message:"Erro ao atualizar servio"}),a}},deleteService:async e=>{n({loading:!0,error:null});try{const{error:r}=await We.from("services").delete().eq("id",e);if(r)throw r;n(a=>({services:a.services.filter(s=>s.id!==e),loading:!1}))}catch(r){throw console.error("Error deleting service:",r),n({loading:!1,error:r instanceof Error?r.message:"Erro ao excluir servio"}),r}}}),{name:"services-storage",partialize:n=>({services:n.services}),onRehydrateStorage:()=>n=>{n&&n.syncWithSupabase()}})),Hn=Ya()(Ka((n,t)=>({clients:[],loading:!1,error:null,clearError:()=>n({error:null}),syncWithSupabase:async()=>{try{const{data:e,error:r}=await We.from("customers").select("*").order("created_at",{ascending:!1});if(r){console.error("Sync error:",r);return}const a=(e||[]).map(s=>({id:s.id,name:s.name,email:s.email,phone:s.phone,address:s.address,documentType:"CPF",document:"",scheduledDate:null,created_at:s.created_at,totalValue:0,isPremium:!1,purchasedItem:null,dueDate:null}));n({clients:a})}catch(e){console.error("Sync failed:",e)}},addClient:async e=>{n({loading:!0,error:null});try{const{data:r,error:a}=await We.from("customers").insert([{name:e.name,email:e.email,phone:e.phone,address:e.address}]).select().single();if(a)throw console.error("Supabase insert error:",a),a.code==="23505"&&a.message.includes("email")?new Error("Este email j est cadastrado no sistema"):new Error(`Erro ao salvar cliente: ${a.message}`);const s={id:r.id,name:r.name,email:r.email,phone:r.phone,address:r.address,documentType:e.documentType||"CPF",document:e.document||"",scheduledDate:e.scheduledDate,created_at:r.created_at,totalValue:e.totalValue||0,isPremium:e.isPremium||!1,purchasedItem:e.purchasedItem,dueDate:e.dueDate};return n(i=>({clients:[s,...i.clients],loading:!1})),r.id}catch(r){console.error("Error adding client:",r);const a=r instanceof Error?r.message:"Erro ao adicionar cliente. Verifique sua conexo com o banco de dados.";throw n({loading:!1,error:a}),r}},getClients:async()=>{n({loading:!0,error:null});try{const{data:e,error:r}=await We.from("customers").select("*").order("created_at",{ascending:!1});if(r){console.error("Supabase error:",r),n({loading:!1,error:`Erro ao carregar clientes: ${r.message}`});return}const a=(e||[]).map(s=>({id:s.id,name:s.name,email:s.email,phone:s.phone,address:s.address,documentType:"CPF",document:"",scheduledDate:null,created_at:s.created_at,totalValue:0,isPremium:!1,purchasedItem:null,dueDate:null}));n({clients:a,loading:!1})}catch(e){console.error("Error getting clients:",e),n({loading:!1,error:"Erro ao carregar clientes. Verifique sua conexo com o banco de dados."})}},updateClient:async(e,r)=>{n({loading:!0,error:null});try{const{error:a}=await We.from("customers").update({name:r.name,email:r.email,phone:r.phone,address:r.address}).eq("id",e);if(a)throw console.error("Supabase update error:",a),a.code==="23505"&&a.message.includes("email")?new Error("Este email j est cadastrado no sistema"):new Error(`Erro ao atualizar cliente: ${a.message}`);n(s=>({clients:s.clients.map(i=>i.id===e?{...i,...r,documentType:r.documentType!==void 0?r.documentType:i.documentType,document:r.document!==void 0?r.document:i.document}:i),loading:!1}))}catch(a){console.error("Error updating client:",a);const s=a instanceof Error?a.message:"Erro ao atualizar cliente. Verifique sua conexo com o banco de dados.";throw n({loading:!1,error:s}),a}},deleteClient:async e=>{n({loading:!0,error:null});try{const{error:r}=await We.from("customers").delete().eq("id",e);if(r)throw new Error(`Erro ao excluir cliente: ${r.message}`);n(a=>({clients:a.clients.filter(s=>s.id!==e),loading:!1}))}catch(r){throw console.error("Error deleting client:",r),n({loading:!1,error:r instanceof Error?r.message:"Erro ao excluir cliente. Verifique sua conexo com o banco de dados."}),r}},getClientsByVendor:e=>t().clients}),{name:"clients-storage",partialize:n=>({clients:n.clients})})),yg=Ya()(Ka((n,t)=>({sales:[],loading:!1,error:null,clearError:()=>n({error:null}),syncWithSupabase:async()=>{try{const{data:e,error:r}=await We.from("sales_complete").select(`
              *,
              customers!inner(id, name, email, phone)
            `).order("created_at",{ascending:!1});if(r){console.error("Sync error:",r);return}const a=(e||[]).map(s=>{var i,o,l;return{id:s.id,client:{id:s.client_id,name:((i=s.customers)==null?void 0:i.name)||"Cliente",email:(o=s.customers)==null?void 0:o.email,phone:(l=s.customers)==null?void 0:l.phone,address:null},items:s.items||[],subtotal:s.subtotal,discount:s.discount,total:s.total,paymentMethod:s.payment_method,installments:s.installments,observations:s.observations||"",vendor:"Vendedor",vendorId:s.vendor_id||"",status:s.status,date:s.sale_date,created_at:s.created_at}});n({sales:a})}catch(e){console.error("Sync failed:",e)}},addSale:async e=>{n({loading:!0,error:null});try{const{data:r,error:a}=await We.from("sales_complete").insert([{client_id:e.client.id,vendor_id:e.vendorId||null,items:e.items,subtotal:e.subtotal,discount:e.discount,total:e.total,payment_method:e.paymentMethod,installments:e.installments,observations:e.observations,status:e.status,sale_date:e.date}]).select().single();if(a)throw console.error("Sales insert error:",a),a;try{const{error:i}=await We.from("financial_transactions").insert([{type:"entrada",category:"Vendas",description:`Venda para ${e.client.name}`,amount:e.total,date:e.date,payment_method:e.paymentMethod,reference_id:r.id,reference_type:"sale",vendor_id:e.vendorId}]);i&&console.warn("Error creating financial transaction:",i)}catch(i){console.warn("Financial transaction table may not exist yet:",i)}const s={...e,id:r.id,created_at:r.created_at};n(i=>({sales:[s,...i.sales],loading:!1}))}catch(r){throw console.error("Error adding sale:",r),n({loading:!1,error:r instanceof Error?r.message:"Erro ao adicionar venda"}),r}},getSales:async()=>{n({loading:!0,error:null});try{const{data:e,error:r}=await We.from("sales_complete").select(`
              *,
              customers!inner(id, name, email, phone)
            `).order("created_at",{ascending:!1});if(r)throw r;const a=(e||[]).map(s=>{var i,o,l;return{id:s.id,client:{id:s.client_id,name:((i=s.customers)==null?void 0:i.name)||"Cliente",email:(o=s.customers)==null?void 0:o.email,phone:(l=s.customers)==null?void 0:l.phone,address:null},items:s.items||[],subtotal:s.subtotal,discount:s.discount,total:s.total,paymentMethod:s.payment_method,installments:s.installments,observations:s.observations||"",vendor:"Vendedor",vendorId:s.vendor_id||"",status:s.status,date:s.sale_date,created_at:s.created_at}});n({sales:a,loading:!1})}catch(e){console.error("Error getting sales:",e),n({loading:!1,error:e instanceof Error?e.message:"Erro ao carregar vendas"})}},cancelSale:async e=>{n({loading:!0,error:null});try{const{error:r}=await We.from("sales_complete").update({status:"cancelled"}).eq("id",e);if(r)throw r;n(a=>({sales:a.sales.map(s=>s.id===e?{...s,status:"cancelled"}:s),loading:!1}))}catch(r){throw console.error("Error cancelling sale:",r),n({loading:!1,error:r instanceof Error?r.message:"Erro ao cancelar venda"}),r}},getSalesByVendor:e=>t().sales.filter(r=>r.vendorId===e),getSalesByDateRange:(e,r)=>t().sales.filter(a=>{const s=new Date(a.date),i=new Date(e),o=new Date(r);return s>=i&&s<=o}),getTotalSales:()=>t().sales.filter(e=>e.status==="completed").length,getTotalRevenue:()=>t().sales.filter(e=>e.status==="completed").reduce((e,r)=>e+r.total,0)}),{name:"sales-storage",partialize:n=>({sales:n.sales}),onRehydrateStorage:()=>n=>{n&&n.syncWithSupabase()}})),Ri=Ya()(Ka((n,t)=>({visits:[],loading:!1,error:null,syncWithSupabase:async()=>{try{const{data:e,error:r}=await We.from("visits").select("*").order("created_at",{ascending:!1});if(r){console.error("Sync error:",r);return}const a=(e||[]).map(s=>({id:s.id,clientName:s.client_name,clientId:s.client_id,vendorId:s.vendor_id,scheduledDate:s.scheduled_date,status:s.status,notes:s.notes||"",followUpDate:s.follow_up_date,rejectionReason:s.rejection_reason,maintenanceType:s.maintenance_type,location:s.location,createdAt:s.created_at,updatedAt:s.updated_at}));n({visits:a})}catch(e){console.error("Sync failed:",e)}},addVisit:async e=>{n({loading:!0,error:null});try{const{data:r,error:a}=await We.from("visits").insert([{client_name:e.clientName,client_id:e.clientId,vendor_id:e.vendorId,scheduled_date:e.scheduledDate,status:e.status,notes:e.notes,follow_up_date:e.followUpDate,rejection_reason:e.rejectionReason,maintenance_type:e.maintenanceType,location:e.location}]).select().single();if(a)throw a;const s={id:r.id,clientName:r.client_name,clientId:r.client_id,vendorId:r.vendor_id,scheduledDate:r.scheduled_date,status:r.status,notes:r.notes||"",followUpDate:r.follow_up_date,rejectionReason:r.rejection_reason,maintenanceType:r.maintenance_type,location:r.location,createdAt:r.created_at,updatedAt:r.updated_at};n(i=>({visits:[s,...i.visits],loading:!1}))}catch(r){throw console.error("Error adding visit:",r),n({loading:!1,error:r instanceof Error?r.message:"Erro ao adicionar visita"}),r}},updateVisit:async(e,r)=>{n({loading:!0,error:null});try{const{error:a}=await We.from("visits").update({client_name:r.clientName,client_id:r.clientId,vendor_id:r.vendorId,scheduled_date:r.scheduledDate,status:r.status,notes:r.notes,follow_up_date:r.followUpDate,rejection_reason:r.rejectionReason,maintenance_type:r.maintenanceType,location:r.location,updated_at:new Date().toISOString()}).eq("id",e);if(a)throw a;n(s=>({visits:s.visits.map(i=>i.id===e?{...i,...r,updatedAt:new Date().toISOString()}:i),loading:!1}))}catch(a){throw console.error("Error updating visit:",a),n({loading:!1,error:a instanceof Error?a.message:"Erro ao atualizar visita"}),a}},deleteVisit:async e=>{n({loading:!0,error:null});try{const{error:r}=await We.from("visits").delete().eq("id",e);if(r)throw r;n(a=>({visits:a.visits.filter(s=>s.id!==e),loading:!1}))}catch(r){throw console.error("Error deleting visit:",r),n({loading:!1,error:r instanceof Error?r.message:"Erro ao excluir visita"}),r}},getVisitsByVendor:e=>t().visits.filter(r=>r.vendorId===e),getVisitsByStatus:e=>t().visits.filter(r=>r.status===e),getUpcomingVisits:e=>{const r=new Date;return t().visits.filter(a=>{const s=new Date(a.scheduledDate);return a.vendorId===e&&s>=r}).sort((a,s)=>new Date(a.scheduledDate).getTime()-new Date(s.scheduledDate).getTime())}}),{name:"visits-storage",partialize:n=>({visits:n.visits}),onRehydrateStorage:()=>n=>{n&&n.syncWithSupabase()}}));var g2={exports:{}},Xj="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Qj=Xj,Zj=Qj;function v2(){}function b2(){}b2.resetWarningCache=v2;var ek=function(){function n(r,a,s,i,o,l){if(l!==Zj){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}n.isRequired=n;function t(){return n}var e={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:t,element:n,elementType:n,instanceOf:t,node:n,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:b2,resetWarningCache:v2};return e.PropTypes=e,e};g2.exports=ek();var tk=g2.exports;const Le=Kn(tk);function y2(n){var t,e,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var a=n.length;for(t=0;t<a;t++)n[t]&&(e=y2(n[t]))&&(r&&(r+=" "),r+=e)}else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function Ar(){for(var n,t,e=0,r="",a=arguments.length;e<a;e++)(n=arguments[e])&&(t=y2(n))&&(r&&(r+=" "),r+=t);return r}function rk(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n,Nm(n,t)}function Nm(n,t){return Nm=Object.setPrototypeOf||function(r,a){return r.__proto__=a,r},Nm(n,t)}function nk(n,t){if(n==null)return{};var e={},r=Object.keys(n),a,s;for(s=0;s<r.length;s++)a=r[s],!(t.indexOf(a)>=0)&&(e[a]=n[a]);return e}function Ov(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function ak(n,t,e){return n===t?!0:n.correspondingElement?n.correspondingElement.classList.contains(e):n.classList.contains(e)}function sk(n,t,e){if(n===t)return!0;for(;n.parentNode||n.host;){if(n.parentNode&&ak(n,t,e))return!0;n=n.parentNode||n.host}return n}function ik(n){return document.documentElement.clientWidth<=n.clientX||document.documentElement.clientHeight<=n.clientY}var ok=function(){if(!(typeof window>"u"||typeof window.addEventListener!="function")){var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}}),r=function(){};return window.addEventListener("testPassiveEventSupport",r,e),window.removeEventListener("testPassiveEventSupport",r,e),t}};function lk(n){return n===void 0&&(n=0),function(){return++n}}var ck=lk(),_m,ud={},_p={},uk=["touchstart","touchmove"],dk="ignore-react-onclickoutside";function Tv(n,t){var e={},r=uk.indexOf(t)!==-1;return r&&_m&&(e.passive=!n.props.preventDefault),e}function Th(n,t){var e,r,a=n.displayName||n.name||"Component";return r=e=function(s){rk(i,s);function i(l){var u;return u=s.call(this,l)||this,u.__outsideClickHandler=function(d){if(typeof u.__clickOutsideHandlerProp=="function"){u.__clickOutsideHandlerProp(d);return}var f=u.getInstance();if(typeof f.props.handleClickOutside=="function"){f.props.handleClickOutside(d);return}if(typeof f.handleClickOutside=="function"){f.handleClickOutside(d);return}throw new Error("WrappedComponent: "+a+" lacks a handleClickOutside(event) function for processing outside click events.")},u.__getComponentNode=function(){var d=u.getInstance();return typeof d.setClickOutsideRef=="function"?d.setClickOutsideRef():jh.findDOMNode(d)},u.enableOnClickOutside=function(){if(!(typeof document>"u"||_p[u._uid])){typeof _m>"u"&&(_m=ok()),_p[u._uid]=!0;var d=u.props.eventTypes;d.forEach||(d=[d]),ud[u._uid]=function(f){if(u.componentNode!==null&&!(u.initTimeStamp>f.timeStamp)&&(u.props.preventDefault&&f.preventDefault(),u.props.stopPropagation&&f.stopPropagation(),!(u.props.excludeScrollbar&&ik(f)))){var m=f.composed&&f.composedPath&&f.composedPath().shift()||f.target;sk(m,u.componentNode,u.props.outsideClickIgnoreClass)===document&&u.__outsideClickHandler(f)}},d.forEach(function(f){document.addEventListener(f,ud[u._uid],Tv(Ov(u),f))})}},u.disableOnClickOutside=function(){delete _p[u._uid];var d=ud[u._uid];if(d&&typeof document<"u"){var f=u.props.eventTypes;f.forEach||(f=[f]),f.forEach(function(m){return document.removeEventListener(m,d,Tv(Ov(u),m))}),delete ud[u._uid]}},u.getRef=function(d){return u.instanceRef=d},u._uid=ck(),u.initTimeStamp=performance.now(),u}var o=i.prototype;return o.getInstance=function(){if(n.prototype&&!n.prototype.isReactComponent)return this;var u=this.instanceRef;return u.getInstance?u.getInstance():u},o.componentDidMount=function(){typeof document>"u"||!document.createElement||(this.getInstance(),this.componentNode=this.__getComponentNode(),!this.props.disableOnClickOutside&&this.enableOnClickOutside())},o.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},o.componentWillUnmount=function(){this.disableOnClickOutside()},o.render=function(){var u=this.props;u.excludeScrollbar;var d=nk(u,["excludeScrollbar"]);return n.prototype&&n.prototype.isReactComponent?d.ref=this.getRef:d.wrappedRef=this.getRef,d.disableOnClickOutside=this.disableOnClickOutside,d.enableOnClickOutside=this.enableOnClickOutside,V.createElement(n,d)},i}(V.Component),e.displayName="OnClickOutside("+a+")",e.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:!1,outsideClickIgnoreClass:dk,preventDefault:!1,stopPropagation:!1},e.getClass=function(){return n.getClass?n.getClass():n},r}function Mh(){return typeof window<"u"}function pl(n){return x2(n)?(n.nodeName||"").toLowerCase():"#document"}function An(n){var t;return(n==null||(t=n.ownerDocument)==null?void 0:t.defaultView)||window}function Ja(n){var t;return(t=(x2(n)?n.ownerDocument:n.document)||window.document)==null?void 0:t.documentElement}function x2(n){return Mh()?n instanceof Node||n instanceof An(n).Node:!1}function Zr(n){return Mh()?n instanceof Element||n instanceof An(n).Element:!1}function Wa(n){return Mh()?n instanceof HTMLElement||n instanceof An(n).HTMLElement:!1}function Mv(n){return!Mh()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof An(n).ShadowRoot}function tu(n){const{overflow:t,overflowX:e,overflowY:r,display:a}=Wn(n);return/auto|scroll|overlay|hidden|clip/.test(t+r+e)&&!["inline","contents"].includes(a)}function hk(n){return["table","td","th"].includes(pl(n))}function Ih(n){return[":popover-open",":modal"].some(t=>{try{return n.matches(t)}catch{return!1}})}function xg(n){const t=wg(),e=Zr(n)?Wn(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>e[r]?e[r]!=="none":!1)||(e.containerType?e.containerType!=="normal":!1)||!t&&(e.backdropFilter?e.backdropFilter!=="none":!1)||!t&&(e.filter?e.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(e.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(e.contain||"").includes(r))}function fk(n){let t=Ks(n);for(;Wa(t)&&!Zo(t);){if(xg(t))return t;if(Ih(t))return null;t=Ks(t)}return null}function wg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Zo(n){return["html","body","#document"].includes(pl(n))}function Wn(n){return An(n).getComputedStyle(n)}function Rh(n){return Zr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Ks(n){if(pl(n)==="html")return n;const t=n.assignedSlot||n.parentNode||Mv(n)&&n.host||Ja(n);return Mv(t)?t.host:t}function w2(n){const t=Ks(n);return Zo(t)?n.ownerDocument?n.ownerDocument.body:n.body:Wa(t)&&tu(t)?t:w2(t)}function Ac(n,t,e){var r;t===void 0&&(t=[]),e===void 0&&(e=!0);const a=w2(n),s=a===((r=n.ownerDocument)==null?void 0:r.body),i=An(a);if(s){const o=jm(i);return t.concat(i,i.visualViewport||[],tu(a)?a:[],o&&e?Ac(o):[])}return t.concat(a,Ac(a,[],e))}function jm(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}const el=Math.min,Di=Math.max,rh=Math.round,dd=Math.floor,qa=n=>({x:n,y:n}),pk={left:"right",right:"left",bottom:"top",top:"bottom"},mk={start:"end",end:"start"};function gk(n,t,e){return Di(n,el(t,e))}function $h(n,t){return typeof n=="function"?n(t):n}function tl(n){return n.split("-")[0]}function ru(n){return n.split("-")[1]}function vk(n){return n==="x"?"y":"x"}function Sg(n){return n==="y"?"height":"width"}function Lc(n){return["top","bottom"].includes(tl(n))?"y":"x"}function Ng(n){return vk(Lc(n))}function bk(n,t,e){e===void 0&&(e=!1);const r=ru(n),a=Ng(n),s=Sg(a);let i=a==="x"?r===(e?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=nh(i)),[i,nh(i)]}function yk(n){const t=nh(n);return[km(n),t,km(t)]}function km(n){return n.replace(/start|end/g,t=>mk[t])}function xk(n,t,e){const r=["left","right"],a=["right","left"],s=["top","bottom"],i=["bottom","top"];switch(n){case"top":case"bottom":return e?t?a:r:t?r:a;case"left":case"right":return t?s:i;default:return[]}}function wk(n,t,e,r){const a=ru(n);let s=xk(tl(n),e==="start",r);return a&&(s=s.map(i=>i+"-"+a),t&&(s=s.concat(s.map(km)))),s}function nh(n){return n.replace(/left|right|bottom|top/g,t=>pk[t])}function Sk(n){return{top:0,right:0,bottom:0,left:0,...n}}function S2(n){return typeof n!="number"?Sk(n):{top:n,right:n,bottom:n,left:n}}function ah(n){const{x:t,y:e,width:r,height:a}=n;return{width:r,height:a,top:e,left:t,right:t+r,bottom:e+a,x:t,y:e}}function Iv(n,t,e){let{reference:r,floating:a}=n;const s=Lc(t),i=Ng(t),o=Sg(i),l=tl(t),u=s==="y",d=r.x+r.width/2-a.width/2,f=r.y+r.height/2-a.height/2,m=r[o]/2-a[o]/2;let p;switch(l){case"top":p={x:d,y:r.y-a.height};break;case"bottom":p={x:d,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-a.width,y:f};break;default:p={x:r.x,y:r.y}}switch(ru(t)){case"start":p[i]-=m*(e&&u?-1:1);break;case"end":p[i]+=m*(e&&u?-1:1);break}return p}const Nk=async(n,t,e)=>{const{placement:r="bottom",strategy:a="absolute",middleware:s=[],platform:i}=e,o=s.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:n,floating:t,strategy:a}),{x:d,y:f}=Iv(u,r,l),m=r,p={},y=0;for(let v=0;v<o.length;v++){const{name:x,fn:w}=o[v],{x:N,y:_,data:C,reset:A}=await w({x:d,y:f,initialPlacement:r,placement:m,strategy:a,middlewareData:p,rects:u,platform:i,elements:{reference:n,floating:t}});d=N??d,f=_??f,p={...p,[x]:{...p[x],...C}},A&&y<=50&&(y++,typeof A=="object"&&(A.placement&&(m=A.placement),A.rects&&(u=A.rects===!0?await i.getElementRects({reference:n,floating:t,strategy:a}):A.rects),{x:d,y:f}=Iv(u,m,l)),v=-1)}return{x:d,y:f,placement:m,strategy:a,middlewareData:p}};async function _k(n,t){var e;t===void 0&&(t={});const{x:r,y:a,platform:s,rects:i,elements:o,strategy:l}=n,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=$h(t,n),y=S2(p),x=o[m?f==="floating"?"reference":"floating":f],w=ah(await s.getClippingRect({element:(e=await(s.isElement==null?void 0:s.isElement(x)))==null||e?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:l})),N=f==="floating"?{x:r,y:a,width:i.floating.width,height:i.floating.height}:i.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),C=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},A=ah(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:N,offsetParent:_,strategy:l}):N);return{top:(w.top-A.top+y.top)/C.y,bottom:(A.bottom-w.bottom+y.bottom)/C.y,left:(w.left-A.left+y.left)/C.x,right:(A.right-w.right+y.right)/C.x}}const jk=n=>({name:"arrow",options:n,async fn(t){const{x:e,y:r,placement:a,rects:s,platform:i,elements:o,middlewareData:l}=t,{element:u,padding:d=0}=$h(n,t)||{};if(u==null)return{};const f=S2(d),m={x:e,y:r},p=Ng(a),y=Sg(p),v=await i.getDimensions(u),x=p==="y",w=x?"top":"left",N=x?"bottom":"right",_=x?"clientHeight":"clientWidth",C=s.reference[y]+s.reference[p]-m[p]-s.floating[y],A=m[p]-s.reference[p],B=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let D=B?B[_]:0;(!D||!await(i.isElement==null?void 0:i.isElement(B)))&&(D=o.floating[_]||s.floating[y]);const E=C/2-A/2,U=D/2-v[y]/2-1,L=el(f[w],U),k=el(f[N],U),P=L,F=D-v[y]-k,I=D/2-v[y]/2+E,ee=gk(P,I,F),re=!l.arrow&&ru(a)!=null&&I!==ee&&s.reference[y]/2-(I<P?L:k)-v[y]/2<0,W=re?I<P?I-P:I-F:0;return{[p]:m[p]+W,data:{[p]:ee,centerOffset:I-ee-W,...re&&{alignmentOffset:W}},reset:re}}}),kk=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(t){var e,r;const{placement:a,middlewareData:s,rects:i,initialPlacement:o,platform:l,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:v=!0,...x}=$h(n,t);if((e=s.arrow)!=null&&e.alignmentOffset)return{};const w=tl(a),N=Lc(o),_=tl(o)===o,C=await(l.isRTL==null?void 0:l.isRTL(u.floating)),A=m||(_||!v?[nh(o)]:yk(o)),B=y!=="none";!m&&B&&A.push(...wk(o,v,y,C));const D=[o,...A],E=await _k(t,x),U=[];let L=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&U.push(E[w]),f){const I=bk(a,i,C);U.push(E[I[0]],E[I[1]])}if(L=[...L,{placement:a,overflows:U}],!U.every(I=>I<=0)){var k,P;const I=(((k=s.flip)==null?void 0:k.index)||0)+1,ee=D[I];if(ee)return{data:{index:I,overflows:L},reset:{placement:ee}};let re=(P=L.filter(W=>W.overflows[0]<=0).sort((W,Z)=>W.overflows[1]-Z.overflows[1])[0])==null?void 0:P.placement;if(!re)switch(p){case"bestFit":{var F;const W=(F=L.filter(Z=>{if(B){const le=Lc(Z.placement);return le===N||le==="y"}return!0}).map(Z=>[Z.placement,Z.overflows.filter(le=>le>0).reduce((le,de)=>le+de,0)]).sort((Z,le)=>Z[1]-le[1])[0])==null?void 0:F[0];W&&(re=W);break}case"initialPlacement":re=o;break}if(a!==re)return{reset:{placement:re}}}return{}}}};async function Ck(n,t){const{placement:e,platform:r,elements:a}=n,s=await(r.isRTL==null?void 0:r.isRTL(a.floating)),i=tl(e),o=ru(e),l=Lc(e)==="y",u=["left","top"].includes(i)?-1:1,d=s&&l?-1:1,f=$h(t,n);let{mainAxis:m,crossAxis:p,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof y=="number"&&(p=o==="end"?y*-1:y),l?{x:p*d,y:m*u}:{x:m*u,y:p*d}}const Dk=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(t){var e,r;const{x:a,y:s,placement:i,middlewareData:o}=t,l=await Ck(t,n);return i===((e=o.offset)==null?void 0:e.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:a+l.x,y:s+l.y,data:{...l,placement:i}}}}};function N2(n){const t=Wn(n);let e=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=Wa(n),s=a?n.offsetWidth:e,i=a?n.offsetHeight:r,o=rh(e)!==s||rh(r)!==i;return o&&(e=s,r=i),{width:e,height:r,$:o}}function _g(n){return Zr(n)?n:n.contextElement}function Bo(n){const t=_g(n);if(!Wa(t))return qa(1);const e=t.getBoundingClientRect(),{width:r,height:a,$:s}=N2(t);let i=(s?rh(e.width):e.width)/r,o=(s?rh(e.height):e.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!o||!Number.isFinite(o))&&(o=1),{x:i,y:o}}const Ek=qa(0);function _2(n){const t=An(n);return!wg()||!t.visualViewport?Ek:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Pk(n,t,e){return t===void 0&&(t=!1),!e||t&&e!==An(n)?!1:t}function $i(n,t,e,r){t===void 0&&(t=!1),e===void 0&&(e=!1);const a=n.getBoundingClientRect(),s=_g(n);let i=qa(1);t&&(r?Zr(r)&&(i=Bo(r)):i=Bo(n));const o=Pk(s,e,r)?_2(s):qa(0);let l=(a.left+o.x)/i.x,u=(a.top+o.y)/i.y,d=a.width/i.x,f=a.height/i.y;if(s){const m=An(s),p=r&&Zr(r)?An(r):r;let y=m,v=jm(y);for(;v&&r&&p!==y;){const x=Bo(v),w=v.getBoundingClientRect(),N=Wn(v),_=w.left+(v.clientLeft+parseFloat(N.paddingLeft))*x.x,C=w.top+(v.clientTop+parseFloat(N.paddingTop))*x.y;l*=x.x,u*=x.y,d*=x.x,f*=x.y,l+=_,u+=C,y=An(v),v=jm(y)}}return ah({width:d,height:f,x:l,y:u})}function jg(n,t){const e=Rh(n).scrollLeft;return t?t.left+e:$i(Ja(n)).left+e}function j2(n,t,e){e===void 0&&(e=!1);const r=n.getBoundingClientRect(),a=r.left+t.scrollLeft-(e?0:jg(n,r)),s=r.top+t.scrollTop;return{x:a,y:s}}function Ak(n){let{elements:t,rect:e,offsetParent:r,strategy:a}=n;const s=a==="fixed",i=Ja(r),o=t?Ih(t.floating):!1;if(r===i||o&&s)return e;let l={scrollLeft:0,scrollTop:0},u=qa(1);const d=qa(0),f=Wa(r);if((f||!f&&!s)&&((pl(r)!=="body"||tu(i))&&(l=Rh(r)),Wa(r))){const p=$i(r);u=Bo(r),d.x=p.x+r.clientLeft,d.y=p.y+r.clientTop}const m=i&&!f&&!s?j2(i,l,!0):qa(0);return{width:e.width*u.x,height:e.height*u.y,x:e.x*u.x-l.scrollLeft*u.x+d.x+m.x,y:e.y*u.y-l.scrollTop*u.y+d.y+m.y}}function Lk(n){return Array.from(n.getClientRects())}function Ok(n){const t=Ja(n),e=Rh(n),r=n.ownerDocument.body,a=Di(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Di(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-e.scrollLeft+jg(n);const o=-e.scrollTop;return Wn(r).direction==="rtl"&&(i+=Di(t.clientWidth,r.clientWidth)-a),{width:a,height:s,x:i,y:o}}function Tk(n,t){const e=An(n),r=Ja(n),a=e.visualViewport;let s=r.clientWidth,i=r.clientHeight,o=0,l=0;if(a){s=a.width,i=a.height;const u=wg();(!u||u&&t==="fixed")&&(o=a.offsetLeft,l=a.offsetTop)}return{width:s,height:i,x:o,y:l}}function Mk(n,t){const e=$i(n,!0,t==="fixed"),r=e.top+n.clientTop,a=e.left+n.clientLeft,s=Wa(n)?Bo(n):qa(1),i=n.clientWidth*s.x,o=n.clientHeight*s.y,l=a*s.x,u=r*s.y;return{width:i,height:o,x:l,y:u}}function Rv(n,t,e){let r;if(t==="viewport")r=Tk(n,e);else if(t==="document")r=Ok(Ja(n));else if(Zr(t))r=Mk(t,e);else{const a=_2(n);r={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return ah(r)}function k2(n,t){const e=Ks(n);return e===t||!Zr(e)||Zo(e)?!1:Wn(e).position==="fixed"||k2(e,t)}function Ik(n,t){const e=t.get(n);if(e)return e;let r=Ac(n,[],!1).filter(o=>Zr(o)&&pl(o)!=="body"),a=null;const s=Wn(n).position==="fixed";let i=s?Ks(n):n;for(;Zr(i)&&!Zo(i);){const o=Wn(i),l=xg(i);!l&&o.position==="fixed"&&(a=null),(s?!l&&!a:!l&&o.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||tu(i)&&!l&&k2(n,i))?r=r.filter(d=>d!==i):a=o,i=Ks(i)}return t.set(n,r),r}function Rk(n){let{element:t,boundary:e,rootBoundary:r,strategy:a}=n;const i=[...e==="clippingAncestors"?Ih(t)?[]:Ik(t,this._c):[].concat(e),r],o=i[0],l=i.reduce((u,d)=>{const f=Rv(t,d,a);return u.top=Di(f.top,u.top),u.right=el(f.right,u.right),u.bottom=el(f.bottom,u.bottom),u.left=Di(f.left,u.left),u},Rv(t,o,a));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function $k(n){const{width:t,height:e}=N2(n);return{width:t,height:e}}function Fk(n,t,e){const r=Wa(t),a=Ja(t),s=e==="fixed",i=$i(n,!0,s,t);let o={scrollLeft:0,scrollTop:0};const l=qa(0);if(r||!r&&!s)if((pl(t)!=="body"||tu(a))&&(o=Rh(t)),r){const m=$i(t,!0,s,t);l.x=m.x+t.clientLeft,l.y=m.y+t.clientTop}else a&&(l.x=jg(a));const u=a&&!r&&!s?j2(a,o):qa(0),d=i.left+o.scrollLeft-l.x-u.x,f=i.top+o.scrollTop-l.y-u.y;return{x:d,y:f,width:i.width,height:i.height}}function jp(n){return Wn(n).position==="static"}function $v(n,t){if(!Wa(n)||Wn(n).position==="fixed")return null;if(t)return t(n);let e=n.offsetParent;return Ja(n)===e&&(e=e.ownerDocument.body),e}function C2(n,t){const e=An(n);if(Ih(n))return e;if(!Wa(n)){let a=Ks(n);for(;a&&!Zo(a);){if(Zr(a)&&!jp(a))return a;a=Ks(a)}return e}let r=$v(n,t);for(;r&&hk(r)&&jp(r);)r=$v(r,t);return r&&Zo(r)&&jp(r)&&!xg(r)?e:r||fk(n)||e}const Bk=async function(n){const t=this.getOffsetParent||C2,e=this.getDimensions,r=await e(n.floating);return{reference:Fk(n.reference,await t(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function qk(n){return Wn(n).direction==="rtl"}const Uk={convertOffsetParentRelativeRectToViewportRelativeRect:Ak,getDocumentElement:Ja,getClippingRect:Rk,getOffsetParent:C2,getElementRects:Bk,getClientRects:Lk,getDimensions:$k,getScale:Bo,isElement:Zr,isRTL:qk};function D2(n,t){return n.x===t.x&&n.y===t.y&&n.width===t.width&&n.height===t.height}function Vk(n,t){let e=null,r;const a=Ja(n);function s(){var o;clearTimeout(r),(o=e)==null||o.disconnect(),e=null}function i(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();const u=n.getBoundingClientRect(),{left:d,top:f,width:m,height:p}=u;if(o||t(),!m||!p)return;const y=dd(f),v=dd(a.clientWidth-(d+m)),x=dd(a.clientHeight-(f+p)),w=dd(d),_={rootMargin:-y+"px "+-v+"px "+-x+"px "+-w+"px",threshold:Di(0,el(1,l))||1};let C=!0;function A(B){const D=B[0].intersectionRatio;if(D!==l){if(!C)return i();D?i(!1,D):r=setTimeout(()=>{i(!1,1e-7)},1e3)}D===1&&!D2(u,n.getBoundingClientRect())&&i(),C=!1}try{e=new IntersectionObserver(A,{..._,root:a.ownerDocument})}catch{e=new IntersectionObserver(A,_)}e.observe(n)}return i(!0),s}function E2(n,t,e,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=_g(n),d=a||s?[...u?Ac(u):[],...Ac(t)]:[];d.forEach(w=>{a&&w.addEventListener("scroll",e,{passive:!0}),s&&w.addEventListener("resize",e)});const f=u&&o?Vk(u,e):null;let m=-1,p=null;i&&(p=new ResizeObserver(w=>{let[N]=w;N&&N.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var _;(_=p)==null||_.observe(t)})),e()}),u&&!l&&p.observe(u),p.observe(t));let y,v=l?$i(n):null;l&&x();function x(){const w=$i(n);v&&!D2(v,w)&&e(),v=w,y=requestAnimationFrame(x)}return e(),()=>{var w;d.forEach(N=>{a&&N.removeEventListener("scroll",e),s&&N.removeEventListener("resize",e)}),f==null||f(),(w=p)==null||w.disconnect(),p=null,l&&cancelAnimationFrame(y)}}const zk=Dk,Hk=kk,Fv=jk,Wk=(n,t,e)=>{const r=new Map,a={platform:Uk,...e},s={...a.platform,_c:r};return Nk(n,t,{...a,platform:s})};var Td=typeof document<"u"?V.useLayoutEffect:V.useEffect;function sh(n,t){if(n===t)return!0;if(typeof n!=typeof t)return!1;if(typeof n=="function"&&n.toString()===t.toString())return!0;let e,r,a;if(n&&t&&typeof n=="object"){if(Array.isArray(n)){if(e=n.length,e!==t.length)return!1;for(r=e;r--!==0;)if(!sh(n[r],t[r]))return!1;return!0}if(a=Object.keys(n),e=a.length,e!==Object.keys(t).length)return!1;for(r=e;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=e;r--!==0;){const s=a[r];if(!(s==="_owner"&&n.$$typeof)&&!sh(n[s],t[s]))return!1}return!0}return n!==n&&t!==t}function P2(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Bv(n,t){const e=P2(n);return Math.round(t*e)/e}function kp(n){const t=V.useRef(n);return Td(()=>{t.current=n}),t}function Yk(n){n===void 0&&(n={});const{placement:t="bottom",strategy:e="absolute",middleware:r=[],platform:a,elements:{reference:s,floating:i}={},transform:o=!0,whileElementsMounted:l,open:u}=n,[d,f]=V.useState({x:0,y:0,strategy:e,placement:t,middlewareData:{},isPositioned:!1}),[m,p]=V.useState(r);sh(m,r)||p(r);const[y,v]=V.useState(null),[x,w]=V.useState(null),N=V.useCallback(Z=>{Z!==B.current&&(B.current=Z,v(Z))},[]),_=V.useCallback(Z=>{Z!==D.current&&(D.current=Z,w(Z))},[]),C=s||y,A=i||x,B=V.useRef(null),D=V.useRef(null),E=V.useRef(d),U=l!=null,L=kp(l),k=kp(a),P=kp(u),F=V.useCallback(()=>{if(!B.current||!D.current)return;const Z={placement:t,strategy:e,middleware:m};k.current&&(Z.platform=k.current),Wk(B.current,D.current,Z).then(le=>{const de={...le,isPositioned:P.current!==!1};I.current&&!sh(E.current,de)&&(E.current=de,jh.flushSync(()=>{f(de)}))})},[m,t,e,k,P]);Td(()=>{u===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,f(Z=>({...Z,isPositioned:!1})))},[u]);const I=V.useRef(!1);Td(()=>(I.current=!0,()=>{I.current=!1}),[]),Td(()=>{if(C&&(B.current=C),A&&(D.current=A),C&&A){if(L.current)return L.current(C,A,F);F()}},[C,A,F,L,U]);const ee=V.useMemo(()=>({reference:B,floating:D,setReference:N,setFloating:_}),[N,_]),re=V.useMemo(()=>({reference:C,floating:A}),[C,A]),W=V.useMemo(()=>{const Z={position:e,left:0,top:0};if(!re.floating)return Z;const le=Bv(re.floating,d.x),de=Bv(re.floating,d.y);return o?{...Z,transform:"translate("+le+"px, "+de+"px)",...P2(re.floating)>=1.5&&{willChange:"transform"}}:{position:e,left:le,top:de}},[e,o,re.floating,d.x,d.y]);return V.useMemo(()=>({...d,update:F,refs:ee,elements:re,floatingStyles:W}),[d,F,ee,re,W])}const Gk=n=>{function t(e){return{}.hasOwnProperty.call(e,"current")}return{name:"arrow",options:n,fn(e){const{element:r,padding:a}=typeof n=="function"?n(e):n;return r&&t(r)?r.current!=null?Fv({element:r.current,padding:a}).fn(e):{}:r?Fv({element:r,padding:a}).fn(e):{}}}},Kk=(n,t)=>({...zk(n),options:[n,t]}),Jk=(n,t)=>({...Hk(n),options:[n,t]}),Xk=(n,t)=>({...Gk(n),options:[n,t]}),A2={...sm},Qk=A2.useInsertionEffect,Zk=Qk||(n=>n());function eC(n){const t=V.useRef(()=>{});return Zk(()=>{t.current=n}),V.useCallback(function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return t.current==null?void 0:t.current(...r)},[])}var ih=typeof document<"u"?V.useLayoutEffect:V.useEffect;function Cm(){return Cm=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Cm.apply(this,arguments)}let qv=!1,tC=0;const Uv=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+tC++;function rC(){const[n,t]=V.useState(()=>qv?Uv():void 0);return ih(()=>{n==null&&t(Uv())},[]),V.useEffect(()=>{qv=!0},[]),n}const nC=A2.useId,L2=nC||rC,aC=V.forwardRef(function(t,e){const{context:{placement:r,elements:{floating:a},middlewareData:{arrow:s,shift:i}},width:o=14,height:l=7,tipRadius:u=0,strokeWidth:d=0,staticOffset:f,stroke:m,d:p,style:{transform:y,...v}={},...x}=t,w=L2(),[N,_]=V.useState(!1);if(ih(()=>{if(!a)return;Wn(a).direction==="rtl"&&_(!0)},[a]),!a)return null;const[C,A]=r.split("-"),B=C==="top"||C==="bottom";let D=f;(B&&i!=null&&i.x||!B&&i!=null&&i.y)&&(D=null);const E=d*2,U=E/2,L=o/2*(u/-8+1),k=l/2*u/4,P=!!p,F=D&&A==="end"?"bottom":"top";let I=D&&A==="end"?"right":"left";D&&N&&(I=A==="end"?"left":"right");const ee=(s==null?void 0:s.x)!=null?D||s.x:"",re=(s==null?void 0:s.y)!=null?D||s.y:"",W=p||"M0,0"+(" H"+o)+(" L"+(o-L)+","+(l-k))+(" Q"+o/2+","+l+" "+L+","+(l-k))+" Z",Z={top:P?"rotate(180deg)":"",left:P?"rotate(90deg)":"rotate(-90deg)",bottom:P?"":"rotate(180deg)",right:P?"rotate(-90deg)":"rotate(90deg)"}[C];return V.createElement("svg",Cm({},x,{"aria-hidden":!0,ref:e,width:P?o:o+E,height:o,viewBox:"0 0 "+o+" "+(l>o?l:o),style:{position:"absolute",pointerEvents:"none",[I]:ee,[F]:re,[C]:B||P?"100%":"calc(100% - "+E/2+"px)",transform:[Z,y].filter(le=>!!le).join(" "),...v}}),E>0&&V.createElement("path",{clipPath:"url(#"+w+")",fill:"none",stroke:m,strokeWidth:E+(p?0:1),d:W}),V.createElement("path",{stroke:E&&!p?x.fill:"none",d:W}),V.createElement("clipPath",{id:w},V.createElement("rect",{x:-U,y:U*(P?-1:1),width:o+E,height:o})))});function sC(){const n=new Map;return{emit(t,e){var r;(r=n.get(t))==null||r.forEach(a=>a(e))},on(t,e){n.set(t,[...n.get(t)||[],e])},off(t,e){var r;n.set(t,((r=n.get(t))==null?void 0:r.filter(a=>a!==e))||[])}}}const iC=V.createContext(null),oC=V.createContext(null),lC=()=>{var n;return((n=V.useContext(iC))==null?void 0:n.id)||null},cC=()=>V.useContext(oC);function uC(n){const{open:t=!1,onOpenChange:e,elements:r}=n,a=L2(),s=V.useRef({}),[i]=V.useState(()=>sC()),o=lC()!=null,[l,u]=V.useState(r.reference),d=eC((p,y,v)=>{s.current.openEvent=p?y:void 0,i.emit("openchange",{open:p,event:y,reason:v,nested:o}),e==null||e(p,y,v)}),f=V.useMemo(()=>({setPositionReference:u}),[]),m=V.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return V.useMemo(()=>({dataRef:s,open:t,onOpenChange:d,elements:m,events:i,floatingId:a,refs:f}),[t,d,m,i,a,f])}function dC(n){n===void 0&&(n={});const{nodeId:t}=n,e=uC({...n,elements:{reference:null,floating:null,...n.elements}}),r=n.rootContext||e,a=r.elements,[s,i]=V.useState(null),[o,l]=V.useState(null),d=(a==null?void 0:a.domReference)||s,f=V.useRef(null),m=cC();ih(()=>{d&&(f.current=d)},[d]);const p=Yk({...n,elements:{...a,...o&&{reference:o}}}),y=V.useCallback(_=>{const C=Zr(_)?{getBoundingClientRect:()=>_.getBoundingClientRect(),contextElement:_}:_;l(C),p.refs.setReference(C)},[p.refs]),v=V.useCallback(_=>{(Zr(_)||_===null)&&(f.current=_,i(_)),(Zr(p.refs.reference.current)||p.refs.reference.current===null||_!==null&&!Zr(_))&&p.refs.setReference(_)},[p.refs]),x=V.useMemo(()=>({...p.refs,setReference:v,setPositionReference:y,domReference:f}),[p.refs,v,y]),w=V.useMemo(()=>({...p.elements,domReference:d}),[p.elements,d]),N=V.useMemo(()=>({...p,...r,refs:x,elements:w,nodeId:t}),[p,x,w,t,r]);return ih(()=>{r.dataRef.current.floatingContext=N;const _=m==null?void 0:m.nodesRef.current.find(C=>C.id===t);_&&(_.context=N)}),V.useMemo(()=>({...p,context:N,refs:x,elements:w}),[p,x,w,N])}/*!
  react-datepicker v6.9.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/function Sr(n,t,e){return t=oh(t),pC(n,O2()?Reflect.construct(t,e||[],oh(n).constructor):t.apply(n,e))}function O2(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O2=function(){return!!n})()}function Vv(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),e.push.apply(e,r)}return e}function ps(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Vv(Object(e),!0).forEach(function(r){J(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Vv(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function hC(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function T2(n){var t=hC(n,"string");return typeof t=="symbol"?t:t+""}function Dm(n){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dm(n)}function Nr(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function zv(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,T2(r.key),r)}}function _r(n,t,e){return t&&zv(n.prototype,t),e&&zv(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function J(n,t,e){return t=T2(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Oc(){return Oc=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Oc.apply(this,arguments)}function jr(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&Em(n,t)}function oh(n){return oh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},oh(n)}function Em(n,t){return Em=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},Em(n,t)}function fC(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function pC(n,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fC(n)}function Js(n){return mC(n)||gC(n)||vC(n)||bC()}function mC(n){if(Array.isArray(n))return Pm(n)}function gC(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function vC(n,t){if(n){if(typeof n=="string")return Pm(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);if(e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set")return Array.from(n);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return Pm(n,t)}}function Pm(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function bC(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var nu=12,yC=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;function At(n){var t=n?typeof n=="string"||n instanceof String?DS(n):Ey(n):new Date;return $s(t)?t:null}function xC(n,t,e,r,a){var s=null,i=Hs(e)||Hs(Ei()),o=!0;return Array.isArray(t)?(t.forEach(function(l){var u=Ed(n,l,new Date,{locale:i,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});r&&(o=$s(u,a)&&n===zt(u,l,e)),$s(u,a)&&o&&(s=u)}),s):(s=Ed(n,t,new Date,{locale:i,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0}),r?o=$s(s)&&n===zt(s,t,e):$s(s)||(t=t.match(yC).map(function(l){var u=l[0];if(u==="p"||u==="P"){var d=ES[u];return i?d(l,i.formatLong):u}return l}).join(""),n.length>0&&(s=Ed(n,t.slice(0,n.length),new Date,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})),$s(s)||(s=new Date(n))),$s(s)&&o?s:null)}function $s(n,t){return t=t||new Date("1/1/1000"),Kd(n)&&!Ti(n,t)}function zt(n,t,e){if(e==="en")return Ra(n,t,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var r=Hs(e);return e&&!r&&console.warn('A locale object was not found for the provided string ["'.concat(e,'"].')),!r&&Ei()&&Hs(Ei())&&(r=Hs(Ei())),Ra(n,t,{locale:r||null,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function zn(n,t){var e=t.dateFormat,r=t.locale;return n&&zt(n,Array.isArray(e)?e[0]:e,r)||""}function wC(n,t,e){if(!n)return"";var r=zn(n,e),a=t?zn(t,e):"";return"".concat(r," - ").concat(a)}function SC(n,t){if(!(n!=null&&n.length))return"";var e=zn(n[0],t);if(n.length===1)return e;if(n.length===2){var r=zn(n[1],t);return"".concat(e,", ").concat(r)}var a=n.length-1;return"".concat(e," (+").concat(a,")")}function Cp(n,t){var e=t.hour,r=e===void 0?0:e,a=t.minute,s=a===void 0?0:a,i=t.second,o=i===void 0?0:i;return Pd(Ad(Ld(n,o),s),r)}function NC(n,t){return Ei()&&Hs(Ei()),PS(n)}function _C(n,t){return zt(n,"ddd",t)}function jC(n){return $o(n)}function Vs(n,t,e){var r=Hs(t||Ei());return Py(n,{locale:r,weekStartsOn:e})}function zs(n){return Ay(n)}function pc(n){return ug(n)}function Hv(n){return AS(n)}function Wv(){return $o(At())}function kC(n){return LS(n)}function Oa(n,t){return n&&t?OS(n,t):!n&&!t}function En(n,t){return n&&t?NS(n,t):!n&&!t}function lh(n,t){return n&&t?TS(n,t):!n&&!t}function kt(n,t){return n&&t?_S(n,t):!n&&!t}function ki(n,t){return n&&t?jS(n,t):!n&&!t}function mc(n,t,e){var r,a=$o(t),s=um(e);try{r=kc(n,{start:a,end:s})}catch{r=!1}return r}function Ei(){var n=typeof window<"u"?window:globalThis;return n.__localeId__}function Hs(n){if(typeof n=="string"){var t=typeof window<"u"?window:globalThis;return t.__localeData__?t.__localeData__[n]:null}else return n}function CC(n,t,e){return t(zt(n,"EEEE",e))}function DC(n,t){return zt(n,"EEEEEE",t)}function EC(n,t){return zt(n,"EEE",t)}function kg(n,t){return zt(Dn(At(),n),"LLLL",t)}function M2(n,t){return zt(Dn(At(),n),"LLL",t)}function PC(n,t){return zt(Lo(At(),n),"QQQ",t)}function Fh(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=t.minDate,r=t.maxDate,a=t.excludeDates,s=t.excludeDateIntervals,i=t.includeDates,o=t.includeDateIntervals,l=t.filterDate;return Bh(n,{minDate:e,maxDate:r})||a&&a.some(function(u){return kt(n,u.date?u.date:u)})||s&&s.some(function(u){var d=u.start,f=u.end;return kc(n,{start:d,end:f})})||i&&!i.some(function(u){return kt(n,u)})||o&&!o.some(function(u){var d=u.start,f=u.end;return kc(n,{start:d,end:f})})||l&&!l(At(n))||!1}function Cg(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=t.excludeDates,r=t.excludeDateIntervals;return r&&r.length>0?r.some(function(a){var s=a.start,i=a.end;return kc(n,{start:s,end:i})}):e&&e.some(function(a){return kt(n,a.date?a.date:a)})||!1}function Md(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=t.minDate,r=t.maxDate,a=t.excludeDates,s=t.includeDates,i=t.filterDate;return Bh(n,{minDate:Ay(e),maxDate:MS(r)})||a&&a.some(function(o){return En(n,o)})||s&&!s.some(function(o){return En(n,o)})||i&&!i(At(n))||!1}function hd(n,t,e,r){var a=ht(n),s=Qr(n),i=ht(t),o=Qr(t),l=ht(r);if(a===i&&a===l)return s<=e&&e<=o;if(a<i)return l===a&&s<=e||l===i&&o>=e||l<i&&l>a}function Dp(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=t.minDate,r=t.maxDate,a=t.excludeDates,s=t.includeDates,i=t.filterDate;return Bh(n,{minDate:e,maxDate:r})||a&&a.some(function(o){return lh(n,o)})||s&&!s.some(function(o){return lh(n,o)})||i&&!i(At(n))||!1}function fd(n,t,e){if(!Kd(t)||!Kd(e))return!1;var r=ht(t),a=ht(e);return r<=n&&a>=n}function I2(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=t.minDate,r=t.maxDate,a=t.excludeDates,s=t.includeDates,i=t.filterDate,o=new Date(n,0,1);return Bh(o,{minDate:ug(e),maxDate:Ly(r)})||a&&a.some(function(l){return Oa(o,l)})||s&&!s.some(function(l){return Oa(o,l)})||i&&!i(At(o))||!1}function pd(n,t,e,r){var a=ht(n),s=vc(n),i=ht(t),o=vc(t),l=ht(r);if(a===i&&a===l)return s<=e&&e<=o;if(a<i)return l===a&&s<=e||l===i&&o>=e||l<i&&l>a}function Bh(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=t.minDate,r=t.maxDate;return e&&Jd(n,e)<0||r&&Jd(n,r)>0}function Yv(n,t){return t.some(function(e){return Fa(e)===Fa(n)&&Ba(e)===Ba(n)&&ms(e)===ms(n)})}function Gv(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=t.excludeTimes,r=t.includeTimes,a=t.filterTime;return e&&Yv(n,e)||r&&!Yv(n,r)||a&&!a(n)||!1}function Kv(n,t){var e=t.minTime,r=t.maxTime;if(!e||!r)throw new Error("Both minTime and maxTime props required");var a=At();a=Pd(a,Fa(n)),a=Ad(a,Ba(n)),a=Ld(a,ms(n));var s=At();s=Pd(s,Fa(e)),s=Ad(s,Ba(e)),s=Ld(s,ms(e));var i=At();i=Pd(i,Fa(r)),i=Ad(i,Ba(r)),i=Ld(i,ms(r));var o;try{o=!kc(a,{start:s,end:i})}catch{o=!1}return o}function Jv(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=t.minDate,r=t.includeDates,a=Go(n,1);return e&&Xd(e,a)>0||r&&r.every(function(s){return Xd(s,a)>0})||!1}function Xv(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=t.maxDate,r=t.includeDates,a=Ys(n,1);return e&&Xd(a,e)>0||r&&r.every(function(s){return Xd(a,s)>0})||!1}function AC(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=t.minDate,r=t.includeDates,a=ug(n),s=Cy(a,1);return e&&Qd(e,s)>0||r&&r.every(function(i){return Qd(i,s)>0})||!1}function LC(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=t.maxDate,r=t.includeDates,a=Ly(n),s=Dy(a,1);return e&&Qd(s,e)>0||r&&r.every(function(i){return Qd(s,i)>0})||!1}function Qv(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=t.minDate,r=t.includeDates,a=Ko(n,1);return e&&Zd(e,a)>0||r&&r.every(function(s){return Zd(s,a)>0})||!1}function OC(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=t.minDate,r=t.yearItemNumber,a=r===void 0?nu:r,s=pc(Ko(n,a)),i=Bs(s,a),o=i.endPeriod,l=e&&ht(e);return l&&l>o||!1}function Zv(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=t.maxDate,r=t.includeDates,a=Us(n,1);return e&&Zd(a,e)>0||r&&r.every(function(s){return Zd(a,s)>0})||!1}function TC(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=t.maxDate,r=t.yearItemNumber,a=r===void 0?nu:r,s=Us(n,a),i=Bs(s,a),o=i.startPeriod,l=e&&ht(e);return l&&l<o||!1}function R2(n){var t=n.minDate,e=n.includeDates;if(e&&t){var r=e.filter(function(a){return Jd(a,t)>=0});return cv(r)}else return e?cv(e):t}function $2(n){var t=n.maxDate,e=n.includeDates;if(e&&t){var r=e.filter(function(a){return Jd(a,t)<=0});return uv(r)}else return e?uv(e):t}function e1(){for(var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"react-datepicker__day--highlighted",e=new Map,r=0,a=n.length;r<a;r++){var s=n[r];if(Yo(s)){var i=zt(s,"MM.dd.yyyy"),o=e.get(i)||[];o.includes(t)||(o.push(t),e.set(i,o))}else if(Dm(s)==="object"){var l=Object.keys(s),u=l[0],d=s[l[0]];if(typeof u=="string"&&d.constructor===Array)for(var f=0,m=d.length;f<m;f++){var p=zt(d[f],"MM.dd.yyyy"),y=e.get(p)||[];y.includes(u)||(y.push(u),e.set(p,y))}}}return e}function MC(n,t){return n.length!==t.length?!1:n.every(function(e,r){return e===t[r]})}function IC(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"react-datepicker__day--holidays",e=new Map;return n.forEach(function(r){var a=r.date,s=r.holidayName;if(Yo(a)){var i=zt(a,"MM.dd.yyyy"),o=e.get(i)||{};if(!("className"in o&&o.className===t&&MC(o.holidayNames,[s]))){o.className=t;var l=o.holidayNames;o.holidayNames=l?[].concat(Js(l),[s]):[s],e.set(i,o)}}}),e}function RC(n,t,e,r,a){for(var s=a.length,i=[],o=0;o<s;o++){var l=n;l=IS(l,Fa(a[o])),l=cm(l,Ba(a[o])),l=RS(l,ms(a[o]));var u=cm(n,(e+1)*r);Ws(l,t)&&Ti(l,u)&&i.push(a[o])}return i}function t1(n){return n<10?"0".concat(n):"".concat(n)}function Bs(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:nu,e=Math.ceil(ht(n)/t)*t,r=e-(t-1);return{startPeriod:r,endPeriod:e}}function $C(n){var t=new Date(n.getFullYear(),n.getMonth(),n.getDate()),e=new Date(n.getFullYear(),n.getMonth(),n.getDate(),24);return Math.round((+e-+t)/36e5)}function r1(n){var t=n.getSeconds(),e=n.getMilliseconds();return Ey(n.getTime()-t*1e3-e)}function FC(n,t){return r1(n).getTime()===r1(t).getTime()}function n1(n){if(!Yo(n))throw new Error("Invalid date");var t=new Date(n);return t.setHours(0,0,0,0),t}function a1(n,t){if(!Yo(n)||!Yo(t))throw new Error("Invalid date received");var e=n1(n),r=n1(t);return Ti(e,r)}function F2(n){var t=" ";return n.key===t}function BC(n,t,e,r){for(var a=[],s=0;s<2*t+1;s++){var i=n+t-s,o=!0;e&&(o=ht(e)<=i),r&&o&&(o=ht(r)>=i),o&&a.push(i)}return a}var qC=function(n){function t(e){var r;Nr(this,t),r=Sr(this,t,[e]),J(r,"renderOptions",function(){var o=r.props.year,l=r.state.yearsList.map(function(f){return H.createElement("div",{className:o===f?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:f,onClick:r.onChange.bind(r,f),"aria-selected":o===f?"true":void 0},o===f?H.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",f)}),u=r.props.minDate?ht(r.props.minDate):null,d=r.props.maxDate?ht(r.props.maxDate):null;return(!d||!r.state.yearsList.find(function(f){return f===d}))&&l.unshift(H.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:r.incrementYears},H.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!u||!r.state.yearsList.find(function(f){return f===u}))&&l.push(H.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:r.decrementYears},H.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),l}),J(r,"onChange",function(o){r.props.onChange(o)}),J(r,"handleClickOutside",function(){r.props.onCancel()}),J(r,"shiftYears",function(o){var l=r.state.yearsList.map(function(u){return u+o});r.setState({yearsList:l})}),J(r,"incrementYears",function(){return r.shiftYears(1)}),J(r,"decrementYears",function(){return r.shiftYears(-1)});var a=e.yearDropdownItemNumber,s=e.scrollableYearDropdown,i=a||(s?10:5);return r.state={yearsList:BC(r.props.year,i,r.props.minDate,r.props.maxDate)},r.dropdownRef=V.createRef(),r}return jr(t,n),_r(t,[{key:"componentDidMount",value:function(){var r=this.dropdownRef.current;if(r){var a=r.children?Array.from(r.children):null,s=a?a.find(function(i){return i.ariaSelected}):null;r.scrollTop=s?s.offsetTop+(s.clientHeight-r.clientHeight)/2:(r.scrollHeight-r.clientHeight)/2}}},{key:"render",value:function(){var r=Ar({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return H.createElement("div",{className:r,ref:this.dropdownRef},this.renderOptions())}}])}(H.Component),UC=Th(qC),VC=function(n){function t(){var e;Nr(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=Sr(this,t,[].concat(a)),J(e,"state",{dropdownVisible:!1}),J(e,"renderSelectOptions",function(){for(var i=e.props.minDate?ht(e.props.minDate):1900,o=e.props.maxDate?ht(e.props.maxDate):2100,l=[],u=i;u<=o;u++)l.push(H.createElement("option",{key:u,value:u},u));return l}),J(e,"onSelectChange",function(i){e.onChange(i.target.value)}),J(e,"renderSelectMode",function(){return H.createElement("select",{value:e.props.year,className:"react-datepicker__year-select",onChange:e.onSelectChange},e.renderSelectOptions())}),J(e,"renderReadView",function(i){return H.createElement("div",{key:"read",style:{visibility:i?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:function(l){return e.toggleDropdown(l)}},H.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),H.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},e.props.year))}),J(e,"renderDropdown",function(){return H.createElement(UC,{key:"dropdown",year:e.props.year,onChange:e.onChange,onCancel:e.toggleDropdown,minDate:e.props.minDate,maxDate:e.props.maxDate,scrollableYearDropdown:e.props.scrollableYearDropdown,yearDropdownItemNumber:e.props.yearDropdownItemNumber})}),J(e,"renderScrollMode",function(){var i=e.state.dropdownVisible,o=[e.renderReadView(!i)];return i&&o.unshift(e.renderDropdown()),o}),J(e,"onChange",function(i){e.toggleDropdown(),i!==e.props.year&&e.props.onChange(i)}),J(e,"toggleDropdown",function(i){e.setState({dropdownVisible:!e.state.dropdownVisible},function(){e.props.adjustDateOnChange&&e.handleYearChange(e.props.date,i)})}),J(e,"handleYearChange",function(i,o){e.onSelect(i,o),e.setOpen()}),J(e,"onSelect",function(i,o){e.props.onSelect&&e.props.onSelect(i,o)}),J(e,"setOpen",function(){e.props.setOpen&&e.props.setOpen(!0)}),e}return jr(t,n),_r(t,[{key:"render",value:function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return H.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},r)}}])}(H.Component),zC=function(n){function t(){var e;Nr(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=Sr(this,t,[].concat(a)),J(e,"isSelectedMonth",function(i){return e.props.month===i}),J(e,"renderOptions",function(){return e.props.monthNames.map(function(i,o){return H.createElement("div",{className:e.isSelectedMonth(o)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:i,onClick:e.onChange.bind(e,o),"aria-selected":e.isSelectedMonth(o)?"true":void 0},e.isSelectedMonth(o)?H.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",i)})}),J(e,"onChange",function(i){return e.props.onChange(i)}),J(e,"handleClickOutside",function(){return e.props.onCancel()}),e}return jr(t,n),_r(t,[{key:"render",value:function(){return H.createElement("div",{className:"react-datepicker__month-dropdown"},this.renderOptions())}}])}(H.Component),HC=Th(zC),WC=function(n){function t(){var e;Nr(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=Sr(this,t,[].concat(a)),J(e,"state",{dropdownVisible:!1}),J(e,"renderSelectOptions",function(i){return i.map(function(o,l){return H.createElement("option",{key:l,value:l},o)})}),J(e,"renderSelectMode",function(i){return H.createElement("select",{value:e.props.month,className:"react-datepicker__month-select",onChange:function(l){return e.onChange(l.target.value)}},e.renderSelectOptions(i))}),J(e,"renderReadView",function(i,o){return H.createElement("div",{key:"read",style:{visibility:i?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:e.toggleDropdown},H.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),H.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},o[e.props.month]))}),J(e,"renderDropdown",function(i){return H.createElement(HC,{key:"dropdown",month:e.props.month,monthNames:i,onChange:e.onChange,onCancel:e.toggleDropdown})}),J(e,"renderScrollMode",function(i){var o=e.state.dropdownVisible,l=[e.renderReadView(!o,i)];return o&&l.unshift(e.renderDropdown(i)),l}),J(e,"onChange",function(i){e.toggleDropdown(),i!==e.props.month&&e.props.onChange(i)}),J(e,"toggleDropdown",function(){return e.setState({dropdownVisible:!e.state.dropdownVisible})}),e}return jr(t,n),_r(t,[{key:"render",value:function(){var r=this,a=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(i){return M2(i,r.props.locale)}:function(i){return kg(i,r.props.locale)}),s;switch(this.props.dropdownMode){case"scroll":s=this.renderScrollMode(a);break;case"select":s=this.renderSelectMode(a);break}return H.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},s)}}])}(H.Component);function YC(n,t){for(var e=[],r=zs(n),a=zs(t);!Ws(r,a);)e.push(At(r)),r=Ys(r,1);return e}var GC=function(n){function t(e){var r;return Nr(this,t),r=Sr(this,t,[e]),J(r,"renderOptions",function(){return r.state.monthYearsList.map(function(a){var s=om(a),i=Oa(r.props.date,a)&&En(r.props.date,a);return H.createElement("div",{className:i?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:r.onChange.bind(r,s),"aria-selected":i?"true":void 0},i?H.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",zt(a,r.props.dateFormat,r.props.locale))})}),J(r,"onChange",function(a){return r.props.onChange(a)}),J(r,"handleClickOutside",function(){r.props.onCancel()}),r.state={monthYearsList:YC(r.props.minDate,r.props.maxDate)},r}return jr(t,n),_r(t,[{key:"render",value:function(){var r=Ar({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return H.createElement("div",{className:r},this.renderOptions())}}])}(H.Component),KC=Th(GC),JC=function(n){function t(){var e;Nr(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=Sr(this,t,[].concat(a)),J(e,"state",{dropdownVisible:!1}),J(e,"renderSelectOptions",function(){for(var i=zs(e.props.minDate),o=zs(e.props.maxDate),l=[];!Ws(i,o);){var u=om(i);l.push(H.createElement("option",{key:u,value:u},zt(i,e.props.dateFormat,e.props.locale))),i=Ys(i,1)}return l}),J(e,"onSelectChange",function(i){e.onChange(i.target.value)}),J(e,"renderSelectMode",function(){return H.createElement("select",{value:om(zs(e.props.date)),className:"react-datepicker__month-year-select",onChange:e.onSelectChange},e.renderSelectOptions())}),J(e,"renderReadView",function(i){var o=zt(e.props.date,e.props.dateFormat,e.props.locale);return H.createElement("div",{key:"read",style:{visibility:i?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:function(u){return e.toggleDropdown(u)}},H.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),H.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},o))}),J(e,"renderDropdown",function(){return H.createElement(KC,{key:"dropdown",date:e.props.date,dateFormat:e.props.dateFormat,onChange:e.onChange,onCancel:e.toggleDropdown,minDate:e.props.minDate,maxDate:e.props.maxDate,scrollableMonthYearDropdown:e.props.scrollableMonthYearDropdown,locale:e.props.locale})}),J(e,"renderScrollMode",function(){var i=e.state.dropdownVisible,o=[e.renderReadView(!i)];return i&&o.unshift(e.renderDropdown()),o}),J(e,"onChange",function(i){e.toggleDropdown();var o=At(parseInt(i));Oa(e.props.date,o)&&En(e.props.date,o)||e.props.onChange(o)}),J(e,"toggleDropdown",function(){return e.setState({dropdownVisible:!e.state.dropdownVisible})}),e}return jr(t,n),_r(t,[{key:"render",value:function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return H.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},r)}}])}(H.Component),XC=function(n){function t(){var e;Nr(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=Sr(this,t,[].concat(a)),J(e,"dayEl",H.createRef()),J(e,"handleClick",function(i){!e.isDisabled()&&e.props.onClick&&e.props.onClick(i)}),J(e,"handleMouseEnter",function(i){!e.isDisabled()&&e.props.onMouseEnter&&e.props.onMouseEnter(i)}),J(e,"handleOnKeyDown",function(i){var o=i.key;o===" "&&(i.preventDefault(),i.key="Enter"),e.props.handleOnKeyDown(i)}),J(e,"isSameDay",function(i){return kt(e.props.day,i)}),J(e,"isKeyboardSelected",function(){var i;if(e.props.disabledKeyboardNavigation)return!1;var o=e.props.selectsMultiple?(i=e.props.selectedDates)===null||i===void 0?void 0:i.some(function(l){return e.isSameDayOrWeek(l)}):e.isSameDayOrWeek(e.props.selected);return!o&&e.isSameDayOrWeek(e.props.preSelection)}),J(e,"isDisabled",function(){return Fh(e.props.day,e.props)}),J(e,"isExcluded",function(){return Cg(e.props.day,e.props)}),J(e,"isStartOfWeek",function(){return kt(e.props.day,Vs(e.props.day,e.props.locale,e.props.calendarStartDay))}),J(e,"isSameWeek",function(i){return e.props.showWeekPicker&&kt(i,Vs(e.props.day,e.props.locale,e.props.calendarStartDay))}),J(e,"isSameDayOrWeek",function(i){return e.isSameDay(i)||e.isSameWeek(i)}),J(e,"getHighLightedClass",function(){var i=e.props,o=i.day,l=i.highlightDates;if(!l)return!1;var u=zt(o,"MM.dd.yyyy");return l.get(u)}),J(e,"getHolidaysClass",function(){var i=e.props,o=i.day,l=i.holidays;if(!l)return!1;var u=zt(o,"MM.dd.yyyy");if(l.has(u))return[l.get(u).className]}),J(e,"isInRange",function(){var i=e.props,o=i.day,l=i.startDate,u=i.endDate;return!l||!u?!1:mc(o,l,u)}),J(e,"isInSelectingRange",function(){var i,o=e.props,l=o.day,u=o.selectsStart,d=o.selectsEnd,f=o.selectsRange,m=o.selectsDisabledDaysInRange,p=o.startDate,y=o.endDate,v=(i=e.props.selectingDate)!==null&&i!==void 0?i:e.props.preSelection;return!(u||d||f)||!v||!m&&e.isDisabled()?!1:u&&y&&(Ti(v,y)||ki(v,y))?mc(l,v,y):d&&p&&(Ws(v,p)||ki(v,p))||f&&p&&!y&&(Ws(v,p)||ki(v,p))?mc(l,p,v):!1}),J(e,"isSelectingRangeStart",function(){var i;if(!e.isInSelectingRange())return!1;var o=e.props,l=o.day,u=o.startDate,d=o.selectsStart,f=(i=e.props.selectingDate)!==null&&i!==void 0?i:e.props.preSelection;return d?kt(l,f):kt(l,u)}),J(e,"isSelectingRangeEnd",function(){var i;if(!e.isInSelectingRange())return!1;var o=e.props,l=o.day,u=o.endDate,d=o.selectsEnd,f=o.selectsRange,m=(i=e.props.selectingDate)!==null&&i!==void 0?i:e.props.preSelection;return d||f?kt(l,m):kt(l,u)}),J(e,"isRangeStart",function(){var i=e.props,o=i.day,l=i.startDate,u=i.endDate;return!l||!u?!1:kt(l,o)}),J(e,"isRangeEnd",function(){var i=e.props,o=i.day,l=i.startDate,u=i.endDate;return!l||!u?!1:kt(u,o)}),J(e,"isWeekend",function(){var i=ky(e.props.day);return i===0||i===6}),J(e,"isAfterMonth",function(){return e.props.month!==void 0&&(e.props.month+1)%12===Qr(e.props.day)}),J(e,"isBeforeMonth",function(){return e.props.month!==void 0&&(Qr(e.props.day)+1)%12===e.props.month}),J(e,"isCurrentDay",function(){return e.isSameDay(At())}),J(e,"isSelected",function(){if(e.props.selectsMultiple){var i;return(i=e.props.selectedDates)===null||i===void 0?void 0:i.some(function(o){return e.isSameDayOrWeek(o)})}return e.isSameDayOrWeek(e.props.selected)}),J(e,"getClassNames",function(i){var o=e.props.dayClassName?e.props.dayClassName(i):void 0;return Ar("react-datepicker__day",o,"react-datepicker__day--"+_C(e.props.day),{"react-datepicker__day--disabled":e.isDisabled(),"react-datepicker__day--excluded":e.isExcluded(),"react-datepicker__day--selected":e.isSelected(),"react-datepicker__day--keyboard-selected":e.isKeyboardSelected(),"react-datepicker__day--range-start":e.isRangeStart(),"react-datepicker__day--range-end":e.isRangeEnd(),"react-datepicker__day--in-range":e.isInRange(),"react-datepicker__day--in-selecting-range":e.isInSelectingRange(),"react-datepicker__day--selecting-range-start":e.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":e.isSelectingRangeEnd(),"react-datepicker__day--today":e.isCurrentDay(),"react-datepicker__day--weekend":e.isWeekend(),"react-datepicker__day--outside-month":e.isAfterMonth()||e.isBeforeMonth()},e.getHighLightedClass("react-datepicker__day--highlighted"),e.getHolidaysClass())}),J(e,"getAriaLabel",function(){var i=e.props,o=i.day,l=i.ariaLabelPrefixWhenEnabled,u=l===void 0?"Choose":l,d=i.ariaLabelPrefixWhenDisabled,f=d===void 0?"Not available":d,m=e.isDisabled()||e.isExcluded()?f:u;return"".concat(m," ").concat(zt(o,"PPPP",e.props.locale))}),J(e,"getTitle",function(){var i=e.props,o=i.day,l=i.holidays,u=l===void 0?new Map:l,d=i.excludeDates,f=zt(o,"MM.dd.yyyy"),m=[];return u.has(f)&&m.push.apply(m,Js(u.get(f).holidayNames)),e.isExcluded()&&m.push(d==null?void 0:d.filter(function(p){return kt(p.date?p.date:p,o)}).map(function(p){return p.message})),m.join(", ")}),J(e,"getTabIndex",function(i,o){var l=i||e.props.selected,u=o||e.props.preSelection,d=!(e.props.showWeekPicker&&(e.props.showWeekNumber||!e.isStartOfWeek()))&&(e.isKeyboardSelected()||e.isSameDay(l)&&kt(u,l))?0:-1;return d}),J(e,"handleFocusDay",function(){var i,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},l=!1;e.getTabIndex()===0&&!o.isInputFocused&&e.isSameDay(e.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(l=!0),e.props.inline&&!e.props.shouldFocusDayInline&&(l=!1),e.props.containerRef&&e.props.containerRef.current&&e.props.containerRef.current.contains(document.activeElement)&&document.activeElement.classList.contains("react-datepicker__day")&&(l=!0),e.props.monthShowsDuplicateDaysEnd&&e.isAfterMonth()&&(l=!1),e.props.monthShowsDuplicateDaysStart&&e.isBeforeMonth()&&(l=!1)),l&&((i=e.dayEl.current)===null||i===void 0||i.focus({preventScroll:!0}))}),J(e,"renderDayContents",function(){return e.props.monthShowsDuplicateDaysEnd&&e.isAfterMonth()||e.props.monthShowsDuplicateDaysStart&&e.isBeforeMonth()?null:e.props.renderDayContents?e.props.renderDayContents(ov(e.props.day),e.props.day):ov(e.props.day)}),J(e,"render",function(){return H.createElement("div",{ref:e.dayEl,className:e.getClassNames(e.props.day),onKeyDown:e.handleOnKeyDown,onClick:e.handleClick,onMouseEnter:e.props.usePointerEvent?void 0:e.handleMouseEnter,onPointerEnter:e.props.usePointerEvent?e.handleMouseEnter:void 0,tabIndex:e.getTabIndex(),"aria-label":e.getAriaLabel(),role:"option",title:e.getTitle(),"aria-disabled":e.isDisabled(),"aria-current":e.isCurrentDay()?"date":void 0,"aria-selected":e.isSelected()||e.isInRange()},e.renderDayContents(),e.getTitle()!==""&&H.createElement("span",{className:"overlay"},e.getTitle()))}),e}return jr(t,n),_r(t,[{key:"componentDidMount",value:function(){this.handleFocusDay()}},{key:"componentDidUpdate",value:function(r){this.handleFocusDay(r)}}])}(H.Component),QC=function(n){function t(){var e;Nr(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=Sr(this,t,[].concat(a)),J(e,"weekNumberEl",H.createRef()),J(e,"handleClick",function(i){e.props.onClick&&e.props.onClick(i)}),J(e,"handleOnKeyDown",function(i){var o=i.key;o===" "&&(i.preventDefault(),i.key="Enter"),e.props.handleOnKeyDown(i)}),J(e,"isKeyboardSelected",function(){return!e.props.disabledKeyboardNavigation&&!kt(e.props.date,e.props.selected)&&kt(e.props.date,e.props.preSelection)}),J(e,"getTabIndex",function(){return e.props.showWeekPicker&&e.props.showWeekNumber&&(e.isKeyboardSelected()||kt(e.props.date,e.props.selected)&&kt(e.props.preSelection,e.props.selected))?0:-1}),J(e,"handleFocusWeekNumber",function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=!1;e.getTabIndex()===0&&!i.isInputFocused&&kt(e.props.date,e.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(o=!0),e.props.inline&&!e.props.shouldFocusDayInline&&(o=!1),e.props.containerRef&&e.props.containerRef.current&&e.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(o=!0)),o&&e.weekNumberEl.current&&e.weekNumberEl.current.focus({preventScroll:!0})}),e}return jr(t,n),_r(t,[{key:"componentDidMount",value:function(){this.handleFocusWeekNumber()}},{key:"componentDidUpdate",value:function(r){this.handleFocusWeekNumber(r)}},{key:"render",value:function(){var r=this.props,a=r.weekNumber,s=r.ariaLabelPrefix,i=s===void 0?"week ":s,o=r.onClick,l={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!o,"react-datepicker__week-number--selected":!!o&&kt(this.props.date,this.props.selected),"react-datepicker__week-number--keyboard-selected":this.isKeyboardSelected()};return H.createElement("div",{ref:this.weekNumberEl,className:Ar(l),"aria-label":"".concat(i," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex()},a)}}],[{key:"defaultProps",get:function(){return{ariaLabelPrefix:"week "}}}])}(H.Component),ZC=function(n){function t(){var e;Nr(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=Sr(this,t,[].concat(a)),J(e,"handleDayClick",function(i,o){e.props.onDayClick&&e.props.onDayClick(i,o)}),J(e,"handleDayMouseEnter",function(i){e.props.onDayMouseEnter&&e.props.onDayMouseEnter(i)}),J(e,"handleWeekClick",function(i,o,l){typeof e.props.onWeekSelect=="function"&&e.props.onWeekSelect(i,o,l),e.props.showWeekPicker&&e.handleDayClick(i,l),e.props.shouldCloseOnSelect&&e.props.setOpen(!1)}),J(e,"formatWeekNumber",function(i){return e.props.formatWeekNumber?e.props.formatWeekNumber(i):NC(i)}),J(e,"renderDays",function(){var i=e.startOfWeek(),o=[],l=e.formatWeekNumber(i);if(e.props.showWeekNumber){var u=e.props.onWeekSelect||e.props.showWeekPicker?e.handleWeekClick.bind(e,i,l):void 0;o.push(H.createElement(QC,{key:"W",weekNumber:l,date:i,onClick:u,selected:e.props.selected,preSelection:e.props.preSelection,ariaLabelPrefix:e.props.ariaLabelPrefix,showWeekPicker:e.props.showWeekPicker,showWeekNumber:e.props.showWeekNumber,disabledKeyboardNavigation:e.props.disabledKeyboardNavigation,handleOnKeyDown:e.props.handleOnKeyDown,isInputFocused:e.props.isInputFocused,containerRef:e.props.containerRef}))}return o.concat([0,1,2,3,4,5,6].map(function(d){var f=kh(i,d);return H.createElement(XC,{ariaLabelPrefixWhenEnabled:e.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:e.props.disabledDayAriaLabelPrefix,key:f.valueOf(),day:f,month:e.props.month,onClick:e.handleDayClick.bind(e,f),usePointerEvent:e.props.usePointerEvent,onMouseEnter:e.handleDayMouseEnter.bind(e,f),minDate:e.props.minDate,maxDate:e.props.maxDate,calendarStartDay:e.props.calendarStartDay,excludeDates:e.props.excludeDates,excludeDateIntervals:e.props.excludeDateIntervals,includeDates:e.props.includeDates,includeDateIntervals:e.props.includeDateIntervals,highlightDates:e.props.highlightDates,holidays:e.props.holidays,selectingDate:e.props.selectingDate,filterDate:e.props.filterDate,preSelection:e.props.preSelection,selected:e.props.selected,selectsStart:e.props.selectsStart,selectsEnd:e.props.selectsEnd,selectsRange:e.props.selectsRange,showWeekPicker:e.props.showWeekPicker,showWeekNumber:e.props.showWeekNumber,selectsDisabledDaysInRange:e.props.selectsDisabledDaysInRange,selectsMultiple:e.props.selectsMultiple,selectedDates:e.props.selectedDates,startDate:e.props.startDate,endDate:e.props.endDate,dayClassName:e.props.dayClassName,renderDayContents:e.props.renderDayContents,disabledKeyboardNavigation:e.props.disabledKeyboardNavigation,handleOnKeyDown:e.props.handleOnKeyDown,isInputFocused:e.props.isInputFocused,containerRef:e.props.containerRef,inline:e.props.inline,shouldFocusDayInline:e.props.shouldFocusDayInline,monthShowsDuplicateDaysEnd:e.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:e.props.monthShowsDuplicateDaysStart,locale:e.props.locale})}))}),J(e,"startOfWeek",function(){return Vs(e.props.day,e.props.locale,e.props.calendarStartDay)}),J(e,"isKeyboardSelected",function(){return!e.props.disabledKeyboardNavigation&&!kt(e.startOfWeek(),e.props.selected)&&kt(e.startOfWeek(),e.props.preSelection)}),e}return jr(t,n),_r(t,[{key:"render",value:function(){var r={"react-datepicker__week":!0,"react-datepicker__week--selected":kt(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()};return H.createElement("div",{className:Ar(r)},this.renderDays())}}],[{key:"defaultProps",get:function(){return{shouldCloseOnSelect:!0}}}])}(H.Component),e6=6,qo={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},Ep=J(J(J({},qo.TWO_COLUMNS,{grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2}),qo.THREE_COLUMNS,{grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3}),qo.FOUR_COLUMNS,{grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4}),md=1;function s1(n,t){return n?qo.FOUR_COLUMNS:t?qo.TWO_COLUMNS:qo.THREE_COLUMNS}var t6=function(n){function t(){var e;Nr(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=Sr(this,t,[].concat(a)),J(e,"MONTH_REFS",Js(Array(12)).map(function(){return H.createRef()})),J(e,"QUARTER_REFS",Js(Array(4)).map(function(){return H.createRef()})),J(e,"isDisabled",function(i){return Fh(i,e.props)}),J(e,"isExcluded",function(i){return Cg(i,e.props)}),J(e,"handleDayClick",function(i,o){e.props.onDayClick&&e.props.onDayClick(i,o,e.props.orderInDisplay)}),J(e,"handleDayMouseEnter",function(i){e.props.onDayMouseEnter&&e.props.onDayMouseEnter(i)}),J(e,"handleMouseLeave",function(){e.props.onMouseLeave&&e.props.onMouseLeave()}),J(e,"isRangeStartMonth",function(i){var o=e.props,l=o.day,u=o.startDate,d=o.endDate;return!u||!d?!1:En(Dn(l,i),u)}),J(e,"isRangeStartQuarter",function(i){var o=e.props,l=o.day,u=o.startDate,d=o.endDate;return!u||!d?!1:lh(Lo(l,i),u)}),J(e,"isRangeEndMonth",function(i){var o=e.props,l=o.day,u=o.startDate,d=o.endDate;return!u||!d?!1:En(Dn(l,i),d)}),J(e,"isRangeEndQuarter",function(i){var o=e.props,l=o.day,u=o.startDate,d=o.endDate;return!u||!d?!1:lh(Lo(l,i),d)}),J(e,"isInSelectingRangeMonth",function(i){var o,l=e.props,u=l.day,d=l.selectsStart,f=l.selectsEnd,m=l.selectsRange,p=l.startDate,y=l.endDate,v=(o=e.props.selectingDate)!==null&&o!==void 0?o:e.props.preSelection;return!(d||f||m)||!v?!1:d&&y?hd(v,y,i,u):f&&p||m&&p&&!y?hd(p,v,i,u):!1}),J(e,"isSelectingMonthRangeStart",function(i){var o;if(!e.isInSelectingRangeMonth(i))return!1;var l=e.props,u=l.day,d=l.startDate,f=l.selectsStart,m=Dn(u,i),p=(o=e.props.selectingDate)!==null&&o!==void 0?o:e.props.preSelection;return f?En(m,p):En(m,d)}),J(e,"isSelectingMonthRangeEnd",function(i){var o;if(!e.isInSelectingRangeMonth(i))return!1;var l=e.props,u=l.day,d=l.endDate,f=l.selectsEnd,m=l.selectsRange,p=Dn(u,i),y=(o=e.props.selectingDate)!==null&&o!==void 0?o:e.props.preSelection;return f||m?En(p,y):En(p,d)}),J(e,"isInSelectingRangeQuarter",function(i){var o,l=e.props,u=l.day,d=l.selectsStart,f=l.selectsEnd,m=l.selectsRange,p=l.startDate,y=l.endDate,v=(o=e.props.selectingDate)!==null&&o!==void 0?o:e.props.preSelection;return!(d||f||m)||!v?!1:d&&y?pd(v,y,i,u):f&&p||m&&p&&!y?pd(p,v,i,u):!1}),J(e,"isWeekInMonth",function(i){var o=e.props.day,l=kh(i,6);return En(i,o)||En(l,o)}),J(e,"isCurrentMonth",function(i,o){return ht(i)===ht(At())&&o===Qr(At())}),J(e,"isCurrentQuarter",function(i,o){return ht(i)===ht(At())&&o===vc(At())}),J(e,"isSelectedMonth",function(i,o,l){return Qr(l)===o&&ht(i)===ht(l)}),J(e,"isSelectedQuarter",function(i,o,l){return vc(i)===o&&ht(i)===ht(l)}),J(e,"renderWeeks",function(){for(var i=[],o=e.props.fixedHeight,l=0,u=!1,d=Vs(zs(e.props.day),e.props.locale,e.props.calendarStartDay),f=e.props.showWeekPicker?Vs(e.props.selected,e.props.locale,e.props.calendarStartDay):e.props.selected,m=e.props.showWeekPicker?Vs(e.props.preSelection,e.props.locale,e.props.calendarStartDay):e.props.preSelection;i.push(H.createElement(ZC,{ariaLabelPrefix:e.props.weekAriaLabelPrefix,chooseDayAriaLabelPrefix:e.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:e.props.disabledDayAriaLabelPrefix,key:l,day:d,month:Qr(e.props.day),onDayClick:e.handleDayClick,usePointerEvent:e.props.usePointerEvent,onDayMouseEnter:e.handleDayMouseEnter,onWeekSelect:e.props.onWeekSelect,formatWeekNumber:e.props.formatWeekNumber,locale:e.props.locale,minDate:e.props.minDate,maxDate:e.props.maxDate,excludeDates:e.props.excludeDates,excludeDateIntervals:e.props.excludeDateIntervals,includeDates:e.props.includeDates,includeDateIntervals:e.props.includeDateIntervals,inline:e.props.inline,shouldFocusDayInline:e.props.shouldFocusDayInline,highlightDates:e.props.highlightDates,holidays:e.props.holidays,selectingDate:e.props.selectingDate,filterDate:e.props.filterDate,preSelection:m,selected:f,selectsStart:e.props.selectsStart,selectsEnd:e.props.selectsEnd,selectsRange:e.props.selectsRange,selectsDisabledDaysInRange:e.props.selectsDisabledDaysInRange,selectsMultiple:e.props.selectsMultiple,selectedDates:e.props.selectedDates,showWeekNumber:e.props.showWeekNumbers,showWeekPicker:e.props.showWeekPicker,startDate:e.props.startDate,endDate:e.props.endDate,dayClassName:e.props.dayClassName,setOpen:e.props.setOpen,shouldCloseOnSelect:e.props.shouldCloseOnSelect,disabledKeyboardNavigation:e.props.disabledKeyboardNavigation,renderDayContents:e.props.renderDayContents,handleOnKeyDown:e.props.handleOnKeyDown,isInputFocused:e.props.isInputFocused,containerRef:e.props.containerRef,calendarStartDay:e.props.calendarStartDay,monthShowsDuplicateDaysEnd:e.props.monthShowsDuplicateDaysEnd,monthShowsDuplicateDaysStart:e.props.monthShowsDuplicateDaysStart})),!u;){l++,d=lm(d,1);var p=o&&l>=e6,y=!o&&!e.isWeekInMonth(d);if(p||y)if(e.props.peekNextMonth)u=!0;else break}return i}),J(e,"onMonthClick",function(i,o){var l=Dn(e.props.day,o);Md(l,e.props)||e.handleDayClick(zs(l),i)}),J(e,"onMonthMouseEnter",function(i){var o=Dn(e.props.day,i);Md(o,e.props)||e.handleDayMouseEnter(zs(o))}),J(e,"handleMonthNavigation",function(i,o){e.isDisabled(o)||e.isExcluded(o)||(e.props.setPreSelection(o),e.MONTH_REFS[i].current&&e.MONTH_REFS[i].current.focus())}),J(e,"onMonthKeyDown",function(i,o){var l=e.props,u=l.selected,d=l.preSelection,f=l.disabledKeyboardNavigation,m=l.showTwoColumnMonthYearPicker,p=l.showFourColumnMonthYearPicker,y=l.setPreSelection,v=l.handleOnMonthKeyDown,x=i.key;if(x!=="Tab"&&i.preventDefault(),!f){var w=s1(p,m),N=Ep[w].verticalNavigationOffset,_=Ep[w].grid;switch(x){case"Enter":e.onMonthClick(i,o),y(u);break;case"ArrowRight":e.handleMonthNavigation(o===11?0:o+md,Ys(d,md));break;case"ArrowLeft":e.handleMonthNavigation(o===0?11:o-md,Go(d,md));break;case"ArrowUp":e.handleMonthNavigation(_[0].includes(o)?o+12-N:o-N,Go(d,N));break;case"ArrowDown":e.handleMonthNavigation(_[_.length-1].includes(o)?o-12+N:o+N,Ys(d,N));break}}v&&v(i)}),J(e,"onQuarterClick",function(i,o){var l=Lo(e.props.day,o);Dp(l,e.props)||e.handleDayClick(Hv(l),i)}),J(e,"onQuarterMouseEnter",function(i){var o=Lo(e.props.day,i);Dp(o,e.props)||e.handleDayMouseEnter(Hv(o))}),J(e,"handleQuarterNavigation",function(i,o){e.isDisabled(o)||e.isExcluded(o)||(e.props.setPreSelection(o),e.QUARTER_REFS[i-1].current&&e.QUARTER_REFS[i-1].current.focus())}),J(e,"onQuarterKeyDown",function(i,o){var l=i.key;if(!e.props.disabledKeyboardNavigation)switch(l){case"Enter":e.onQuarterClick(i,o),e.props.setPreSelection(e.props.selected);break;case"ArrowRight":e.handleQuarterNavigation(o===4?1:o+1,Dy(e.props.preSelection,1));break;case"ArrowLeft":e.handleQuarterNavigation(o===1?4:o-1,Cy(e.props.preSelection,1));break}}),J(e,"isMonthDisabled",function(i){var o=e.props,l=o.day,u=o.minDate,d=o.maxDate,f=o.excludeDates,m=o.includeDates,p=Dn(l,i);return(u||d||f||m)&&Md(p,e.props)}),J(e,"getMonthClassNames",function(i){var o=e.props,l=o.day,u=o.startDate,d=o.endDate,f=o.selected,m=o.preSelection,p=o.monthClassName,y=p?p(Dn(l,i)):void 0;return Ar("react-datepicker__month-text","react-datepicker__month-".concat(i),y,{"react-datepicker__month-text--disabled":e.isMonthDisabled(i),"react-datepicker__month-text--selected":e.isSelectedMonth(l,i,f),"react-datepicker__month-text--keyboard-selected":!e.props.disabledKeyboardNavigation&&e.isSelectedMonth(l,i,m),"react-datepicker__month-text--in-selecting-range":e.isInSelectingRangeMonth(i),"react-datepicker__month-text--in-range":hd(u,d,i,l),"react-datepicker__month-text--range-start":e.isRangeStartMonth(i),"react-datepicker__month-text--range-end":e.isRangeEndMonth(i),"react-datepicker__month-text--selecting-range-start":e.isSelectingMonthRangeStart(i),"react-datepicker__month-text--selecting-range-end":e.isSelectingMonthRangeEnd(i),"react-datepicker__month-text--today":e.isCurrentMonth(l,i)})}),J(e,"getTabIndex",function(i){var o=Qr(e.props.preSelection),l=!e.props.disabledKeyboardNavigation&&i===o?"0":"-1";return l}),J(e,"getQuarterTabIndex",function(i){var o=vc(e.props.preSelection),l=!e.props.disabledKeyboardNavigation&&i===o?"0":"-1";return l}),J(e,"getAriaLabel",function(i){var o=e.props,l=o.chooseDayAriaLabelPrefix,u=l===void 0?"Choose":l,d=o.disabledDayAriaLabelPrefix,f=d===void 0?"Not available":d,m=o.day,p=o.locale,y=Dn(m,i),v=e.isDisabled(y)||e.isExcluded(y)?f:u;return"".concat(v," ").concat(zt(y,"MMMM yyyy",p))}),J(e,"getQuarterClassNames",function(i){var o=e.props,l=o.day,u=o.startDate,d=o.endDate,f=o.selected,m=o.minDate,p=o.maxDate,y=o.preSelection,v=o.disabledKeyboardNavigation;return Ar("react-datepicker__quarter-text","react-datepicker__quarter-".concat(i),{"react-datepicker__quarter-text--disabled":(m||p)&&Dp(Lo(l,i),e.props),"react-datepicker__quarter-text--selected":e.isSelectedQuarter(l,i,f),"react-datepicker__quarter-text--keyboard-selected":!v&&e.isSelectedQuarter(l,i,y),"react-datepicker__quarter-text--in-selecting-range":e.isInSelectingRangeQuarter(i),"react-datepicker__quarter-text--in-range":pd(u,d,i,l),"react-datepicker__quarter-text--range-start":e.isRangeStartQuarter(i),"react-datepicker__quarter-text--range-end":e.isRangeEndQuarter(i)})}),J(e,"getMonthContent",function(i){var o=e.props,l=o.showFullMonthYearPicker,u=o.renderMonthContent,d=o.locale,f=o.day,m=M2(i,d),p=kg(i,d);return u?u(i,m,p,f):l?p:m}),J(e,"getQuarterContent",function(i){var o=e.props,l=o.renderQuarterContent,u=o.locale,d=PC(i,u);return l?l(i,d):d}),J(e,"renderMonths",function(){var i=e.props,o=i.showTwoColumnMonthYearPicker,l=i.showFourColumnMonthYearPicker,u=i.day,d=i.selected,f=Ep[s1(l,o)].grid;return f.map(function(m,p){return H.createElement("div",{className:"react-datepicker__month-wrapper",key:p},m.map(function(y,v){return H.createElement("div",{ref:e.MONTH_REFS[y],key:v,onClick:function(w){e.onMonthClick(w,y)},onKeyDown:function(w){F2(w)&&(w.preventDefault(),w.key="Enter"),e.onMonthKeyDown(w,y)},onMouseEnter:e.props.usePointerEvent?void 0:function(){return e.onMonthMouseEnter(y)},onPointerEnter:e.props.usePointerEvent?function(){return e.onMonthMouseEnter(y)}:void 0,tabIndex:e.getTabIndex(y),className:e.getMonthClassNames(y),"aria-disabled":e.isMonthDisabled(y),role:"option","aria-label":e.getAriaLabel(y),"aria-current":e.isCurrentMonth(u,y)?"date":void 0,"aria-selected":e.isSelectedMonth(u,y,d)},e.getMonthContent(y))}))})}),J(e,"renderQuarters",function(){var i=e.props,o=i.day,l=i.selected,u=[1,2,3,4];return H.createElement("div",{className:"react-datepicker__quarter-wrapper"},u.map(function(d,f){return H.createElement("div",{key:f,ref:e.QUARTER_REFS[f],role:"option",onClick:function(p){e.onQuarterClick(p,d)},onKeyDown:function(p){e.onQuarterKeyDown(p,d)},onMouseEnter:e.props.usePointerEvent?void 0:function(){return e.onQuarterMouseEnter(d)},onPointerEnter:e.props.usePointerEvent?function(){return e.onQuarterMouseEnter(d)}:void 0,className:e.getQuarterClassNames(d),"aria-selected":e.isSelectedQuarter(o,d,l),tabIndex:e.getQuarterTabIndex(d),"aria-current":e.isCurrentQuarter(o,d)?"date":void 0},e.getQuarterContent(d))}))}),J(e,"getClassNames",function(){var i=e.props,o=i.selectingDate,l=i.selectsStart,u=i.selectsEnd,d=i.showMonthYearPicker,f=i.showQuarterYearPicker,m=i.showWeekPicker;return Ar("react-datepicker__month",{"react-datepicker__month--selecting-range":o&&(l||u)},{"react-datepicker__monthPicker":d},{"react-datepicker__quarterPicker":f},{"react-datepicker__weekPicker":m})}),e}return jr(t,n),_r(t,[{key:"render",value:function(){var r=this.props,a=r.showMonthYearPicker,s=r.showQuarterYearPicker,i=r.day,o=r.ariaLabelPrefix,l=o===void 0?"Month ":o,u=l?l.trim()+" ":"";return H.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(u).concat(zt(i,"MMMM, yyyy",this.props.locale)),role:"listbox"},a?this.renderMonths():s?this.renderQuarters():this.renderWeeks())}}])}(H.Component),B2=function(n){function t(){var e;Nr(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=Sr(this,t,[].concat(a)),J(e,"state",{height:null}),J(e,"scrollToTheSelectedTime",function(){requestAnimationFrame(function(){e.list&&(e.list.scrollTop=e.centerLi&&t.calcCenterPosition(e.props.monthRef?e.props.monthRef.clientHeight-e.header.clientHeight:e.list.clientHeight,e.centerLi))})}),J(e,"handleClick",function(i){(e.props.minTime||e.props.maxTime)&&Kv(i,e.props)||(e.props.excludeTimes||e.props.includeTimes||e.props.filterTime)&&Gv(i,e.props)||e.props.onChange(i)}),J(e,"isSelectedTime",function(i){return e.props.selected&&FC(e.props.selected,i)}),J(e,"isDisabledTime",function(i){return(e.props.minTime||e.props.maxTime)&&Kv(i,e.props)||(e.props.excludeTimes||e.props.includeTimes||e.props.filterTime)&&Gv(i,e.props)}),J(e,"liClasses",function(i){var o=["react-datepicker__time-list-item",e.props.timeClassName?e.props.timeClassName(i):void 0];return e.isSelectedTime(i)&&o.push("react-datepicker__time-list-item--selected"),e.isDisabledTime(i)&&o.push("react-datepicker__time-list-item--disabled"),e.props.injectTimes&&(Fa(i)*3600+Ba(i)*60+ms(i))%(e.props.intervals*60)!==0&&o.push("react-datepicker__time-list-item--injected"),o.join(" ")}),J(e,"handleOnKeyDown",function(i,o){i.key===" "&&(i.preventDefault(),i.key="Enter"),(i.key==="ArrowUp"||i.key==="ArrowLeft")&&i.target.previousSibling&&(i.preventDefault(),i.target.previousSibling.focus()),(i.key==="ArrowDown"||i.key==="ArrowRight")&&i.target.nextSibling&&(i.preventDefault(),i.target.nextSibling.focus()),i.key==="Enter"&&e.handleClick(o),e.props.handleOnKeyDown(i)}),J(e,"renderTimes",function(){for(var i=[],o=e.props.format?e.props.format:"p",l=e.props.intervals,u=e.props.selected||e.props.openToDate||At(),d=jC(u),f=e.props.injectTimes&&e.props.injectTimes.sort(function(N,_){return N-_}),m=60*$C(u),p=m/l,y=0;y<p;y++){var v=cm(d,y*l);if(i.push(v),f){var x=RC(d,v,y,l,f);i=i.concat(x)}}var w=i.reduce(function(N,_){return _.getTime()<=u.getTime()?_:N},i[0]);return i.map(function(N,_){return H.createElement("li",{key:_,onClick:e.handleClick.bind(e,N),className:e.liClasses(N),ref:function(A){N===w&&(e.centerLi=A)},onKeyDown:function(A){e.handleOnKeyDown(A,N)},tabIndex:N===w?0:-1,role:"option","aria-selected":e.isSelectedTime(N)?"true":void 0,"aria-disabled":e.isDisabledTime(N)?"true":void 0},zt(N,o,e.props.locale))})}),e}return jr(t,n),_r(t,[{key:"componentDidMount",value:function(){this.scrollToTheSelectedTime(),this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})}},{key:"render",value:function(){var r=this,a=this.state.height;return H.createElement("div",{className:"react-datepicker__time-container ".concat(this.props.todayButton?"react-datepicker__time-container--with-today-button":"")},H.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(this.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(i){r.header=i}},H.createElement("div",{className:"react-datepicker-time__header"},this.props.timeCaption)),H.createElement("div",{className:"react-datepicker__time"},H.createElement("div",{className:"react-datepicker__time-box"},H.createElement("ul",{className:"react-datepicker__time-list",ref:function(i){r.list=i},style:a?{height:a}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))}}],[{key:"defaultProps",get:function(){return{intervals:30,onTimeChange:function(){},todayButton:null,timeCaption:"Time"}}}])}(H.Component);J(B2,"calcCenterPosition",function(n,t){return t.offsetTop-(n/2-t.clientHeight/2)});var i1=3,r6=function(n){function t(e){var r;return Nr(this,t),r=Sr(this,t,[e]),J(r,"YEAR_REFS",Js(Array(r.props.yearItemNumber)).map(function(){return H.createRef()})),J(r,"isDisabled",function(a){return Fh(a,r.props)}),J(r,"isExcluded",function(a){return Cg(a,r.props)}),J(r,"selectingDate",function(){var a;return(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection}),J(r,"updateFocusOnPaginate",function(a){var s=(function(){this.YEAR_REFS[a].current.focus()}).bind(r);window.requestAnimationFrame(s)}),J(r,"handleYearClick",function(a,s){r.props.onDayClick&&r.props.onDayClick(a,s)}),J(r,"handleYearNavigation",function(a,s){var i=r.props,o=i.date,l=i.yearItemNumber,u=Bs(o,l),d=u.startPeriod;r.isDisabled(s)||r.isExcluded(s)||(r.props.setPreSelection(s),a-d<0?r.updateFocusOnPaginate(l-(d-a)):a-d>=l?r.updateFocusOnPaginate(Math.abs(l-(a-d))):r.YEAR_REFS[a-d].current.focus())}),J(r,"isSameDay",function(a,s){return kt(a,s)}),J(r,"isCurrentYear",function(a){return a===ht(At())}),J(r,"isRangeStart",function(a){return r.props.startDate&&r.props.endDate&&Oa(La(At(),a),r.props.startDate)}),J(r,"isRangeEnd",function(a){return r.props.startDate&&r.props.endDate&&Oa(La(At(),a),r.props.endDate)}),J(r,"isInRange",function(a){return fd(a,r.props.startDate,r.props.endDate)}),J(r,"isInSelectingRange",function(a){var s=r.props,i=s.selectsStart,o=s.selectsEnd,l=s.selectsRange,u=s.startDate,d=s.endDate;return!(i||o||l)||!r.selectingDate()?!1:i&&d?fd(a,r.selectingDate(),d):o&&u||l&&u&&!d?fd(a,u,r.selectingDate()):!1}),J(r,"isSelectingRangeStart",function(a){if(!r.isInSelectingRange(a))return!1;var s=r.props,i=s.startDate,o=s.selectsStart,l=La(At(),a);return o?Oa(l,r.selectingDate()):Oa(l,i)}),J(r,"isSelectingRangeEnd",function(a){if(!r.isInSelectingRange(a))return!1;var s=r.props,i=s.endDate,o=s.selectsEnd,l=s.selectsRange,u=La(At(),a);return o||l?Oa(u,r.selectingDate()):Oa(u,i)}),J(r,"isKeyboardSelected",function(a){var s=pc(La(r.props.date,a));return!r.props.disabledKeyboardNavigation&&!r.props.inline&&!kt(s,pc(r.props.selected))&&kt(s,pc(r.props.preSelection))}),J(r,"onYearClick",function(a,s){var i=r.props.date;r.handleYearClick(pc(La(i,s)),a)}),J(r,"onYearKeyDown",function(a,s){var i=a.key,o=r.props,l=o.date,u=o.yearItemNumber,d=o.handleOnKeyDown;if(i!=="Tab"&&a.preventDefault(),!r.props.disabledKeyboardNavigation)switch(i){case"Enter":r.onYearClick(a,s),r.props.setPreSelection(r.props.selected);break;case"ArrowRight":r.handleYearNavigation(s+1,Us(r.props.preSelection,1));break;case"ArrowLeft":r.handleYearNavigation(s-1,Ko(r.props.preSelection,1));break;case"ArrowUp":{var f=Bs(l,u),m=f.startPeriod,p=i1,y=s-p;if(y<m){var v=u%p;s>=m&&s<m+v?p=v:p+=v,y=s-p}r.handleYearNavigation(y,Ko(r.props.preSelection,p));break}case"ArrowDown":{var x=Bs(l,u),w=x.endPeriod,N=i1,_=s+N;if(_>w){var C=u%N;s<=w&&s>w-C?N=C:N+=C,_=s+N}r.handleYearNavigation(_,Us(r.props.preSelection,N));break}}d&&d(a)}),J(r,"getYearClassNames",function(a){var s=r.props,i=s.date,o=s.minDate,l=s.maxDate,u=s.selected,d=s.excludeDates,f=s.includeDates,m=s.filterDate,p=s.yearClassName;return Ar("react-datepicker__year-text","react-datepicker__year-".concat(a),p?p(La(i,a)):void 0,{"react-datepicker__year-text--selected":a===ht(u),"react-datepicker__year-text--disabled":(o||l||d||f||m)&&I2(a,r.props),"react-datepicker__year-text--keyboard-selected":r.isKeyboardSelected(a),"react-datepicker__year-text--range-start":r.isRangeStart(a),"react-datepicker__year-text--range-end":r.isRangeEnd(a),"react-datepicker__year-text--in-range":r.isInRange(a),"react-datepicker__year-text--in-selecting-range":r.isInSelectingRange(a),"react-datepicker__year-text--selecting-range-start":r.isSelectingRangeStart(a),"react-datepicker__year-text--selecting-range-end":r.isSelectingRangeEnd(a),"react-datepicker__year-text--today":r.isCurrentYear(a)})}),J(r,"getYearTabIndex",function(a){if(r.props.disabledKeyboardNavigation)return"-1";var s=ht(r.props.preSelection);return a===s?"0":"-1"}),J(r,"getYearContainerClassNames",function(){var a=r.props,s=a.selectingDate,i=a.selectsStart,o=a.selectsEnd,l=a.selectsRange;return Ar("react-datepicker__year",{"react-datepicker__year--selecting-range":s&&(i||o||l)})}),J(r,"getYearContent",function(a){return r.props.renderYearContent?r.props.renderYearContent(a):a}),r}return jr(t,n),_r(t,[{key:"render",value:function(){for(var r=this,a=[],s=this.props,i=s.date,o=s.yearItemNumber,l=s.onYearMouseEnter,u=s.onYearMouseLeave,d=Bs(i,o),f=d.startPeriod,m=d.endPeriod,p=function(x){a.push(H.createElement("div",{ref:r.YEAR_REFS[x-f],onClick:function(N){r.onYearClick(N,x)},onKeyDown:function(N){F2(N)&&(N.preventDefault(),N.key="Enter"),r.onYearKeyDown(N,x)},tabIndex:r.getYearTabIndex(x),className:r.getYearClassNames(x),onMouseEnter:r.props.usePointerEvent?void 0:function(w){return l(w,x)},onPointerEnter:r.props.usePointerEvent?function(w){return l(w,x)}:void 0,onMouseLeave:r.props.usePointerEvent?void 0:function(w){return u(w,x)},onPointerLeave:r.props.usePointerEvent?function(w){return u(w,x)}:void 0,key:x,"aria-current":r.isCurrentYear(x)?"date":void 0},r.getYearContent(x)))},y=f;y<=m;y++)p(y);return H.createElement("div",{className:this.getYearContainerClassNames()},H.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},a))}}])}(H.Component),n6=function(n){function t(e){var r;return Nr(this,t),r=Sr(this,t,[e]),J(r,"onTimeChange",function(a){r.setState({time:a});var s=r.props.date,i=s instanceof Date&&!isNaN(s),o=i?s:new Date;o.setHours(a.split(":")[0]),o.setMinutes(a.split(":")[1]),r.props.onChange(o)}),J(r,"renderTimeInput",function(){var a=r.state.time,s=r.props,i=s.date,o=s.timeString,l=s.customTimeInput;return l?H.cloneElement(l,{date:i,value:a,onChange:r.onTimeChange}):H.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",required:!0,value:a,onChange:function(d){r.onTimeChange(d.target.value||o)}})}),r.state={time:r.props.timeString},r}return jr(t,n),_r(t,[{key:"render",value:function(){return H.createElement("div",{className:"react-datepicker__input-time-container"},H.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),H.createElement("div",{className:"react-datepicker-time__input-container"},H.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))}}],[{key:"getDerivedStateFromProps",value:function(r,a){return r.timeString!==a.time?{time:r.timeString}:null}}])}(H.Component);function a6(n){var t=n.showTimeSelectOnly,e=t===void 0?!1:t,r=n.showTime,a=r===void 0?!1:r,s=n.className,i=n.children,o=e?"Choose Time":"Choose Date".concat(a?" and Time":"");return H.createElement("div",{className:s,role:"dialog","aria-label":o,"aria-modal":"true"},i)}var s6=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],i6=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=(t.className||"").split(/\s+/);return s6.some(function(r){return e.indexOf(r)>=0})},o6=function(n){function t(e){var r;return Nr(this,t),r=Sr(this,t,[e]),J(r,"handleClickOutside",function(a){r.props.onClickOutside(a)}),J(r,"setClickOutsideRef",function(){return r.containerRef.current}),J(r,"handleDropdownFocus",function(a){i6(a.target)&&r.props.onDropdownFocus()}),J(r,"getDateInView",function(){var a=r.props,s=a.preSelection,i=a.selected,o=a.openToDate,l=R2(r.props),u=$2(r.props),d=At(),f=o||i||s;return f||(l&&Ti(d,l)?l:u&&Ws(d,u)?u:d)}),J(r,"increaseMonth",function(){r.setState(function(a){var s=a.date;return{date:Ys(s,1)}},function(){return r.handleMonthChange(r.state.date)})}),J(r,"decreaseMonth",function(){r.setState(function(a){var s=a.date;return{date:Go(s,1)}},function(){return r.handleMonthChange(r.state.date)})}),J(r,"handleDayClick",function(a,s,i){r.props.onSelect(a,s,i),r.props.setPreSelection&&r.props.setPreSelection(a)}),J(r,"handleDayMouseEnter",function(a){r.setState({selectingDate:a}),r.props.onDayMouseEnter&&r.props.onDayMouseEnter(a)}),J(r,"handleMonthMouseLeave",function(){r.setState({selectingDate:null}),r.props.onMonthMouseLeave&&r.props.onMonthMouseLeave()}),J(r,"handleYearMouseEnter",function(a,s){r.setState({selectingDate:La(At(),s)}),r.props.onYearMouseEnter&&r.props.onYearMouseEnter(a,s)}),J(r,"handleYearMouseLeave",function(a,s){r.props.onYearMouseLeave&&r.props.onYearMouseLeave(a,s)}),J(r,"handleYearChange",function(a){r.props.onYearChange&&(r.props.onYearChange(a),r.setState({isRenderAriaLiveMessage:!0})),r.props.adjustDateOnChange&&(r.props.onSelect&&r.props.onSelect(a),r.props.setOpen&&r.props.setOpen(!0)),r.props.setPreSelection&&r.props.setPreSelection(a)}),J(r,"handleMonthChange",function(a){r.handleCustomMonthChange(a),r.props.adjustDateOnChange&&(r.props.onSelect&&r.props.onSelect(a),r.props.setOpen&&r.props.setOpen(!0)),r.props.setPreSelection&&r.props.setPreSelection(a)}),J(r,"handleCustomMonthChange",function(a){r.props.onMonthChange&&(r.props.onMonthChange(a),r.setState({isRenderAriaLiveMessage:!0}))}),J(r,"handleMonthYearChange",function(a){r.handleYearChange(a),r.handleMonthChange(a)}),J(r,"changeYear",function(a){r.setState(function(s){var i=s.date;return{date:La(i,a)}},function(){return r.handleYearChange(r.state.date)})}),J(r,"changeMonth",function(a){r.setState(function(s){var i=s.date;return{date:Dn(i,a)}},function(){return r.handleMonthChange(r.state.date)})}),J(r,"changeMonthYear",function(a){r.setState(function(s){var i=s.date;return{date:La(Dn(i,Qr(a)),ht(a))}},function(){return r.handleMonthYearChange(r.state.date)})}),J(r,"header",function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r.state.date,s=Vs(a,r.props.locale,r.props.calendarStartDay),i=[];return r.props.showWeekNumbers&&i.push(H.createElement("div",{key:"W",className:"react-datepicker__day-name"},r.props.weekLabel||"#")),i.concat([0,1,2,3,4,5,6].map(function(o){var l=kh(s,o),u=r.formatWeekday(l,r.props.locale),d=r.props.weekDayClassName?r.props.weekDayClassName(l):void 0;return H.createElement("div",{key:o,"aria-label":zt(l,"EEEE",r.props.locale),className:Ar("react-datepicker__day-name",d)},u)}))}),J(r,"formatWeekday",function(a,s){return r.props.formatWeekDay?CC(a,r.props.formatWeekDay,s):r.props.useWeekdaysShort?EC(a,s):DC(a,s)}),J(r,"decreaseYear",function(){r.setState(function(a){var s=a.date;return{date:Ko(s,r.props.showYearPicker?r.props.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})}),J(r,"clearSelectingDate",function(){r.setState({selectingDate:null})}),J(r,"renderPreviousButton",function(){if(!r.props.renderCustomHeader){var a;switch(!0){case r.props.showMonthYearPicker:a=Qv(r.state.date,r.props);break;case r.props.showYearPicker:a=OC(r.state.date,r.props);break;case r.props.showQuarterYearPicker:a=AC(r.state.date,r.props);break;default:a=Jv(r.state.date,r.props);break}if(!(!r.props.forceShowMonthNavigation&&!r.props.showDisabledMonthNavigation&&a||r.props.showTimeSelectOnly)){var s=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],i=["react-datepicker__navigation","react-datepicker__navigation--previous"],o=r.decreaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(o=r.decreaseYear),a&&r.props.showDisabledMonthNavigation&&(i.push("react-datepicker__navigation--previous--disabled"),o=null);var l=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,u=r.props,d=u.previousMonthButtonLabel,f=u.previousYearButtonLabel,m=r.props,p=m.previousMonthAriaLabel,y=p===void 0?typeof d=="string"?d:"Previous Month":p,v=m.previousYearAriaLabel,x=v===void 0?typeof f=="string"?f:"Previous Year":v;return H.createElement("button",{type:"button",className:i.join(" "),onClick:o,onKeyDown:r.props.handleOnKeyDown,"aria-label":l?x:y},H.createElement("span",{className:s.join(" ")},l?r.props.previousYearButtonLabel:r.props.previousMonthButtonLabel))}}}),J(r,"increaseYear",function(){r.setState(function(a){var s=a.date;return{date:Us(s,r.props.showYearPicker?r.props.yearItemNumber:1)}},function(){return r.handleYearChange(r.state.date)})}),J(r,"renderNextButton",function(){if(!r.props.renderCustomHeader){var a;switch(!0){case r.props.showMonthYearPicker:a=Zv(r.state.date,r.props);break;case r.props.showYearPicker:a=TC(r.state.date,r.props);break;case r.props.showQuarterYearPicker:a=LC(r.state.date,r.props);break;default:a=Xv(r.state.date,r.props);break}if(!(!r.props.forceShowMonthNavigation&&!r.props.showDisabledMonthNavigation&&a||r.props.showTimeSelectOnly)){var s=["react-datepicker__navigation","react-datepicker__navigation--next"],i=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];r.props.showTimeSelect&&s.push("react-datepicker__navigation--next--with-time"),r.props.todayButton&&s.push("react-datepicker__navigation--next--with-today-button");var o=r.increaseMonth;(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker)&&(o=r.increaseYear),a&&r.props.showDisabledMonthNavigation&&(s.push("react-datepicker__navigation--next--disabled"),o=null);var l=r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker,u=r.props,d=u.nextMonthButtonLabel,f=u.nextYearButtonLabel,m=r.props,p=m.nextMonthAriaLabel,y=p===void 0?typeof d=="string"?d:"Next Month":p,v=m.nextYearAriaLabel,x=v===void 0?typeof f=="string"?f:"Next Year":v;return H.createElement("button",{type:"button",className:s.join(" "),onClick:o,onKeyDown:r.props.handleOnKeyDown,"aria-label":l?x:y},H.createElement("span",{className:i.join(" ")},l?r.props.nextYearButtonLabel:r.props.nextMonthButtonLabel))}}}),J(r,"renderCurrentMonth",function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r.state.date,s=["react-datepicker__current-month"];return r.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),r.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),r.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),H.createElement("div",{className:s.join(" ")},zt(a,r.props.dateFormat,r.props.locale))}),J(r,"renderYearDropdown",function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!r.props.showYearDropdown||a))return H.createElement(VC,{adjustDateOnChange:r.props.adjustDateOnChange,date:r.state.date,onSelect:r.props.onSelect,setOpen:r.props.setOpen,dropdownMode:r.props.dropdownMode,onChange:r.changeYear,minDate:r.props.minDate,maxDate:r.props.maxDate,year:ht(r.state.date),scrollableYearDropdown:r.props.scrollableYearDropdown,yearDropdownItemNumber:r.props.yearDropdownItemNumber})}),J(r,"renderMonthDropdown",function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!r.props.showMonthDropdown||a))return H.createElement(WC,{dropdownMode:r.props.dropdownMode,locale:r.props.locale,onChange:r.changeMonth,month:Qr(r.state.date),useShortMonthInDropdown:r.props.useShortMonthInDropdown})}),J(r,"renderMonthYearDropdown",function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!(!r.props.showMonthYearDropdown||a))return H.createElement(JC,{dropdownMode:r.props.dropdownMode,locale:r.props.locale,dateFormat:r.props.dateFormat,onChange:r.changeMonthYear,minDate:r.props.minDate,maxDate:r.props.maxDate,date:r.state.date,scrollableMonthYearDropdown:r.props.scrollableMonthYearDropdown})}),J(r,"handleTodayButtonClick",function(a){r.props.onSelect(Wv(),a),r.props.setPreSelection&&r.props.setPreSelection(Wv())}),J(r,"renderTodayButton",function(){if(!(!r.props.todayButton||r.props.showTimeSelectOnly))return H.createElement("div",{className:"react-datepicker__today-button",onClick:function(s){return r.handleTodayButtonClick(s)}},r.props.todayButton)}),J(r,"renderDefaultHeader",function(a){var s=a.monthDate,i=a.i;return H.createElement("div",{className:"react-datepicker__header ".concat(r.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},r.renderCurrentMonth(s),H.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(r.props.dropdownMode),onFocus:r.handleDropdownFocus},r.renderMonthDropdown(i!==0),r.renderMonthYearDropdown(i!==0),r.renderYearDropdown(i!==0)),H.createElement("div",{className:"react-datepicker__day-names"},r.header(s)))}),J(r,"renderCustomHeader",function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=a.monthDate,i=a.i;if(r.props.showTimeSelect&&!r.state.monthContainer||r.props.showTimeSelectOnly)return null;var o=Jv(r.state.date,r.props),l=Xv(r.state.date,r.props),u=Qv(r.state.date,r.props),d=Zv(r.state.date,r.props),f=!r.props.showMonthYearPicker&&!r.props.showQuarterYearPicker&&!r.props.showYearPicker;return H.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:r.props.onDropdownFocus},r.props.renderCustomHeader(ps(ps({},r.state),{},{customHeaderCount:i,monthDate:s,changeMonth:r.changeMonth,changeYear:r.changeYear,decreaseMonth:r.decreaseMonth,increaseMonth:r.increaseMonth,decreaseYear:r.decreaseYear,increaseYear:r.increaseYear,prevMonthButtonDisabled:o,nextMonthButtonDisabled:l,prevYearButtonDisabled:u,nextYearButtonDisabled:d})),f&&H.createElement("div",{className:"react-datepicker__day-names"},r.header(s)))}),J(r,"renderYearHeader",function(a){var s=a.monthDate,i=r.props,o=i.showYearPicker,l=i.yearItemNumber,u=Bs(s,l),d=u.startPeriod,f=u.endPeriod;return H.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},o?"".concat(d," - ").concat(f):ht(s))}),J(r,"renderHeader",function(a){switch(!0){case r.props.renderCustomHeader!==void 0:return r.renderCustomHeader(a);case(r.props.showMonthYearPicker||r.props.showQuarterYearPicker||r.props.showYearPicker):return r.renderYearHeader(a);default:return r.renderDefaultHeader(a)}}),J(r,"renderMonths",function(){var a;if(!(r.props.showTimeSelectOnly||r.props.showYearPicker)){for(var s=[],i=r.props.showPreviousMonths?r.props.monthsShown-1:0,o=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Us(r.state.date,i):Go(r.state.date,i),l=(a=r.props.monthSelectedIn)!==null&&a!==void 0?a:i,u=0;u<r.props.monthsShown;++u){var d=u-l+i,f=r.props.showMonthYearPicker||r.props.showQuarterYearPicker?Us(o,d):Ys(o,d),m="month-".concat(u),p=u<r.props.monthsShown-1,y=u>0;s.push(H.createElement("div",{key:m,ref:function(x){r.monthContainer=x},className:"react-datepicker__month-container"},r.renderHeader({monthDate:f,i:u}),H.createElement(t6,{chooseDayAriaLabelPrefix:r.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:r.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:r.props.weekAriaLabelPrefix,ariaLabelPrefix:r.props.monthAriaLabelPrefix,onChange:r.changeMonthYear,day:f,dayClassName:r.props.dayClassName,calendarStartDay:r.props.calendarStartDay,monthClassName:r.props.monthClassName,onDayClick:r.handleDayClick,handleOnKeyDown:r.props.handleOnDayKeyDown,handleOnMonthKeyDown:r.props.handleOnKeyDown,usePointerEvent:r.props.usePointerEvent,onDayMouseEnter:r.handleDayMouseEnter,onMouseLeave:r.handleMonthMouseLeave,onWeekSelect:r.props.onWeekSelect,orderInDisplay:u,formatWeekNumber:r.props.formatWeekNumber,locale:r.props.locale,minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,highlightDates:r.props.highlightDates,holidays:r.props.holidays,selectingDate:r.state.selectingDate,includeDates:r.props.includeDates,includeDateIntervals:r.props.includeDateIntervals,inline:r.props.inline,shouldFocusDayInline:r.props.shouldFocusDayInline,fixedHeight:r.props.fixedHeight,filterDate:r.props.filterDate,preSelection:r.props.preSelection,setPreSelection:r.props.setPreSelection,selected:r.props.selected,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,selectsRange:r.props.selectsRange,selectsDisabledDaysInRange:r.props.selectsDisabledDaysInRange,selectsMultiple:r.props.selectsMultiple,selectedDates:r.props.selectedDates,showWeekNumbers:r.props.showWeekNumbers,startDate:r.props.startDate,endDate:r.props.endDate,peekNextMonth:r.props.peekNextMonth,setOpen:r.props.setOpen,shouldCloseOnSelect:r.props.shouldCloseOnSelect,renderDayContents:r.props.renderDayContents,renderMonthContent:r.props.renderMonthContent,renderQuarterContent:r.props.renderQuarterContent,renderYearContent:r.props.renderYearContent,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation,showMonthYearPicker:r.props.showMonthYearPicker,showFullMonthYearPicker:r.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:r.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:r.props.showFourColumnMonthYearPicker,showYearPicker:r.props.showYearPicker,showQuarterYearPicker:r.props.showQuarterYearPicker,showWeekPicker:r.props.showWeekPicker,isInputFocused:r.props.isInputFocused,containerRef:r.containerRef,monthShowsDuplicateDaysEnd:p,monthShowsDuplicateDaysStart:y})))}return s}}),J(r,"renderYears",function(){if(!r.props.showTimeSelectOnly&&r.props.showYearPicker)return H.createElement("div",{className:"react-datepicker__year--container"},r.renderHeader({monthDate:r.state.date}),H.createElement(r6,Oc({onDayClick:r.handleDayClick,selectingDate:r.state.selectingDate,clearSelectingDate:r.clearSelectingDate,date:r.state.date},r.props,{onYearMouseEnter:r.handleYearMouseEnter,onYearMouseLeave:r.handleYearMouseLeave})))}),J(r,"renderTimeSection",function(){if(r.props.showTimeSelect&&(r.state.monthContainer||r.props.showTimeSelectOnly))return H.createElement(B2,{selected:r.props.selected,openToDate:r.props.openToDate,onChange:r.props.onTimeChange,timeClassName:r.props.timeClassName,format:r.props.timeFormat,includeTimes:r.props.includeTimes,intervals:r.props.timeIntervals,minTime:r.props.minTime,maxTime:r.props.maxTime,excludeTimes:r.props.excludeTimes,filterTime:r.props.filterTime,timeCaption:r.props.timeCaption,todayButton:r.props.todayButton,showMonthDropdown:r.props.showMonthDropdown,showMonthYearDropdown:r.props.showMonthYearDropdown,showYearDropdown:r.props.showYearDropdown,withPortal:r.props.withPortal,monthRef:r.state.monthContainer,injectTimes:r.props.injectTimes,locale:r.props.locale,handleOnKeyDown:r.props.handleOnKeyDown,showTimeSelectOnly:r.props.showTimeSelectOnly})}),J(r,"renderInputTimeSection",function(){var a=new Date(r.props.selected),s=$s(a)&&!!r.props.selected,i=s?"".concat(t1(a.getHours()),":").concat(t1(a.getMinutes())):"";if(r.props.showTimeInput)return H.createElement(n6,{date:a,timeString:i,timeInputLabel:r.props.timeInputLabel,onChange:r.props.onTimeChange,customTimeInput:r.props.customTimeInput})}),J(r,"renderAriaLiveRegion",function(){var a=Bs(r.state.date,r.props.yearItemNumber),s=a.startPeriod,i=a.endPeriod,o;return r.props.showYearPicker?o="".concat(s," - ").concat(i):r.props.showMonthYearPicker||r.props.showQuarterYearPicker?o=ht(r.state.date):o="".concat(kg(Qr(r.state.date),r.props.locale)," ").concat(ht(r.state.date)),H.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},r.state.isRenderAriaLiveMessage&&o)}),J(r,"renderChildren",function(){if(r.props.children)return H.createElement("div",{className:"react-datepicker__children-container"},r.props.children)}),r.containerRef=H.createRef(),r.state={date:r.getDateInView(),selectingDate:null,monthContainer:null,isRenderAriaLiveMessage:!1},r}return jr(t,n),_r(t,[{key:"componentDidMount",value:function(){var r=this;this.props.showTimeSelect&&(this.assignMonthContainer=function(){r.setState({monthContainer:r.monthContainer})}())}},{key:"componentDidUpdate",value:function(r){var a=this;if(this.props.preSelection&&(!kt(this.props.preSelection,r.preSelection)||this.props.monthSelectedIn!==r.monthSelectedIn)){var s=!En(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return s&&a.handleCustomMonthChange(a.state.date)})}else this.props.openToDate&&!kt(this.props.openToDate,r.openToDate)&&this.setState({date:this.props.openToDate})}},{key:"render",value:function(){var r=this.props.container||a6;return H.createElement("div",{style:{display:"contents"},ref:this.containerRef},H.createElement(r,{className:Ar("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren()))}}],[{key:"defaultProps",get:function(){return{onDropdownFocus:function(){},monthsShown:1,forceShowMonthNavigation:!1,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",customTimeInput:null,yearItemNumber:nu}}}])}(H.Component),l6=function(t){var e=t.icon,r=t.className,a=r===void 0?"":r,s=t.onClick,i="react-datepicker__calendar-icon";return H.isValidElement(e)?H.cloneElement(e,{className:"".concat(e.props.className||""," ").concat(i," ").concat(a),onClick:function(l){typeof e.props.onClick=="function"&&e.props.onClick(l),typeof s=="function"&&s(l)}}):typeof e=="string"?H.createElement("i",{className:"".concat(i," ").concat(e," ").concat(a),"aria-hidden":"true",onClick:s}):H.createElement("svg",{className:"".concat(i," ").concat(a),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:s},H.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},c6=l6,q2=function(n){function t(e){var r;return Nr(this,t),r=Sr(this,t,[e]),r.el=document.createElement("div"),r}return jr(t,n),_r(t,[{key:"componentDidMount",value:function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){this.portalRoot.removeChild(this.el)}},{key:"render",value:function(){return cg.createPortal(this.props.children,this.el)}}])}(H.Component),u6="[tabindex], a, button, input, select, textarea",d6=function(t){return!t.disabled&&t.tabIndex!==-1},U2=function(n){function t(e){var r;return Nr(this,t),r=Sr(this,t,[e]),J(r,"getTabChildren",function(){return Array.prototype.slice.call(r.tabLoopRef.current.querySelectorAll(u6),1,-1).filter(d6)}),J(r,"handleFocusStart",function(){var a=r.getTabChildren();a&&a.length>1&&a[a.length-1].focus()}),J(r,"handleFocusEnd",function(){var a=r.getTabChildren();a&&a.length>1&&a[0].focus()}),r.tabLoopRef=H.createRef(),r}return jr(t,n),_r(t,[{key:"render",value:function(){return this.props.enableTabLoop?H.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},H.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:"0",onFocus:this.handleFocusStart}),this.props.children,H.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:"0",onFocus:this.handleFocusEnd})):this.props.children}}],[{key:"defaultProps",get:function(){return{enableTabLoop:!0}}}])}(H.Component);function h6(n){var t=function(r){var a=ps(ps({},r),{},{popperModifiers:r.popperModifiers||[],popperProps:r.popperProps||{},hidePopper:typeof r.hidePopper=="boolean"?r.hidePopper:!0}),s=H.useRef(),i=dC(ps({open:!a.hidePopper,whileElementsMounted:E2,placement:a.popperPlacement,middleware:[Jk({padding:15}),Kk(10),Xk({element:s})].concat(Js(a.popperModifiers))},a.popperProps));return H.createElement(n,Oc({},a,{popperProps:ps(ps({},i),{},{arrowRef:s})}))};return t}var f6=function(n){function t(){return Nr(this,t),Sr(this,t,arguments)}return jr(t,n),_r(t,[{key:"render",value:function(){var r=this.props,a=r.className,s=r.wrapperClassName,i=r.hidePopper,o=r.popperComponent,l=r.targetComponent,u=r.enableTabLoop,d=r.popperOnKeyDown,f=r.portalId,m=r.portalHost,p=r.popperProps,y=r.showArrow,v;if(!i){var x=Ar("react-datepicker-popper",a);v=H.createElement(U2,{enableTabLoop:u},H.createElement("div",{ref:p.refs.setFloating,style:p.floatingStyles,className:x,"data-placement":p.placement,onKeyDown:d},o,y&&H.createElement(aC,{ref:p.arrowRef,context:p.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}this.props.popperContainer&&(v=H.createElement(this.props.popperContainer,{},v)),f&&!i&&(v=H.createElement(q2,{portalId:f,portalHost:m},v));var w=Ar("react-datepicker-wrapper",s);return H.createElement(H.Fragment,null,H.createElement("div",{ref:p.refs.setReference,className:w},l),v)}}],[{key:"defaultProps",get:function(){return{hidePopper:!0}}}])}(H.Component),p6=h6(f6),o1="react-datepicker-ignore-onclickoutside",m6=Th(o6);function g6(n,t){return n&&t?Qr(n)!==Qr(t)||ht(n)!==ht(t):n!==t}var Pp="Date input not valid.",rl=function(n){function t(e){var r;return Nr(this,t),r=Sr(this,t,[e]),J(r,"getPreSelection",function(){return r.props.openToDate?r.props.openToDate:r.props.selectsEnd&&r.props.startDate?r.props.startDate:r.props.selectsStart&&r.props.endDate?r.props.endDate:At()}),J(r,"modifyHolidays",function(){var a;return(a=r.props.holidays)===null||a===void 0?void 0:a.reduce(function(s,i){var o=new Date(i.date);return Kd(o)?[].concat(Js(s),[ps(ps({},i),{},{date:o})]):s},[])}),J(r,"calcInitialState",function(){var a,s=r.getPreSelection(),i=R2(r.props),o=$2(r.props),l=i&&Ti(s,$o(i))?i:o&&Ws(s,um(o))?o:s;return{open:r.props.startOpen||!1,preventFocus:!1,preSelection:(a=r.props.selectsRange?r.props.startDate:r.props.selected)!==null&&a!==void 0?a:l,highlightDates:e1(r.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1}}),J(r,"clearPreventFocusTimeout",function(){r.preventFocusTimeout&&clearTimeout(r.preventFocusTimeout)}),J(r,"setFocus",function(){r.input&&r.input.focus&&r.input.focus({preventScroll:!0})}),J(r,"setBlur",function(){r.input&&r.input.blur&&r.input.blur(),r.cancelFocusInput()}),J(r,"setOpen",function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;r.setState({open:a,preSelection:a&&r.state.open?r.state.preSelection:r.calcInitialState().preSelection,lastPreSelectChange:Ap},function(){a||r.setState(function(i){return{focused:s?i.focused:!1}},function(){!s&&r.setBlur(),r.setState({inputValue:null})})})}),J(r,"inputOk",function(){return Yo(r.state.preSelection)}),J(r,"isCalendarOpen",function(){return r.props.open===void 0?r.state.open&&!r.props.disabled&&!r.props.readOnly:r.props.open}),J(r,"handleFocus",function(a){r.state.preventFocus||(r.props.onFocus(a),!r.props.preventOpenOnFocus&&!r.props.readOnly&&r.setOpen(!0)),r.setState({focused:!0})}),J(r,"sendFocusBackToInput",function(){r.preventFocusTimeout&&r.clearPreventFocusTimeout(),r.setState({preventFocus:!0},function(){r.preventFocusTimeout=setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})})}),J(r,"cancelFocusInput",function(){clearTimeout(r.inputFocusTimeout),r.inputFocusTimeout=null}),J(r,"deferFocusInput",function(){r.cancelFocusInput(),r.inputFocusTimeout=setTimeout(function(){return r.setFocus()},1)}),J(r,"handleDropdownFocus",function(){r.cancelFocusInput()}),J(r,"handleBlur",function(a){(!r.state.open||r.props.withPortal||r.props.showTimeInput)&&r.props.onBlur(a),r.setState({focused:!1})}),J(r,"handleCalendarClickOutside",function(a){r.props.inline||r.setOpen(!1),r.props.onClickOutside(a),r.props.withPortal&&a.preventDefault()}),J(r,"handleChange",function(){for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];var o=s[0];if(!(r.props.onChangeRaw&&(r.props.onChangeRaw.apply(r,s),typeof o.isDefaultPrevented!="function"||o.isDefaultPrevented()))){r.setState({inputValue:o.target.value,lastPreSelectChange:v6});var l=xC(o.target.value,r.props.dateFormat,r.props.locale,r.props.strictParsing,r.props.minDate);r.props.showTimeSelectOnly&&r.props.selected&&l&&!kt(l,r.props.selected)&&(l=kS(r.props.selected,{hours:Fa(l),minutes:Ba(l),seconds:ms(l)})),(l||!o.target.value)&&r.setSelected(l,o,!0)}}),J(r,"handleSelect",function(a,s,i){if(r.props.shouldCloseOnSelect&&!r.props.showTimeSelect&&r.sendFocusBackToInput(),r.props.onChangeRaw&&r.props.onChangeRaw(s),r.setSelected(a,s,!1,i),r.props.showDateSelect&&r.setState({isRenderAriaLiveMessage:!0}),!r.props.shouldCloseOnSelect||r.props.showTimeSelect)r.setPreSelection(a);else if(!r.props.inline){r.props.selectsRange||r.setOpen(!1);var o=r.props,l=o.startDate,u=o.endDate;l&&!u&&(r.props.swapRange||!a1(a,l))&&r.setOpen(!1)}}),J(r,"setSelected",function(a,s,i,o){var l=a;if(r.props.showYearPicker){if(l!==null&&I2(ht(l),r.props))return}else if(r.props.showMonthYearPicker){if(l!==null&&Md(l,r.props))return}else if(l!==null&&Fh(l,r.props))return;var u=r.props,d=u.onChange,f=u.selectsRange,m=u.startDate,p=u.endDate,y=u.selectsMultiple,v=u.selectedDates,x=u.minTime,w=u.swapRange;if(!ki(r.props.selected,l)||r.props.allowSameDay||f||y)if(l!==null&&(r.props.selected&&(!i||!r.props.showTimeSelect&&!r.props.showTimeSelectOnly&&!r.props.showTimeInput)&&(l=Cp(l,{hour:Fa(r.props.selected),minute:Ba(r.props.selected),second:ms(r.props.selected)})),!i&&(r.props.showTimeSelect||r.props.showTimeSelectOnly)&&x&&(l=Cp(l,{hour:x.getHours(),minute:x.getMinutes(),second:x.getSeconds()})),r.props.inline||r.setState({preSelection:l}),r.props.focusSelectedMonth||r.setState({monthSelectedIn:o})),f){var N=!m&&!p,_=m&&!p,C=m&&p;N?d([l,null],s):_&&(l===null?d([null,null],s):a1(l,m)?d(w?[l,m]:[l,null],s):d([m,l],s)),C&&d([l,null],s)}else if(y)if(!(v!=null&&v.length))d([l],s);else{var A=v.some(function(D){return kt(D,l)});if(A){var B=v.filter(function(D){return!kt(D,l)});d(B,s)}else d([].concat(Js(v),[l]),s)}else d(l,s);i||(r.props.onSelect(l,s),r.setState({inputValue:null}))}),J(r,"setPreSelection",function(a){var s=typeof r.props.minDate<"u",i=typeof r.props.maxDate<"u",o=!0;if(a){var l=$o(a);if(s&&i)o=mc(a,r.props.minDate,r.props.maxDate);else if(s){var u=$o(r.props.minDate);o=Ws(a,u)||ki(l,u)}else if(i){var d=um(r.props.maxDate);o=Ti(a,d)||ki(l,d)}}o&&r.setState({preSelection:a})}),J(r,"toggleCalendar",function(){r.setOpen(!r.state.open)}),J(r,"handleTimeChange",function(a){var s=r.props.selected?r.props.selected:r.getPreSelection(),i=r.props.selected?a:Cp(s,{hour:Fa(a),minute:Ba(a)});r.setState({preSelection:i}),r.props.onChange(i),r.props.shouldCloseOnSelect&&(r.sendFocusBackToInput(),r.setOpen(!1)),r.props.showTimeInput&&r.setOpen(!0),(r.props.showTimeSelectOnly||r.props.showTimeSelect)&&r.setState({isRenderAriaLiveMessage:!0}),r.setState({inputValue:null})}),J(r,"onInputClick",function(){!r.props.disabled&&!r.props.readOnly&&r.setOpen(!0),r.props.onInputClick()}),J(r,"onInputKeyDown",function(a){r.props.onKeyDown(a);var s=a.key;if(!r.state.open&&!r.props.inline&&!r.props.preventOpenOnFocus){(s==="ArrowDown"||s==="ArrowUp"||s==="Enter")&&r.onInputClick();return}if(r.state.open){if(s==="ArrowDown"||s==="ArrowUp"){a.preventDefault();var i=r.props.showWeekPicker&&r.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':r.props.showFullMonthYearPicker||r.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',o=r.calendar.componentNode&&r.calendar.componentNode.querySelector(i);o&&o.focus({preventScroll:!0});return}var l=At(r.state.preSelection);s==="Enter"?(a.preventDefault(),r.inputOk()&&r.state.lastPreSelectChange===Ap?(r.handleSelect(l,a),!r.props.shouldCloseOnSelect&&r.setPreSelection(l)):r.setOpen(!1)):s==="Escape"?(a.preventDefault(),r.sendFocusBackToInput(),r.setOpen(!1)):s==="Tab"&&r.setOpen(!1),r.inputOk()||r.props.onInputError({code:1,msg:Pp})}}),J(r,"onPortalKeyDown",function(a){var s=a.key;s==="Escape"&&(a.preventDefault(),r.setState({preventFocus:!0},function(){r.setOpen(!1),setTimeout(function(){r.setFocus(),r.setState({preventFocus:!1})})}))}),J(r,"onDayKeyDown",function(a){r.props.onKeyDown(a);var s=a.key,i=a.shiftKey,o=At(r.state.preSelection);if(s==="Enter")a.preventDefault(),r.handleSelect(o,a),!r.props.shouldCloseOnSelect&&r.setPreSelection(o);else if(s==="Escape")a.preventDefault(),r.setOpen(!1),r.inputOk()||r.props.onInputError({code:1,msg:Pp});else if(!r.props.disabledKeyboardNavigation){var l;switch(s){case"ArrowLeft":r.props.showWeekPicker?l=lv(o,1):l=CS(o,1);break;case"ArrowRight":r.props.showWeekPicker?l=lm(o,1):l=kh(o,1);break;case"ArrowUp":l=lv(o,1);break;case"ArrowDown":l=lm(o,1);break;case"PageUp":l=i?Ko(o,1):Go(o,1);break;case"PageDown":l=i?Us(o,1):Ys(o,1);break;case"Home":l=Vs(o,r.props.locale,r.props.calendarStartDay);break;case"End":l=kC(o);break;default:l=null;break}if(!l){r.props.onInputError&&r.props.onInputError({code:1,msg:Pp});return}if(a.preventDefault(),r.setState({lastPreSelectChange:Ap}),r.props.adjustDateOnChange&&r.setSelected(l),r.setPreSelection(l),r.props.inline){var u=Qr(o),d=Qr(l),f=ht(o),m=ht(l);u!==d||f!==m?r.setState({shouldFocusDayInline:!0}):r.setState({shouldFocusDayInline:!1})}}}),J(r,"onPopperKeyDown",function(a){var s=a.key;s==="Escape"&&(a.preventDefault(),r.sendFocusBackToInput())}),J(r,"onClearClick",function(a){a&&a.preventDefault&&a.preventDefault(),r.sendFocusBackToInput(),r.props.selectsRange?r.props.onChange([null,null],a):r.props.onChange(null,a),r.setState({inputValue:null})}),J(r,"clear",function(){r.onClearClick()}),J(r,"onScroll",function(a){typeof r.props.closeOnScroll=="boolean"&&r.props.closeOnScroll?(a.target===document||a.target===document.documentElement||a.target===document.body)&&r.setOpen(!1):typeof r.props.closeOnScroll=="function"&&r.props.closeOnScroll(a)&&r.setOpen(!1)}),J(r,"renderCalendar",function(){return!r.props.inline&&!r.isCalendarOpen()?null:H.createElement(m6,{ref:function(s){r.calendar=s},locale:r.props.locale,calendarStartDay:r.props.calendarStartDay,chooseDayAriaLabelPrefix:r.props.chooseDayAriaLabelPrefix,disabledDayAriaLabelPrefix:r.props.disabledDayAriaLabelPrefix,weekAriaLabelPrefix:r.props.weekAriaLabelPrefix,monthAriaLabelPrefix:r.props.monthAriaLabelPrefix,adjustDateOnChange:r.props.adjustDateOnChange,setOpen:r.setOpen,shouldCloseOnSelect:r.props.shouldCloseOnSelect,dateFormat:r.props.dateFormatCalendar,useWeekdaysShort:r.props.useWeekdaysShort,formatWeekDay:r.props.formatWeekDay,dropdownMode:r.props.dropdownMode,selected:r.props.selected,preSelection:r.state.preSelection,onSelect:r.handleSelect,onWeekSelect:r.props.onWeekSelect,openToDate:r.props.openToDate,minDate:r.props.minDate,maxDate:r.props.maxDate,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,selectsRange:r.props.selectsRange,selectsMultiple:r.props.selectsMultiple,selectedDates:r.props.selectedDates,startDate:r.props.startDate,endDate:r.props.endDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,filterDate:r.props.filterDate,onClickOutside:r.handleCalendarClickOutside,formatWeekNumber:r.props.formatWeekNumber,highlightDates:r.state.highlightDates,holidays:IC(r.modifyHolidays()),includeDates:r.props.includeDates,includeDateIntervals:r.props.includeDateIntervals,includeTimes:r.props.includeTimes,injectTimes:r.props.injectTimes,inline:r.props.inline,shouldFocusDayInline:r.state.shouldFocusDayInline,peekNextMonth:r.props.peekNextMonth,showMonthDropdown:r.props.showMonthDropdown,showPreviousMonths:r.props.showPreviousMonths,useShortMonthInDropdown:r.props.useShortMonthInDropdown,showMonthYearDropdown:r.props.showMonthYearDropdown,showWeekNumbers:r.props.showWeekNumbers,showYearDropdown:r.props.showYearDropdown,withPortal:r.props.withPortal,forceShowMonthNavigation:r.props.forceShowMonthNavigation,showDisabledMonthNavigation:r.props.showDisabledMonthNavigation,scrollableYearDropdown:r.props.scrollableYearDropdown,scrollableMonthYearDropdown:r.props.scrollableMonthYearDropdown,todayButton:r.props.todayButton,weekLabel:r.props.weekLabel,outsideClickIgnoreClass:o1,fixedHeight:r.props.fixedHeight,monthsShown:r.props.monthsShown,monthSelectedIn:r.state.monthSelectedIn,onDropdownFocus:r.handleDropdownFocus,onMonthChange:r.props.onMonthChange,onYearChange:r.props.onYearChange,dayClassName:r.props.dayClassName,weekDayClassName:r.props.weekDayClassName,monthClassName:r.props.monthClassName,timeClassName:r.props.timeClassName,showDateSelect:r.props.showDateSelect,showTimeSelect:r.props.showTimeSelect,showTimeSelectOnly:r.props.showTimeSelectOnly,onTimeChange:r.handleTimeChange,timeFormat:r.props.timeFormat,timeIntervals:r.props.timeIntervals,minTime:r.props.minTime,maxTime:r.props.maxTime,excludeTimes:r.props.excludeTimes,filterTime:r.props.filterTime,timeCaption:r.props.timeCaption,className:r.props.calendarClassName,container:r.props.calendarContainer,yearItemNumber:r.props.yearItemNumber,yearDropdownItemNumber:r.props.yearDropdownItemNumber,previousMonthAriaLabel:r.props.previousMonthAriaLabel,previousMonthButtonLabel:r.props.previousMonthButtonLabel,nextMonthAriaLabel:r.props.nextMonthAriaLabel,nextMonthButtonLabel:r.props.nextMonthButtonLabel,previousYearAriaLabel:r.props.previousYearAriaLabel,previousYearButtonLabel:r.props.previousYearButtonLabel,nextYearAriaLabel:r.props.nextYearAriaLabel,nextYearButtonLabel:r.props.nextYearButtonLabel,timeInputLabel:r.props.timeInputLabel,disabledKeyboardNavigation:r.props.disabledKeyboardNavigation,renderCustomHeader:r.props.renderCustomHeader,popperProps:r.props.popperProps,renderDayContents:r.props.renderDayContents,renderMonthContent:r.props.renderMonthContent,renderQuarterContent:r.props.renderQuarterContent,renderYearContent:r.props.renderYearContent,onDayMouseEnter:r.props.onDayMouseEnter,onMonthMouseLeave:r.props.onMonthMouseLeave,onYearMouseEnter:r.props.onYearMouseEnter,onYearMouseLeave:r.props.onYearMouseLeave,selectsDisabledDaysInRange:r.props.selectsDisabledDaysInRange,showTimeInput:r.props.showTimeInput,showMonthYearPicker:r.props.showMonthYearPicker,showFullMonthYearPicker:r.props.showFullMonthYearPicker,showTwoColumnMonthYearPicker:r.props.showTwoColumnMonthYearPicker,showFourColumnMonthYearPicker:r.props.showFourColumnMonthYearPicker,showYearPicker:r.props.showYearPicker,showQuarterYearPicker:r.props.showQuarterYearPicker,showWeekPicker:r.props.showWeekPicker,excludeScrollbar:r.props.excludeScrollbar,handleOnKeyDown:r.props.onKeyDown,handleOnDayKeyDown:r.onDayKeyDown,isInputFocused:r.state.focused,customTimeInput:r.props.customTimeInput,setPreSelection:r.setPreSelection,usePointerEvent:r.props.usePointerEvent,yearClassName:r.props.yearClassName},r.props.children)}),J(r,"renderAriaLiveRegion",function(){var a=r.props,s=a.dateFormat,i=a.locale,o=r.props.showTimeInput||r.props.showTimeSelect,l=o?"PPPPp":"PPPP",u;return r.props.selectsRange?u="Selected start date: ".concat(zn(r.props.startDate,{dateFormat:l,locale:i}),". ").concat(r.props.endDate?"End date: "+zn(r.props.endDate,{dateFormat:l,locale:i}):""):r.props.showTimeSelectOnly?u="Selected time: ".concat(zn(r.props.selected,{dateFormat:s,locale:i})):r.props.showYearPicker?u="Selected year: ".concat(zn(r.props.selected,{dateFormat:"yyyy",locale:i})):r.props.showMonthYearPicker?u="Selected month: ".concat(zn(r.props.selected,{dateFormat:"MMMM yyyy",locale:i})):r.props.showQuarterYearPicker?u="Selected quarter: ".concat(zn(r.props.selected,{dateFormat:"yyyy, QQQ",locale:i})):u="Selected date: ".concat(zn(r.props.selected,{dateFormat:l,locale:i})),H.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},u)}),J(r,"renderDateInput",function(){var a,s=Ar(r.props.className,J({},o1,r.state.open)),i=r.props.customInput||H.createElement("input",{type:"text"}),o=r.props.customInputRef||"ref",l=typeof r.props.value=="string"?r.props.value:typeof r.state.inputValue=="string"?r.state.inputValue:r.props.selectsRange?wC(r.props.startDate,r.props.endDate,r.props):r.props.selectsMultiple?SC(r.props.selectedDates,r.props):zn(r.props.selected,r.props);return H.cloneElement(i,(a={},J(J(J(J(J(J(J(J(J(J(a,o,function(u){r.input=u}),"value",l),"onBlur",r.handleBlur),"onChange",r.handleChange),"onClick",r.onInputClick),"onFocus",r.handleFocus),"onKeyDown",r.onInputKeyDown),"id",r.props.id),"name",r.props.name),"form",r.props.form),J(J(J(J(J(J(J(J(J(J(a,"autoFocus",r.props.autoFocus),"placeholder",r.props.placeholderText),"disabled",r.props.disabled),"autoComplete",r.props.autoComplete),"className",Ar(i.props.className,s)),"title",r.props.title),"readOnly",r.props.readOnly),"required",r.props.required),"tabIndex",r.props.tabIndex),"aria-describedby",r.props.ariaDescribedBy),J(J(J(a,"aria-invalid",r.props.ariaInvalid),"aria-labelledby",r.props.ariaLabelledBy),"aria-required",r.props.ariaRequired)))}),J(r,"renderClearButton",function(){var a=r.props,s=a.isClearable,i=a.disabled,o=a.selected,l=a.startDate,u=a.endDate,d=a.clearButtonTitle,f=a.clearButtonClassName,m=f===void 0?"":f,p=a.ariaLabelClose,y=p===void 0?"Close":p,v=a.selectedDates;return s&&(o!=null||l!=null||u!=null||v!=null&&v.length)?H.createElement("button",{type:"button",className:Ar("react-datepicker__close-icon",m,{"react-datepicker__close-icon--disabled":i}),disabled:i,"aria-label":y,onClick:r.onClearClick,title:d,tabIndex:-1}):null}),r.state=r.calcInitialState(),r.preventFocusTimeout=null,r}return jr(t,n),_r(t,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll,!0)}},{key:"componentDidUpdate",value:function(r,a){r.inline&&g6(r.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&r.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),r.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:e1(this.props.highlightDates)}),!a.focused&&!ki(r.selected,this.props.selected)&&this.setState({inputValue:null}),a.open!==this.state.open&&(a.open===!1&&this.state.open===!0&&this.props.onCalendarOpen(),a.open===!0&&this.state.open===!1&&this.props.onCalendarClose())}},{key:"componentWillUnmount",value:function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0)}},{key:"renderInputContainer",value:function(){var r=this.props,a=r.showIcon,s=r.icon,i=r.calendarIconClassname,o=r.toggleCalendarOnIconClick,l=this.state.open;return H.createElement("div",{className:"react-datepicker__input-container".concat(a?" react-datepicker__view-calendar-icon":"")},a&&H.createElement(c6,Oc({icon:s,className:"".concat(i," ").concat(l&&"react-datepicker-ignore-onclickoutside")},o?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())}},{key:"render",value:function(){var r=this.renderCalendar();if(this.props.inline)return r;if(this.props.withPortal){var a=this.state.open?H.createElement(U2,{enableTabLoop:this.props.enableTabLoop},H.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},r)):null;return this.state.open&&this.props.portalId&&(a=H.createElement(q2,{portalId:this.props.portalId,portalHost:this.props.portalHost},a)),H.createElement("div",null,this.renderInputContainer(),a)}return H.createElement(p6,{className:this.props.popperClassName,wrapperClassName:this.props.wrapperClassName,hidePopper:!this.isCalendarOpen(),portalId:this.props.portalId,portalHost:this.props.portalHost,popperModifiers:this.props.popperModifiers,targetComponent:this.renderInputContainer(),popperContainer:this.props.popperContainer,popperComponent:r,popperPlacement:this.props.popperPlacement,popperProps:this.props.popperProps,popperOnKeyDown:this.onPopperKeyDown,enableTabLoop:this.props.enableTabLoop,showArrow:this.props.showPopperArrow})}}],[{key:"defaultProps",get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",onChange:function(){},disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",onFocus:function(){},onBlur:function(){},onKeyDown:function(){},onInputClick:function(){},onSelect:function(){},onClickOutside:function(){},onMonthChange:function(){},onCalendarOpen:function(){},onCalendarClose:function(){},preventOpenOnFocus:!1,onYearChange:function(){},onInputError:function(){},monthsShown:1,readOnly:!1,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:nu,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}}}])}(H.Component),v6="input",Ap="navigate";function Dg({open:n,onOpenChange:t,client:e}){var X,K,ne,ue,ae,fe,Ne,_e,Oe,Pe;const{profile:r}=Jn(),[a,s]=V.useState((e==null?void 0:e.name)||""),[i,o]=V.useState((e==null?void 0:e.email)||""),[l,u]=V.useState((e==null?void 0:e.phone)||""),[d,f]=V.useState(((K=(X=e==null?void 0:e.address)==null?void 0:X.split(",")[0])==null?void 0:K.trim())||""),[m,p]=V.useState(((ue=(ne=e==null?void 0:e.address)==null?void 0:ne.split(",")[1])==null?void 0:ue.trim())||""),[y,v]=V.useState(!1),[x,w]=V.useState(((fe=(ae=e==null?void 0:e.address)==null?void 0:ae.split(",")[2])==null?void 0:fe.trim())||""),[N,_]=V.useState(((_e=(Ne=e==null?void 0:e.address)==null?void 0:Ne.split(",")[3])==null?void 0:_e.trim())||""),[C,A]=V.useState(((Pe=(Oe=e==null?void 0:e.address)==null?void 0:Oe.split(",")[4])==null?void 0:Pe.trim())||""),[B,D]=V.useState(""),[E,U]=V.useState((e==null?void 0:e.documentType)||"CPF"),[L,k]=V.useState((e==null?void 0:e.document)||""),[P,F]=V.useState(!!(e!=null&&e.scheduledDate)),[I,ee]=V.useState(e!=null&&e.scheduledDate?new Date(e.scheduledDate):null),re=Hn(De=>De.addClient),W=Hn(De=>De.updateClient),Z=Ri(De=>De.addVisit),le=async De=>{const ve=De.replace(/\D/g,""),te=ve.replace(/(\d{5})(\d{3})/,"$1-$2");if(D(te),ve.length===8)try{const Fe=await(await fetch(`https://viacep.com.br/ws/${ve}/json/`)).json();Fe.erro||(f(Fe.logradouro||""),w(Fe.bairro||""),_(Fe.localidade||""),A(Fe.uf||""))}catch(He){console.error("Erro ao buscar CEP:",He)}},de=(De,ve)=>{const te=De.replace(/\D/g,"");return ve==="CPF"?te.slice(0,11).replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})$/,"$1-$2"):te.slice(0,14).replace(/(\d{2})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1/$2").replace(/(\d{4})(\d{1,2})$/,"$1-$2")},Ce=De=>{const ve=de(De.target.value,E);k(ve)},M=De=>{U(De),k("")},Y=async De=>{De.preventDefault();const ve=[d,y?"S/N":m,x,N,C].filter(Boolean).join(", "),te={name:a,email:i,phone:l,address:ve,documentType:E,document:L,scheduledDate:P?I==null?void 0:I.toISOString():null};try{if(e){if(await W(e.id,te),P&&I&&(r!=null&&r.id))try{await Z({clientName:a,clientId:e.id,vendorId:r.id,scheduledDate:I.toISOString(),status:"scheduled",notes:"Visita agendada durante edio do cliente",location:ve||"Local a definir"})}catch(He){console.warn("Erro ao criar visita:",He)}}else{const He=await re(te);if(P&&I&&(r!=null&&r.id))try{await Z({clientName:a,clientId:typeof He=="string"?He:void 0,vendorId:r.id,scheduledDate:I.toISOString(),status:"scheduled",notes:"Visita agendada durante cadastro do cliente",location:ve||"Local a definir"})}catch(Fe){console.warn("Erro ao criar visita agendada:",Fe)}}t(!1),s(""),o(""),u(""),f(""),p(""),v(!1),w(""),_(""),A(""),D(""),U("CPF"),k(""),F(!1),ee(null)}catch(He){console.error("Error saving client:",He);const Fe=He instanceof Error?He.message:"Erro ao salvar cliente";alert(Fe)}};return c.jsx(en,{open:n,onOpenChange:t,children:c.jsxs(tn,{children:[c.jsx(rn,{className:"fixed inset-0 bg-black/50"}),c.jsxs(nn,{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white rounded-lg p-4 md:p-6 w-[95vw] max-w-[600px] max-h-[90vh] overflow-y-auto",children:[c.jsx(an,{className:"text-xl font-semibold mb-4",children:e?"Editar Cliente":"Novo Cliente"}),c.jsxs("form",{onSubmit:Y,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome Completo *"}),c.jsx("input",{type:"text",value:a,onChange:De=>s(De.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,placeholder:"Nome completo do cliente"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email"}),c.jsx("input",{type:"email",value:i,onChange:De=>o(De.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"email@exemplo.com"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Telefone"}),c.jsx("input",{type:"tel",value:l,onChange:De=>u(De.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"(00) 00000-0000"})]})]})]}),c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-4",children:[c.jsxs("div",{className:"flex items-center mb-3",children:[c.jsx(u2,{className:"h-5 w-5 text-blue-600 mr-2"}),c.jsx("h3",{className:"font-medium text-gray-900",children:"Endereo Completo"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"CEP"}),c.jsx("input",{type:"text",value:B,onChange:De=>le(De.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"00000-000",maxLength:9}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Digite o CEP para preenchimento automtico"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Rua/Logradouro"}),c.jsx("input",{type:"text",value:d,onChange:De=>f(De.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Nome da rua"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nmero"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("input",{type:"text",value:m,onChange:De=>p(De.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"123",disabled:y}),c.jsxs("label",{className:"flex items-center text-sm",children:[c.jsx("input",{type:"checkbox",checked:y,onChange:De=>{v(De.target.checked),De.target.checked&&p("")},className:"mr-2"}),"Sem nmero"]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Bairro"}),c.jsx("input",{type:"text",value:x,onChange:De=>w(De.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Nome do bairro"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Cidade"}),c.jsx("input",{type:"text",value:N,onChange:De=>_(De.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Nome da cidade"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Estado"}),c.jsxs("select",{value:C,onChange:De=>A(De.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[c.jsx("option",{value:"",children:"Selecione o estado"}),c.jsx("option",{value:"AC",children:"Acre"}),c.jsx("option",{value:"AL",children:"Alagoas"}),c.jsx("option",{value:"AP",children:"Amap"}),c.jsx("option",{value:"AM",children:"Amazonas"}),c.jsx("option",{value:"BA",children:"Bahia"}),c.jsx("option",{value:"CE",children:"Cear"}),c.jsx("option",{value:"DF",children:"Distrito Federal"}),c.jsx("option",{value:"ES",children:"Esprito Santo"}),c.jsx("option",{value:"GO",children:"Gois"}),c.jsx("option",{value:"MA",children:"Maranho"}),c.jsx("option",{value:"MT",children:"Mato Grosso"}),c.jsx("option",{value:"MS",children:"Mato Grosso do Sul"}),c.jsx("option",{value:"MG",children:"Minas Gerais"}),c.jsx("option",{value:"PA",children:"Par"}),c.jsx("option",{value:"PB",children:"Paraba"}),c.jsx("option",{value:"PR",children:"Paran"}),c.jsx("option",{value:"PE",children:"Pernambuco"}),c.jsx("option",{value:"PI",children:"Piau"}),c.jsx("option",{value:"RJ",children:"Rio de Janeiro"}),c.jsx("option",{value:"RN",children:"Rio Grande do Norte"}),c.jsx("option",{value:"RS",children:"Rio Grande do Sul"}),c.jsx("option",{value:"RO",children:"Rondnia"}),c.jsx("option",{value:"RR",children:"Roraima"}),c.jsx("option",{value:"SC",children:"Santa Catarina"}),c.jsx("option",{value:"SP",children:"So Paulo"}),c.jsx("option",{value:"SE",children:"Sergipe"}),c.jsx("option",{value:"TO",children:"Tocantins"})]})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Documento"}),c.jsxs("div",{className:"flex gap-2 mb-3",children:[c.jsx("button",{type:"button",onClick:()=>M("CPF"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors flex-1 ${E==="CPF"?"bg-cyan-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"CPF"}),c.jsx("button",{type:"button",onClick:()=>M("CNPJ"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors flex-1 ${E==="CNPJ"?"bg-cyan-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"CNPJ"})]}),c.jsx("input",{type:"text",value:L,onChange:Ce,className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:E==="CPF"?"000.000.000-00":"00.000.000/0000-00",maxLength:E==="CPF"?14:18})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("label",{htmlFor:"scheduling-switch",className:"text-sm font-medium",children:"Agendar Visita?"}),c.jsx(vS,{id:"scheduling-switch",checked:P,onCheckedChange:F,className:"w-11 h-6 bg-gray-200 rounded-full relative data-[state=checked]:bg-cyan-600 transition-colors",children:c.jsx(bS,{className:"block w-5 h-5 bg-white rounded-full shadow-lg transition-transform duration-100 translate-x-0.5 will-change-transform data-[state=checked]:translate-x-[22px]"})})]}),P&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data do Agendamento"}),c.jsx(rl,{selected:I,onChange:De=>ee(De),showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,dateFormat:"dd/MM/yyyy HH:mm",className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholderText:"Selecione data e hora",required:P})]}),c.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[c.jsx("button",{type:"button",onClick:()=>t(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-md transition-colors",children:"Cancelar"}),c.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-cyan-600 hover:bg-cyan-700 rounded-md transition-colors",children:"Salvar"})]})]}),c.jsx(sn,{className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:c.jsx(Lr,{size:20})})]})]})})}function pt(n){"@babel/helpers - typeof";return pt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pt(n)}var Hr=Uint8Array,Pn=Uint16Array,Eg=Int32Array,qh=new Hr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Uh=new Hr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Am=new Hr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),V2=function(n,t){for(var e=new Pn(31),r=0;r<31;++r)e[r]=t+=1<<n[r-1];for(var a=new Eg(e[30]),r=1;r<30;++r)for(var s=e[r];s<e[r+1];++s)a[s]=s-e[r]<<5|r;return{b:e,r:a}},z2=V2(qh,2),H2=z2.b,Lm=z2.r;H2[28]=258,Lm[258]=28;var W2=V2(Uh,0),b6=W2.b,l1=W2.r,Om=new Pn(32768);for(var Vt=0;Vt<32768;++Vt){var Os=(Vt&43690)>>1|(Vt&21845)<<1;Os=(Os&52428)>>2|(Os&13107)<<2,Os=(Os&61680)>>4|(Os&3855)<<4,Om[Vt]=((Os&65280)>>8|(Os&255)<<8)>>1}var Ua=function(n,t,e){for(var r=n.length,a=0,s=new Pn(t);a<r;++a)n[a]&&++s[n[a]-1];var i=new Pn(t);for(a=1;a<t;++a)i[a]=i[a-1]+s[a-1]<<1;var o;if(e){o=new Pn(1<<t);var l=15-t;for(a=0;a<r;++a)if(n[a])for(var u=a<<4|n[a],d=t-n[a],f=i[n[a]-1]++<<d,m=f|(1<<d)-1;f<=m;++f)o[Om[f]>>l]=u}else for(o=new Pn(r),a=0;a<r;++a)n[a]&&(o[a]=Om[i[n[a]-1]++]>>15-n[a]);return o},Xs=new Hr(288);for(var Vt=0;Vt<144;++Vt)Xs[Vt]=8;for(var Vt=144;Vt<256;++Vt)Xs[Vt]=9;for(var Vt=256;Vt<280;++Vt)Xs[Vt]=7;for(var Vt=280;Vt<288;++Vt)Xs[Vt]=8;var Tc=new Hr(32);for(var Vt=0;Vt<32;++Vt)Tc[Vt]=5;var y6=Ua(Xs,9,0),x6=Ua(Xs,9,1),w6=Ua(Tc,5,0),S6=Ua(Tc,5,1),Lp=function(n){for(var t=n[0],e=1;e<n.length;++e)n[e]>t&&(t=n[e]);return t},ua=function(n,t,e){var r=t/8|0;return(n[r]|n[r+1]<<8)>>(t&7)&e},Op=function(n,t){var e=t/8|0;return(n[e]|n[e+1]<<8|n[e+2]<<16)>>(t&7)},Pg=function(n){return(n+7)/8|0},Y2=function(n,t,e){return(e==null||e>n.length)&&(e=n.length),new Hr(n.subarray(t,e))},N6=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ha=function(n,t,e){var r=new Error(t||N6[n]);if(r.code=n,Error.captureStackTrace&&Error.captureStackTrace(r,ha),!e)throw r;return r},_6=function(n,t,e,r){var a=n.length,s=0;if(!a||t.f&&!t.l)return e||new Hr(0);var i=!e,o=i||t.i!=2,l=t.i;i&&(e=new Hr(a*3));var u=function(_e){var Oe=e.length;if(_e>Oe){var Pe=new Hr(Math.max(Oe*2,_e));Pe.set(e),e=Pe}},d=t.f||0,f=t.p||0,m=t.b||0,p=t.l,y=t.d,v=t.m,x=t.n,w=a*8;do{if(!p){d=ua(n,f,1);var N=ua(n,f+1,3);if(f+=3,N)if(N==1)p=x6,y=S6,v=9,x=5;else if(N==2){var B=ua(n,f,31)+257,D=ua(n,f+10,15)+4,E=B+ua(n,f+5,31)+1;f+=14;for(var U=new Hr(E),L=new Hr(19),k=0;k<D;++k)L[Am[k]]=ua(n,f+k*3,7);f+=D*3;for(var P=Lp(L),F=(1<<P)-1,I=Ua(L,P,1),k=0;k<E;){var ee=I[ua(n,f,F)];f+=ee&15;var _=ee>>4;if(_<16)U[k++]=_;else{var re=0,W=0;for(_==16?(W=3+ua(n,f,3),f+=2,re=U[k-1]):_==17?(W=3+ua(n,f,7),f+=3):_==18&&(W=11+ua(n,f,127),f+=7);W--;)U[k++]=re}}var Z=U.subarray(0,B),le=U.subarray(B);v=Lp(Z),x=Lp(le),p=Ua(Z,v,1),y=Ua(le,x,1)}else ha(1);else{var _=Pg(f)+4,C=n[_-4]|n[_-3]<<8,A=_+C;if(A>a){l&&ha(0);break}o&&u(m+C),e.set(n.subarray(_,A),m),t.b=m+=C,t.p=f=A*8,t.f=d;continue}if(f>w){l&&ha(0);break}}o&&u(m+131072);for(var de=(1<<v)-1,Ce=(1<<x)-1,M=f;;M=f){var re=p[Op(n,f)&de],Y=re>>4;if(f+=re&15,f>w){l&&ha(0);break}if(re||ha(2),Y<256)e[m++]=Y;else if(Y==256){M=f,p=null;break}else{var X=Y-254;if(Y>264){var k=Y-257,K=qh[k];X=ua(n,f,(1<<K)-1)+H2[k],f+=K}var ne=y[Op(n,f)&Ce],ue=ne>>4;ne||ha(3),f+=ne&15;var le=b6[ue];if(ue>3){var K=Uh[ue];le+=Op(n,f)&(1<<K)-1,f+=K}if(f>w){l&&ha(0);break}o&&u(m+131072);var ae=m+X;if(m<le){var fe=s-le,Ne=Math.min(le,ae);for(fe+m<0&&ha(3);m<Ne;++m)e[m]=r[fe+m]}for(;m<ae;++m)e[m]=e[m-le]}}t.l=p,t.p=M,t.b=m,t.f=d,p&&(d=1,t.m=v,t.d=y,t.n=x)}while(!d);return m!=e.length&&i?Y2(e,0,m):e.subarray(0,m)},us=function(n,t,e){e<<=t&7;var r=t/8|0;n[r]|=e,n[r+1]|=e>>8},ic=function(n,t,e){e<<=t&7;var r=t/8|0;n[r]|=e,n[r+1]|=e>>8,n[r+2]|=e>>16},Tp=function(n,t){for(var e=[],r=0;r<n.length;++r)n[r]&&e.push({s:r,f:n[r]});var a=e.length,s=e.slice();if(!a)return{t:K2,l:0};if(a==1){var i=new Hr(e[0].s+1);return i[e[0].s]=1,{t:i,l:1}}e.sort(function(A,B){return A.f-B.f}),e.push({s:-1,f:25001});var o=e[0],l=e[1],u=0,d=1,f=2;for(e[0]={s:-1,f:o.f+l.f,l:o,r:l};d!=a-1;)o=e[e[u].f<e[f].f?u++:f++],l=e[u!=d&&e[u].f<e[f].f?u++:f++],e[d++]={s:-1,f:o.f+l.f,l:o,r:l};for(var m=s[0].s,r=1;r<a;++r)s[r].s>m&&(m=s[r].s);var p=new Pn(m+1),y=Tm(e[d-1],p,0);if(y>t){var r=0,v=0,x=y-t,w=1<<x;for(s.sort(function(B,D){return p[D.s]-p[B.s]||B.f-D.f});r<a;++r){var N=s[r].s;if(p[N]>t)v+=w-(1<<y-p[N]),p[N]=t;else break}for(v>>=x;v>0;){var _=s[r].s;p[_]<t?v-=1<<t-p[_]++-1:++r}for(;r>=0&&v;--r){var C=s[r].s;p[C]==t&&(--p[C],++v)}y=t}return{t:new Hr(p),l:y}},Tm=function(n,t,e){return n.s==-1?Math.max(Tm(n.l,t,e+1),Tm(n.r,t,e+1)):t[n.s]=e},c1=function(n){for(var t=n.length;t&&!n[--t];);for(var e=new Pn(++t),r=0,a=n[0],s=1,i=function(l){e[r++]=l},o=1;o<=t;++o)if(n[o]==a&&o!=t)++s;else{if(!a&&s>2){for(;s>138;s-=138)i(32754);s>2&&(i(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(i(a),--s;s>6;s-=6)i(8304);s>2&&(i(s-3<<5|8208),s=0)}for(;s--;)i(a);s=1,a=n[o]}return{c:e.subarray(0,r),n:t}},oc=function(n,t){for(var e=0,r=0;r<t.length;++r)e+=n[r]*t[r];return e},G2=function(n,t,e){var r=e.length,a=Pg(t+2);n[a]=r&255,n[a+1]=r>>8,n[a+2]=n[a]^255,n[a+3]=n[a+1]^255;for(var s=0;s<r;++s)n[a+s+4]=e[s];return(a+4+r)*8},u1=function(n,t,e,r,a,s,i,o,l,u,d){us(t,d++,e),++a[256];for(var f=Tp(a,15),m=f.t,p=f.l,y=Tp(s,15),v=y.t,x=y.l,w=c1(m),N=w.c,_=w.n,C=c1(v),A=C.c,B=C.n,D=new Pn(19),E=0;E<N.length;++E)++D[N[E]&31];for(var E=0;E<A.length;++E)++D[A[E]&31];for(var U=Tp(D,7),L=U.t,k=U.l,P=19;P>4&&!L[Am[P-1]];--P);var F=u+5<<3,I=oc(a,Xs)+oc(s,Tc)+i,ee=oc(a,m)+oc(s,v)+i+14+3*P+oc(D,L)+2*D[16]+3*D[17]+7*D[18];if(l>=0&&F<=I&&F<=ee)return G2(t,d,n.subarray(l,l+u));var re,W,Z,le;if(us(t,d,1+(ee<I)),d+=2,ee<I){re=Ua(m,p,0),W=m,Z=Ua(v,x,0),le=v;var de=Ua(L,k,0);us(t,d,_-257),us(t,d+5,B-1),us(t,d+10,P-4),d+=14;for(var E=0;E<P;++E)us(t,d+3*E,L[Am[E]]);d+=3*P;for(var Ce=[N,A],M=0;M<2;++M)for(var Y=Ce[M],E=0;E<Y.length;++E){var X=Y[E]&31;us(t,d,de[X]),d+=L[X],X>15&&(us(t,d,Y[E]>>5&127),d+=Y[E]>>12)}}else re=y6,W=Xs,Z=w6,le=Tc;for(var E=0;E<o;++E){var K=r[E];if(K>255){var X=K>>18&31;ic(t,d,re[X+257]),d+=W[X+257],X>7&&(us(t,d,K>>23&31),d+=qh[X]);var ne=K&31;ic(t,d,Z[ne]),d+=le[ne],ne>3&&(ic(t,d,K>>5&8191),d+=Uh[ne])}else ic(t,d,re[K]),d+=W[K]}return ic(t,d,re[256]),d+W[256]},j6=new Eg([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),K2=new Hr(0),k6=function(n,t,e,r,a,s){var i=s.z||n.length,o=new Hr(r+i+5*(1+Math.ceil(i/7e3))+a),l=o.subarray(r,o.length-a),u=s.l,d=(s.r||0)&7;if(t){d&&(l[0]=s.r>>3);for(var f=j6[t-1],m=f>>13,p=f&8191,y=(1<<e)-1,v=s.p||new Pn(32768),x=s.h||new Pn(y+1),w=Math.ceil(e/3),N=2*w,_=function(De){return(n[De]^n[De+1]<<w^n[De+2]<<N)&y},C=new Eg(25e3),A=new Pn(288),B=new Pn(32),D=0,E=0,U=s.i||0,L=0,k=s.w||0,P=0;U+2<i;++U){var F=_(U),I=U&32767,ee=x[F];if(v[I]=ee,x[F]=I,k<=U){var re=i-U;if((D>7e3||L>24576)&&(re>423||!u)){d=u1(n,l,0,C,A,B,E,L,P,U-P,d),L=D=E=0,P=U;for(var W=0;W<286;++W)A[W]=0;for(var W=0;W<30;++W)B[W]=0}var Z=2,le=0,de=p,Ce=I-ee&32767;if(re>2&&F==_(U-Ce))for(var M=Math.min(m,re)-1,Y=Math.min(32767,U),X=Math.min(258,re);Ce<=Y&&--de&&I!=ee;){if(n[U+Z]==n[U+Z-Ce]){for(var K=0;K<X&&n[U+K]==n[U+K-Ce];++K);if(K>Z){if(Z=K,le=Ce,K>M)break;for(var ne=Math.min(Ce,K-2),ue=0,W=0;W<ne;++W){var ae=U-Ce+W&32767,fe=v[ae],Ne=ae-fe&32767;Ne>ue&&(ue=Ne,ee=ae)}}}I=ee,ee=v[I],Ce+=I-ee&32767}if(le){C[L++]=268435456|Lm[Z]<<18|l1[le];var _e=Lm[Z]&31,Oe=l1[le]&31;E+=qh[_e]+Uh[Oe],++A[257+_e],++B[Oe],k=U+Z,++D}else C[L++]=n[U],++A[n[U]]}}for(U=Math.max(U,k);U<i;++U)C[L++]=n[U],++A[n[U]];d=u1(n,l,u,C,A,B,E,L,P,U-P,d),u||(s.r=d&7|l[d/8|0]<<3,d-=7,s.h=x,s.p=v,s.i=U,s.w=k)}else{for(var U=s.w||0;U<i+u;U+=65535){var Pe=U+65535;Pe>=i&&(l[d/8|0]=u,Pe=i),d=G2(l,d+1,n.subarray(U,Pe))}s.i=i}return Y2(o,0,r+Pg(d)+a)},J2=function(){var n=1,t=0;return{p:function(e){for(var r=n,a=t,s=e.length|0,i=0;i!=s;){for(var o=Math.min(i+2655,s);i<o;++i)a+=r+=e[i];r=(r&65535)+15*(r>>16),a=(a&65535)+15*(a>>16)}n=r,t=a},d:function(){return n%=65521,t%=65521,(n&255)<<24|(n&65280)<<8|(t&255)<<8|t>>8}}},C6=function(n,t,e,r,a){if(!a&&(a={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),i=new Hr(s.length+n.length);i.set(s),i.set(n,s.length),n=i,a.w=s.length}return k6(n,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+t.mem,e,r,a)},X2=function(n,t,e){for(;e;++t)n[t]=e,e>>>=8},D6=function(n,t){var e=t.level,r=e==0?0:e<6?1:e==9?3:2;if(n[0]=120,n[1]=r<<6|(t.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,t.dictionary){var a=J2();a.p(t.dictionary),X2(n,2,a.d())}},E6=function(n,t){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&ha(6,"invalid zlib data"),(n[1]>>5&1)==+!t&&ha(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function Mm(n,t){t||(t={});var e=J2();e.p(n);var r=C6(n,t,t.dictionary?6:2,4);return D6(r,t),X2(r,r.length-4,e.d()),r}function P6(n,t){return _6(n.subarray(E6(n,t),-4),{i:2},t,t)}var A6=typeof TextDecoder<"u"&&new TextDecoder,L6=0;try{A6.decode(K2,{stream:!0}),L6=1}catch{}var Ze=function(){return typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:this}();function Mp(){Ze.console&&typeof Ze.console.log=="function"&&Ze.console.log.apply(Ze.console,arguments)}var It={log:Mp,warn:function(n){Ze.console&&(typeof Ze.console.warn=="function"?Ze.console.warn.apply(Ze.console,arguments):Mp.call(null,arguments))},error:function(n){Ze.console&&(typeof Ze.console.error=="function"?Ze.console.error.apply(Ze.console,arguments):Mp(n))}};function Ip(n,t,e){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){wi(r.response,t,e)},r.onerror=function(){It.error("could not download file")},r.send()}function d1(n){var t=new XMLHttpRequest;t.open("HEAD",n,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function gd(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(t)}}var Nc,Im,wi=Ze.saveAs||((typeof window>"u"?"undefined":pt(window))!=="object"||window!==Ze?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,t,e){var r=Ze.URL||Ze.webkitURL,a=document.createElement("a");t=t||n.name||"download",a.download=t,a.rel="noopener",typeof n=="string"?(a.href=n,a.origin!==location.origin?d1(a.href)?Ip(n,t,e):gd(a,a.target="_blank"):gd(a)):(a.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(a.href)},4e4),setTimeout(function(){gd(a)},0))}:"msSaveOrOpenBlob"in navigator?function(n,t,e){if(t=t||n.name||"download",typeof n=="string")if(d1(n))Ip(n,t,e);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){gd(r)})}else navigator.msSaveOrOpenBlob(function(a,s){return s===void 0?s={autoBom:!1}:pt(s)!=="object"&&(It.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(n,e),t)}:function(n,t,e,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return Ip(n,t,e);var a=n.type==="application/octet-stream",s=/constructor/i.test(Ze.HTMLElement)||Ze.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||a&&s)&&(typeof FileReader>"u"?"undefined":pt(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var d=o.result;d=i?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},o.readAsDataURL(n)}else{var l=Ze.URL||Ze.webkitURL,u=l.createObjectURL(n);r?r.location=u:location.href=u,r=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Q2(n){var t;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<e.length;r++){var a=e[r].re,s=e[r].process,i=a.exec(n);i&&(t=s(i),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+o+l+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Rp(n,t){var e=n[0],r=n[1],a=n[2],s=n[3];e=Fr(e,r,a,s,t[0],7,-680876936),s=Fr(s,e,r,a,t[1],12,-389564586),a=Fr(a,s,e,r,t[2],17,606105819),r=Fr(r,a,s,e,t[3],22,-1044525330),e=Fr(e,r,a,s,t[4],7,-176418897),s=Fr(s,e,r,a,t[5],12,1200080426),a=Fr(a,s,e,r,t[6],17,-1473231341),r=Fr(r,a,s,e,t[7],22,-45705983),e=Fr(e,r,a,s,t[8],7,1770035416),s=Fr(s,e,r,a,t[9],12,-1958414417),a=Fr(a,s,e,r,t[10],17,-42063),r=Fr(r,a,s,e,t[11],22,-1990404162),e=Fr(e,r,a,s,t[12],7,1804603682),s=Fr(s,e,r,a,t[13],12,-40341101),a=Fr(a,s,e,r,t[14],17,-1502002290),e=Br(e,r=Fr(r,a,s,e,t[15],22,1236535329),a,s,t[1],5,-165796510),s=Br(s,e,r,a,t[6],9,-1069501632),a=Br(a,s,e,r,t[11],14,643717713),r=Br(r,a,s,e,t[0],20,-373897302),e=Br(e,r,a,s,t[5],5,-701558691),s=Br(s,e,r,a,t[10],9,38016083),a=Br(a,s,e,r,t[15],14,-660478335),r=Br(r,a,s,e,t[4],20,-405537848),e=Br(e,r,a,s,t[9],5,568446438),s=Br(s,e,r,a,t[14],9,-1019803690),a=Br(a,s,e,r,t[3],14,-187363961),r=Br(r,a,s,e,t[8],20,1163531501),e=Br(e,r,a,s,t[13],5,-1444681467),s=Br(s,e,r,a,t[2],9,-51403784),a=Br(a,s,e,r,t[7],14,1735328473),e=qr(e,r=Br(r,a,s,e,t[12],20,-1926607734),a,s,t[5],4,-378558),s=qr(s,e,r,a,t[8],11,-2022574463),a=qr(a,s,e,r,t[11],16,1839030562),r=qr(r,a,s,e,t[14],23,-35309556),e=qr(e,r,a,s,t[1],4,-1530992060),s=qr(s,e,r,a,t[4],11,1272893353),a=qr(a,s,e,r,t[7],16,-155497632),r=qr(r,a,s,e,t[10],23,-1094730640),e=qr(e,r,a,s,t[13],4,681279174),s=qr(s,e,r,a,t[0],11,-358537222),a=qr(a,s,e,r,t[3],16,-722521979),r=qr(r,a,s,e,t[6],23,76029189),e=qr(e,r,a,s,t[9],4,-640364487),s=qr(s,e,r,a,t[12],11,-421815835),a=qr(a,s,e,r,t[15],16,530742520),e=Ur(e,r=qr(r,a,s,e,t[2],23,-995338651),a,s,t[0],6,-198630844),s=Ur(s,e,r,a,t[7],10,1126891415),a=Ur(a,s,e,r,t[14],15,-1416354905),r=Ur(r,a,s,e,t[5],21,-57434055),e=Ur(e,r,a,s,t[12],6,1700485571),s=Ur(s,e,r,a,t[3],10,-1894986606),a=Ur(a,s,e,r,t[10],15,-1051523),r=Ur(r,a,s,e,t[1],21,-2054922799),e=Ur(e,r,a,s,t[8],6,1873313359),s=Ur(s,e,r,a,t[15],10,-30611744),a=Ur(a,s,e,r,t[6],15,-1560198380),r=Ur(r,a,s,e,t[13],21,1309151649),e=Ur(e,r,a,s,t[4],6,-145523070),s=Ur(s,e,r,a,t[11],10,-1120210379),a=Ur(a,s,e,r,t[2],15,718787259),r=Ur(r,a,s,e,t[9],21,-343485551),n[0]=qs(e,n[0]),n[1]=qs(r,n[1]),n[2]=qs(a,n[2]),n[3]=qs(s,n[3])}function Vh(n,t,e,r,a,s){return t=qs(qs(t,n),qs(r,s)),qs(t<<a|t>>>32-a,e)}function Fr(n,t,e,r,a,s,i){return Vh(t&e|~t&r,n,t,a,s,i)}function Br(n,t,e,r,a,s,i){return Vh(t&r|e&~r,n,t,a,s,i)}function qr(n,t,e,r,a,s,i){return Vh(t^e^r,n,t,a,s,i)}function Ur(n,t,e,r,a,s,i){return Vh(e^(t|~r),n,t,a,s,i)}function Z2(n){var t,e=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=n.length;t+=64)Rp(r,O6(n.substring(t-64,t)));n=n.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<n.length;t++)a[t>>2]|=n.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(Rp(r,a),t=0;t<16;t++)a[t]=0;return a[14]=8*e,Rp(r,a),r}function O6(n){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=n.charCodeAt(t)+(n.charCodeAt(t+1)<<8)+(n.charCodeAt(t+2)<<16)+(n.charCodeAt(t+3)<<24);return e}Nc=Ze.atob.bind(Ze),Im=Ze.btoa.bind(Ze);var h1="0123456789abcdef".split("");function T6(n){for(var t="",e=0;e<4;e++)t+=h1[n>>8*e+4&15]+h1[n>>8*e&15];return t}function M6(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function Rm(n){return Z2(n).map(M6).join("")}var I6=function(n){for(var t=0;t<n.length;t++)n[t]=T6(n[t]);return n.join("")}(Z2("hello"))!="5d41402abc4b2a76b9719d911017c592";function qs(n,t){if(I6){var e=(65535&n)+(65535&t);return(n>>16)+(t>>16)+(e>>16)<<16|65535&e}return n+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function $m(n,t){var e,r,a,s;if(n!==e){for(var i=(a=n,s=1+(256/n.length>>0),new Array(s+1).join(a)),o=[],l=0;l<256;l++)o[l]=l;var u=0;for(l=0;l<256;l++){var d=o[l];u=(u+d+i.charCodeAt(l))%256,o[l]=o[u],o[u]=d}e=n,r=o}else o=r;var f=t.length,m=0,p=0,y="";for(l=0;l<f;l++)p=(p+(d=o[m=(m+1)%256]))%256,o[m]=o[p],o[p]=d,i=o[(o[m]+o[p])%256],y+=String.fromCharCode(t.charCodeAt(l)^i);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var f1={print:4,modify:8,copy:16,"annot-forms":32};function To(n,t,e,r){this.v=1,this.r=2;var a=192;n.forEach(function(o){if(f1.perm!==void 0)throw new Error("Invalid permission: "+o);a+=f1[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(t+this.padding).substr(0,32),i=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,i),this.P=-(1+(255^a)),this.encryptionKey=Rm(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=$m(this.encryptionKey,this.padding)}function Mo(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var t="",e=n.length,r=0;r<e;r++){var a=n.charCodeAt(r);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=n[r]}return t}function p1(n){if(pt(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,r,a){if(a=a||!1,typeof e!="string"||typeof r!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var s=Math.random().toString(35);return t[e][s]=[r,!!a],s},this.unsubscribe=function(e){for(var r in t)if(t[r][e])return delete t[r][e],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var r=Array.prototype.slice.call(arguments,1),a=[];for(var s in t[e]){var i=t[e][s];try{i[0].apply(n,r)}catch(o){Ze.console&&It.error("jsPDF PubSub Error",o.message,o)}i[1]&&a.push(s)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function ch(n){if(!(this instanceof ch))return new ch(n);var t="opacity,stroke-opacity".split(",");for(var e in n)n.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=n[e]);this.id="",this.objectNumber=-1}function ex(n,t){this.gState=n,this.matrix=t,this.id="",this.objectNumber=-1}function _i(n,t,e,r,a){if(!(this instanceof _i))return new _i(n,t,e,r,a);this.type=n==="axial"?2:3,this.coords=t,this.colors=e,ex.call(this,r,a)}function Ro(n,t,e,r,a){if(!(this instanceof Ro))return new Ro(n,t,e,r,a);this.boundingBox=n,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,ex.call(this,r,a)}function Qe(n){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],a=arguments[2],s=arguments[3],i=[],o=1,l=16,u="S",d=null;pt(n=n||{})==="object"&&(e=n.orientation,r=n.unit||r,a=n.format||a,s=n.compress||n.compressPdf||s,(d=n.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(t=n.precision),n.floatPrecision!==void 0&&(l=n.floatPrecision),u=n.defaultPathOperation||"S"),i=n.filters||(s===!0?["FlateEncode"]:i),r=r||"mm",e=(""+(e||"P")).toLowerCase();var f=n.putOnlyUsedFonts||!1,m={},p={internal:{},__private__:{}};p.__private__.PubSub=p1;var y="1.3",v=p.__private__.getPdfVersion=function(){return y};p.__private__.setPdfVersion=function(b){y=b};var x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return x};var w=p.__private__.getPageFormat=function(b){return x[b]};a=a||"a4";var N={COMPAT:"compat",ADVANCED:"advanced"},_=N.COMPAT;function C(){this.saveGraphicsState(),te(new Xe(Be,0,0,-Be,0,ws()*Be).toString()+" cm"),this.setFontSize(this.getFontSize()/Be),u="n",_=N.ADVANCED}function A(){this.restoreGraphicsState(),u="S",_=N.COMPAT}var B=p.__private__.combineFontStyleAndFontWeight=function(b,T){if(b=="bold"&&T=="normal"||b=="bold"&&T==400||b=="normal"&&T=="italic"||b=="bold"&&T=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return T&&(b=T==400||T==="normal"?b==="italic"?"italic":"normal":T!=700&&T!=="bold"||b!=="normal"?(T==700?"bold":T)+""+b:"bold"),b};p.advancedAPI=function(b){var T=_===N.COMPAT;return T&&C.call(this),typeof b!="function"||(b(this),T&&A.call(this)),this},p.compatAPI=function(b){var T=_===N.ADVANCED;return T&&A.call(this),typeof b!="function"||(b(this),T&&C.call(this)),this},p.isAdvancedAPI=function(){return _===N.ADVANCED};var D,E=function(b){if(_!==N.ADVANCED)throw new Error(b+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},U=p.roundToPrecision=p.__private__.roundToPrecision=function(b,T){var Q=t||T;if(isNaN(b)||isNaN(Q))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return b.toFixed(Q).replace(/0+$/,"")};D=p.hpf=p.__private__.hpf=typeof l=="number"?function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return U(b,l)}:l==="smart"?function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return U(b,b>-1&&b<1?16:5)}:function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.hpf");return U(b,16)};var L=p.f2=p.__private__.f2=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.f2");return U(b,2)},k=p.__private__.f3=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.f3");return U(b,3)},P=p.scale=p.__private__.scale=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.scale");return _===N.COMPAT?b*Be:_===N.ADVANCED?b:void 0},F=function(b){return _===N.COMPAT?ws()-b:_===N.ADVANCED?b:void 0},I=function(b){return P(F(b))};p.__private__.setPrecision=p.setPrecision=function(b){typeof parseInt(b,10)=="number"&&(t=parseInt(b,10))};var ee,re="00000000000000000000000000000000",W=p.__private__.getFileId=function(){return re},Z=p.__private__.setFileId=function(b){return re=b!==void 0&&/^[a-fA-F0-9]{32}$/.test(b)?b.toUpperCase():re.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Ir=new To(d.userPermissions,d.userPassword,d.ownerPassword,re)),re};p.setFileId=function(b){return Z(b),this},p.getFileId=function(){return W()};var le=p.__private__.convertDateToPDFDate=function(b){var T=b.getTimezoneOffset(),Q=T<0?"+":"-",se=Math.floor(Math.abs(T/60)),pe=Math.abs(T%60),ye=[Q,X(se),"'",X(pe),"'"].join("");return["D:",b.getFullYear(),X(b.getMonth()+1),X(b.getDate()),X(b.getHours()),X(b.getMinutes()),X(b.getSeconds()),ye].join("")},de=p.__private__.convertPDFDateToDate=function(b){var T=parseInt(b.substr(2,4),10),Q=parseInt(b.substr(6,2),10)-1,se=parseInt(b.substr(8,2),10),pe=parseInt(b.substr(10,2),10),ye=parseInt(b.substr(12,2),10),ke=parseInt(b.substr(14,2),10);return new Date(T,Q,se,pe,ye,ke,0)},Ce=p.__private__.setCreationDate=function(b){var T;if(b===void 0&&(b=new Date),b instanceof Date)T=le(b);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(b))throw new Error("Invalid argument passed to jsPDF.setCreationDate");T=b}return ee=T},M=p.__private__.getCreationDate=function(b){var T=ee;return b==="jsDate"&&(T=de(ee)),T};p.setCreationDate=function(b){return Ce(b),this},p.getCreationDate=function(b){return M(b)};var Y,X=p.__private__.padd2=function(b){return("0"+parseInt(b)).slice(-2)},K=p.__private__.padd2Hex=function(b){return("00"+(b=b.toString())).substr(b.length)},ne=0,ue=[],ae=[],fe=0,Ne=[],_e=[],Oe=!1,Pe=ae,De=function(){ne=0,fe=0,ae=[],ue=[],Ne=[],es=ir(),ra=ir()};p.__private__.setCustomOutputDestination=function(b){Oe=!0,Pe=b};var ve=function(b){Oe||(Pe=b)};p.__private__.resetCustomOutputDestination=function(){Oe=!1,Pe=ae};var te=p.__private__.out=function(b){return b=b.toString(),fe+=b.length+1,Pe.push(b),Pe},He=p.__private__.write=function(b){return te(arguments.length===1?b.toString():Array.prototype.join.call(arguments," "))},Fe=p.__private__.getArrayBuffer=function(b){for(var T=b.length,Q=new ArrayBuffer(T),se=new Uint8Array(Q);T--;)se[T]=b.charCodeAt(T);return Q},Ee=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Ee};var Ae=n.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(b){return Ae=_===N.ADVANCED?b/Be:b,this};var Re,Ie=p.__private__.getFontSize=p.getFontSize=function(){return _===N.COMPAT?Ae:Ae*Be},Ye=n.R2L||!1;p.__private__.setR2L=p.setR2L=function(b){return Ye=b,this},p.__private__.getR2L=p.getR2L=function(){return Ye};var et,at=p.__private__.setZoomMode=function(b){var T=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(b))Re=b;else if(isNaN(b)){if(T.indexOf(b)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+b+'" is not recognized.');Re=b}else Re=parseInt(b,10)};p.__private__.getZoomMode=function(){return Re};var ut,mt=p.__private__.setPageMode=function(b){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(b)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+b+'" is not recognized.');et=b};p.__private__.getPageMode=function(){return et};var St=p.__private__.setLayoutMode=function(b){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(b)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+b+'" is not recognized.');ut=b};p.__private__.getLayoutMode=function(){return ut},p.__private__.setDisplayMode=p.setDisplayMode=function(b,T,Q){return at(b),St(T),mt(Q),this};var tt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(b){if(Object.keys(tt).indexOf(b)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return tt[b]},p.__private__.getDocumentProperties=function(){return tt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(b){for(var T in tt)tt.hasOwnProperty(T)&&b[T]&&(tt[T]=b[T]);return this},p.__private__.setDocumentProperty=function(b,T){if(Object.keys(tt).indexOf(b)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return tt[b]=T};var ft,Be,Mr,wt,Zn,Tt={},Ht={},xa=[],Ct={},ii={},Yt={},ea={},Za=null,Gt=0,st=[],Dt=new p1(p),oi=n.hotfixes||[],Cr={},wa={},Sa=[],Xe=function b(T,Q,se,pe,ye,ke){if(!(this instanceof b))return new b(T,Q,se,pe,ye,ke);isNaN(T)&&(T=1),isNaN(Q)&&(Q=0),isNaN(se)&&(se=0),isNaN(pe)&&(pe=1),isNaN(ye)&&(ye=0),isNaN(ke)&&(ke=0),this._matrix=[T,Q,se,pe,ye,ke]};Object.defineProperty(Xe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(b){this._matrix[0]=b}}),Object.defineProperty(Xe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(b){this._matrix[1]=b}}),Object.defineProperty(Xe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(b){this._matrix[2]=b}}),Object.defineProperty(Xe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(b){this._matrix[3]=b}}),Object.defineProperty(Xe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(b){this._matrix[4]=b}}),Object.defineProperty(Xe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(b){this._matrix[5]=b}}),Object.defineProperty(Xe.prototype,"a",{get:function(){return this._matrix[0]},set:function(b){this._matrix[0]=b}}),Object.defineProperty(Xe.prototype,"b",{get:function(){return this._matrix[1]},set:function(b){this._matrix[1]=b}}),Object.defineProperty(Xe.prototype,"c",{get:function(){return this._matrix[2]},set:function(b){this._matrix[2]=b}}),Object.defineProperty(Xe.prototype,"d",{get:function(){return this._matrix[3]},set:function(b){this._matrix[3]=b}}),Object.defineProperty(Xe.prototype,"e",{get:function(){return this._matrix[4]},set:function(b){this._matrix[4]=b}}),Object.defineProperty(Xe.prototype,"f",{get:function(){return this._matrix[5]},set:function(b){this._matrix[5]=b}}),Object.defineProperty(Xe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Xe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Xe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Xe.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Xe.prototype.join=function(b){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(D).join(b)},Xe.prototype.multiply=function(b){var T=b.sx*this.sx+b.shy*this.shx,Q=b.sx*this.shy+b.shy*this.sy,se=b.shx*this.sx+b.sy*this.shx,pe=b.shx*this.shy+b.sy*this.sy,ye=b.tx*this.sx+b.ty*this.shx+this.tx,ke=b.tx*this.shy+b.ty*this.sy+this.ty;return new Xe(T,Q,se,pe,ye,ke)},Xe.prototype.decompose=function(){var b=this.sx,T=this.shy,Q=this.shx,se=this.sy,pe=this.tx,ye=this.ty,ke=Math.sqrt(b*b+T*T),qe=(b/=ke)*Q+(T/=ke)*se;Q-=b*qe,se-=T*qe;var Ge=Math.sqrt(Q*Q+se*se);return qe/=Ge,b*(se/=Ge)<T*(Q/=Ge)&&(b=-b,T=-T,qe=-qe,ke=-ke),{scale:new Xe(ke,0,0,Ge,0,0),translate:new Xe(1,0,0,1,pe,ye),rotate:new Xe(b,T,-T,b,0,0),skew:new Xe(1,0,qe,1,0,0)}},Xe.prototype.toString=function(b){return this.join(" ")},Xe.prototype.inversed=function(){var b=this.sx,T=this.shy,Q=this.shx,se=this.sy,pe=this.tx,ye=this.ty,ke=1/(b*se-T*Q),qe=se*ke,Ge=-T*ke,lt=-Q*ke,it=b*ke;return new Xe(qe,Ge,lt,it,-qe*pe-lt*ye,-Ge*pe-it*ye)},Xe.prototype.applyToPoint=function(b){var T=b.x*this.sx+b.y*this.shx+this.tx,Q=b.x*this.shy+b.y*this.sy+this.ty;return new co(T,Q)},Xe.prototype.applyToRectangle=function(b){var T=this.applyToPoint(b),Q=this.applyToPoint(new co(b.x+b.w,b.y+b.h));return new Rl(T.x,T.y,Q.x-T.x,Q.y-T.y)},Xe.prototype.clone=function(){var b=this.sx,T=this.shy,Q=this.shx,se=this.sy,pe=this.tx,ye=this.ty;return new Xe(b,T,Q,se,pe,ye)},p.Matrix=Xe;var ta=p.matrixMult=function(b,T){return T.multiply(b)},Na=new Xe(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Na;var ln=function(b,T){if(!ii[b]){var Q=(T instanceof _i?"Sh":"P")+(Object.keys(Ct).length+1).toString(10);T.id=Q,ii[b]=Q,Ct[Q]=T,Dt.publish("addPattern",T)}};p.ShadingPattern=_i,p.TilingPattern=Ro,p.addShadingPattern=function(b,T){return E("addShadingPattern()"),ln(b,T),this},p.beginTilingPattern=function(b){E("beginTilingPattern()"),Tu(b.boundingBox[0],b.boundingBox[1],b.boundingBox[2]-b.boundingBox[0],b.boundingBox[3]-b.boundingBox[1],b.matrix)},p.endTilingPattern=function(b,T){E("endTilingPattern()"),T.stream=_e[Y].join(`
`),ln(b,T),Dt.publish("endTilingPattern",T),Sa.pop().restore()};var fr=p.__private__.newObject=function(){var b=ir();return Sn(b,!0),b},ir=p.__private__.newObjectDeferred=function(){return ne++,ue[ne]=function(){return fe},ne},Sn=function(b,T){return T=typeof T=="boolean"&&T,ue[b]=fe,T&&te(b+" 0 obj"),b},Ji=p.__private__.newAdditionalObject=function(){var b={objId:ir(),content:""};return Ne.push(b),b},es=ir(),ra=ir(),na=p.__private__.decodeColorString=function(b){var T=b.split(" ");if(T.length!==2||T[1]!=="g"&&T[1]!=="G")T.length===5&&(T[4]==="k"||T[4]==="K")&&(T=[(1-T[0])*(1-T[3]),(1-T[1])*(1-T[3]),(1-T[2])*(1-T[3]),"r"]);else{var Q=parseFloat(T[0]);T=[Q,Q,Q,"r"]}for(var se="#",pe=0;pe<3;pe++)se+=("0"+Math.floor(255*parseFloat(T[pe])).toString(16)).slice(-2);return se},aa=p.__private__.encodeColorString=function(b){var T;typeof b=="string"&&(b={ch1:b});var Q=b.ch1,se=b.ch2,pe=b.ch3,ye=b.ch4,ke=b.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Q=="string"&&Q.charAt(0)!=="#"){var qe=new Q2(Q);if(qe.ok)Q=qe.toHex();else if(!/^\d*\.?\d*$/.test(Q))throw new Error('Invalid color "'+Q+'" passed to jsPDF.encodeColorString.')}if(typeof Q=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Q)&&(Q="#"+Q[1]+Q[1]+Q[2]+Q[2]+Q[3]+Q[3]),typeof Q=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Q)){var Ge=parseInt(Q.substr(1),16);Q=Ge>>16&255,se=Ge>>8&255,pe=255&Ge}if(se===void 0||ye===void 0&&Q===se&&se===pe)if(typeof Q=="string")T=Q+" "+ke[0];else switch(b.precision){case 2:T=L(Q/255)+" "+ke[0];break;case 3:default:T=k(Q/255)+" "+ke[0]}else if(ye===void 0||pt(ye)==="object"){if(ye&&!isNaN(ye.a)&&ye.a===0)return T=["1.","1.","1.",ke[1]].join(" ");if(typeof Q=="string")T=[Q,se,pe,ke[1]].join(" ");else switch(b.precision){case 2:T=[L(Q/255),L(se/255),L(pe/255),ke[1]].join(" ");break;default:case 3:T=[k(Q/255),k(se/255),k(pe/255),ke[1]].join(" ")}}else if(typeof Q=="string")T=[Q,se,pe,ye,ke[2]].join(" ");else switch(b.precision){case 2:T=[L(Q),L(se),L(pe),L(ye),ke[2]].join(" ");break;case 3:default:T=[k(Q),k(se),k(pe),k(ye),ke[2]].join(" ")}return T},_a=p.__private__.getFilters=function(){return i},In=p.__private__.putStream=function(b){var T=(b=b||{}).data||"",Q=b.filters||_a(),se=b.alreadyAppliedFilters||[],pe=b.addLength1||!1,ye=T.length,ke=b.objectId,qe=function(Rr){return Rr};if(d!==null&&ke===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(qe=Ir.encryptor(ke,0));var Ge={};Q===!0&&(Q=["FlateEncode"]);var lt=b.additionalKeyValues||[],it=(Ge=Qe.API.processDataByFilters!==void 0?Qe.API.processDataByFilters(T,Q):{data:T,reverseChain:[]}).reverseChain+(Array.isArray(se)?se.join(" "):se.toString());if(Ge.data.length!==0&&(lt.push({key:"Length",value:Ge.data.length}),pe===!0&&lt.push({key:"Length1",value:ye})),it.length!=0)if(it.split("/").length-1==1)lt.push({key:"Filter",value:it});else{lt.push({key:"Filter",value:"["+it+"]"});for(var yt=0;yt<lt.length;yt+=1)if(lt[yt].key==="DecodeParms"){for(var Wt=[],Kt=0;Kt<Ge.reverseChain.split("/").length-1;Kt+=1)Wt.push("null");Wt.push(lt[yt].value),lt[yt].value="["+Wt.join(" ")+"]"}}te("<<");for(var or=0;or<lt.length;or++)te("/"+lt[or].key+" "+lt[or].value);te(">>"),Ge.data.length!==0&&(te("stream"),te(qe(Ge.data)),te("endstream"))},ja=p.__private__.putPage=function(b){var T=b.number,Q=b.data,se=b.objId,pe=b.contentsObjId;Sn(se,!0),te("<</Type /Page"),te("/Parent "+b.rootDictionaryObjId+" 0 R"),te("/Resources "+b.resourceDictionaryObjId+" 0 R"),te("/MediaBox ["+parseFloat(D(b.mediaBox.bottomLeftX))+" "+parseFloat(D(b.mediaBox.bottomLeftY))+" "+D(b.mediaBox.topRightX)+" "+D(b.mediaBox.topRightY)+"]"),b.cropBox!==null&&te("/CropBox ["+D(b.cropBox.bottomLeftX)+" "+D(b.cropBox.bottomLeftY)+" "+D(b.cropBox.topRightX)+" "+D(b.cropBox.topRightY)+"]"),b.bleedBox!==null&&te("/BleedBox ["+D(b.bleedBox.bottomLeftX)+" "+D(b.bleedBox.bottomLeftY)+" "+D(b.bleedBox.topRightX)+" "+D(b.bleedBox.topRightY)+"]"),b.trimBox!==null&&te("/TrimBox ["+D(b.trimBox.bottomLeftX)+" "+D(b.trimBox.bottomLeftY)+" "+D(b.trimBox.topRightX)+" "+D(b.trimBox.topRightY)+"]"),b.artBox!==null&&te("/ArtBox ["+D(b.artBox.bottomLeftX)+" "+D(b.artBox.bottomLeftY)+" "+D(b.artBox.topRightX)+" "+D(b.artBox.topRightY)+"]"),typeof b.userUnit=="number"&&b.userUnit!==1&&te("/UserUnit "+b.userUnit),Dt.publish("putPage",{objId:se,pageContext:st[T],pageNumber:T,page:Q}),te("/Contents "+pe+" 0 R"),te(">>"),te("endobj");var ye=Q.join(`
`);return _===N.ADVANCED&&(ye+=`
Q`),Sn(pe,!0),In({data:ye,filters:_a(),objectId:pe}),te("endobj"),se},li=p.__private__.putPages=function(){var b,T,Q=[];for(b=1;b<=Gt;b++)st[b].objId=ir(),st[b].contentsObjId=ir();for(b=1;b<=Gt;b++)Q.push(ja({number:b,data:_e[b],objId:st[b].objId,contentsObjId:st[b].contentsObjId,mediaBox:st[b].mediaBox,cropBox:st[b].cropBox,bleedBox:st[b].bleedBox,trimBox:st[b].trimBox,artBox:st[b].artBox,userUnit:st[b].userUnit,rootDictionaryObjId:es,resourceDictionaryObjId:ra}));Sn(es,!0),te("<</Type /Pages");var se="/Kids [";for(T=0;T<Gt;T++)se+=Q[T]+" 0 R ";te(se+"]"),te("/Count "+Gt),te(">>"),te("endobj"),Dt.publish("postPutPages")},Xi=function(b){Dt.publish("putFont",{font:b,out:te,newObject:fr,putStream:In}),b.isAlreadyPutted!==!0&&(b.objectNumber=fr(),te("<<"),te("/Type /Font"),te("/BaseFont /"+Mo(b.postScriptName)),te("/Subtype /Type1"),typeof b.encoding=="string"&&te("/Encoding /"+b.encoding),te("/FirstChar 32"),te("/LastChar 255"),te(">>"),te("endobj"))},Qi=function(){for(var b in Tt)Tt.hasOwnProperty(b)&&(f===!1||f===!0&&m.hasOwnProperty(b))&&Xi(Tt[b])},Zi=function(b){b.objectNumber=fr();var T=[];T.push({key:"Type",value:"/XObject"}),T.push({key:"Subtype",value:"/Form"}),T.push({key:"BBox",value:"["+[D(b.x),D(b.y),D(b.x+b.width),D(b.y+b.height)].join(" ")+"]"}),T.push({key:"Matrix",value:"["+b.matrix.toString()+"]"});var Q=b.pages[1].join(`
`);In({data:Q,additionalKeyValues:T,objectId:b.objectNumber}),te("endobj")},eo=function(){for(var b in Cr)Cr.hasOwnProperty(b)&&Zi(Cr[b])},gu=function(b,T){var Q,se=[],pe=1/(T-1);for(Q=0;Q<1;Q+=pe)se.push(Q);if(se.push(1),b[0].offset!=0){var ye={offset:0,color:b[0].color};b.unshift(ye)}if(b[b.length-1].offset!=1){var ke={offset:1,color:b[b.length-1].color};b.push(ke)}for(var qe="",Ge=0,lt=0;lt<se.length;lt++){for(Q=se[lt];Q>b[Ge+1].offset;)Ge++;var it=b[Ge].offset,yt=(Q-it)/(b[Ge+1].offset-it),Wt=b[Ge].color,Kt=b[Ge+1].color;qe+=K(Math.round((1-yt)*Wt[0]+yt*Kt[0]).toString(16))+K(Math.round((1-yt)*Wt[1]+yt*Kt[1]).toString(16))+K(Math.round((1-yt)*Wt[2]+yt*Kt[2]).toString(16))}return qe.trim()},Cf=function(b,T){T||(T=21);var Q=fr(),se=gu(b.colors,T),pe=[];pe.push({key:"FunctionType",value:"0"}),pe.push({key:"Domain",value:"[0.0 1.0]"}),pe.push({key:"Size",value:"["+T+"]"}),pe.push({key:"BitsPerSample",value:"8"}),pe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),pe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),In({data:se,additionalKeyValues:pe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Q}),te("endobj"),b.objectNumber=fr(),te("<< /ShadingType "+b.type),te("/ColorSpace /DeviceRGB");var ye="/Coords ["+D(parseFloat(b.coords[0]))+" "+D(parseFloat(b.coords[1]))+" ";b.type===2?ye+=D(parseFloat(b.coords[2]))+" "+D(parseFloat(b.coords[3])):ye+=D(parseFloat(b.coords[2]))+" "+D(parseFloat(b.coords[3]))+" "+D(parseFloat(b.coords[4]))+" "+D(parseFloat(b.coords[5])),te(ye+="]"),b.matrix&&te("/Matrix ["+b.matrix.toString()+"]"),te("/Function "+Q+" 0 R"),te("/Extend [true true]"),te(">>"),te("endobj")},Df=function(b,T){var Q=ir(),se=fr();T.push({resourcesOid:Q,objectOid:se}),b.objectNumber=se;var pe=[];pe.push({key:"Type",value:"/Pattern"}),pe.push({key:"PatternType",value:"1"}),pe.push({key:"PaintType",value:"1"}),pe.push({key:"TilingType",value:"1"}),pe.push({key:"BBox",value:"["+b.boundingBox.map(D).join(" ")+"]"}),pe.push({key:"XStep",value:D(b.xStep)}),pe.push({key:"YStep",value:D(b.yStep)}),pe.push({key:"Resources",value:Q+" 0 R"}),b.matrix&&pe.push({key:"Matrix",value:"["+b.matrix.toString()+"]"}),In({data:b.stream,additionalKeyValues:pe,objectId:b.objectNumber}),te("endobj")},to=function(b){var T;for(T in Ct)Ct.hasOwnProperty(T)&&(Ct[T]instanceof _i?Cf(Ct[T]):Ct[T]instanceof Ro&&Df(Ct[T],b))},vu=function(b){for(var T in b.objectNumber=fr(),te("<<"),b)switch(T){case"opacity":te("/ca "+L(b[T]));break;case"stroke-opacity":te("/CA "+L(b[T]))}te(">>"),te("endobj")},Ef=function(){var b;for(b in Yt)Yt.hasOwnProperty(b)&&vu(Yt[b])},Cl=function(){for(var b in te("/XObject <<"),Cr)Cr.hasOwnProperty(b)&&Cr[b].objectNumber>=0&&te("/"+b+" "+Cr[b].objectNumber+" 0 R");Dt.publish("putXobjectDict"),te(">>")},Pf=function(){Ir.oid=fr(),te("<<"),te("/Filter /Standard"),te("/V "+Ir.v),te("/R "+Ir.r),te("/U <"+Ir.toHexString(Ir.U)+">"),te("/O <"+Ir.toHexString(Ir.O)+">"),te("/P "+Ir.P),te(">>"),te("endobj")},bu=function(){for(var b in te("/Font <<"),Tt)Tt.hasOwnProperty(b)&&(f===!1||f===!0&&m.hasOwnProperty(b))&&te("/"+b+" "+Tt[b].objectNumber+" 0 R");te(">>")},Af=function(){if(Object.keys(Ct).length>0){for(var b in te("/Shading <<"),Ct)Ct.hasOwnProperty(b)&&Ct[b]instanceof _i&&Ct[b].objectNumber>=0&&te("/"+b+" "+Ct[b].objectNumber+" 0 R");Dt.publish("putShadingPatternDict"),te(">>")}},ro=function(b){if(Object.keys(Ct).length>0){for(var T in te("/Pattern <<"),Ct)Ct.hasOwnProperty(T)&&Ct[T]instanceof p.TilingPattern&&Ct[T].objectNumber>=0&&Ct[T].objectNumber<b&&te("/"+T+" "+Ct[T].objectNumber+" 0 R");Dt.publish("putTilingPatternDict"),te(">>")}},Lf=function(){if(Object.keys(Yt).length>0){var b;for(b in te("/ExtGState <<"),Yt)Yt.hasOwnProperty(b)&&Yt[b].objectNumber>=0&&te("/"+b+" "+Yt[b].objectNumber+" 0 R");Dt.publish("putGStateDict"),te(">>")}},er=function(b){Sn(b.resourcesOid,!0),te("<<"),te("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),bu(),Af(),ro(b.objectOid),Lf(),Cl(),te(">>"),te("endobj")},yu=function(){var b=[];Qi(),Ef(),eo(),to(b),Dt.publish("putResources"),b.forEach(er),er({resourcesOid:ra,objectOid:Number.MAX_SAFE_INTEGER}),Dt.publish("postPutResources")},xu=function(){Dt.publish("putAdditionalObjects");for(var b=0;b<Ne.length;b++){var T=Ne[b];Sn(T.objId,!0),te(T.content),te("endobj")}Dt.publish("postPutAdditionalObjects")},wu=function(b){Ht[b.fontName]=Ht[b.fontName]||{},Ht[b.fontName][b.fontStyle]=b.id},Dl=function(b,T,Q,se,pe){var ye={id:"F"+(Object.keys(Tt).length+1).toString(10),postScriptName:b,fontName:T,fontStyle:Q,encoding:se,isStandardFont:pe||!1,metadata:{}};return Dt.publish("addFont",{font:ye,instance:this}),Tt[ye.id]=ye,wu(ye),ye.id},Of=function(b){for(var T=0,Q=Ee.length;T<Q;T++){var se=Dl.call(this,b[T][0],b[T][1],b[T][2],Ee[T][3],!0);f===!1&&(m[se]=!0);var pe=b[T][0].split("-");wu({id:se,fontName:pe[0],fontStyle:pe[1]||""})}Dt.publish("addFonts",{fonts:Tt,dictionary:Ht})},sa=function(b){return b.foo=function(){try{return b.apply(this,arguments)}catch(se){var T=se.stack||"";~T.indexOf(" at ")&&(T=T.split(" at ")[1]);var Q="Error in function "+T.split(`
`)[0].split("<")[0]+": "+se.message;if(!Ze.console)throw new Error(Q);Ze.console.error(Q,se),Ze.alert&&alert(Q)}},b.foo.bar=b,b.foo},no=function(b,T){var Q,se,pe,ye,ke,qe,Ge,lt,it;if(pe=(T=T||{}).sourceEncoding||"Unicode",ke=T.outputEncoding,(T.autoencode||ke)&&Tt[ft].metadata&&Tt[ft].metadata[pe]&&Tt[ft].metadata[pe].encoding&&(ye=Tt[ft].metadata[pe].encoding,!ke&&Tt[ft].encoding&&(ke=Tt[ft].encoding),!ke&&ye.codePages&&(ke=ye.codePages[0]),typeof ke=="string"&&(ke=ye[ke]),ke)){for(Ge=!1,qe=[],Q=0,se=b.length;Q<se;Q++)(lt=ke[b.charCodeAt(Q)])?qe.push(String.fromCharCode(lt)):qe.push(b[Q]),qe[Q].charCodeAt(0)>>8&&(Ge=!0);b=qe.join("")}for(Q=b.length;Ge===void 0&&Q!==0;)b.charCodeAt(Q-1)>>8&&(Ge=!0),Q--;if(!Ge)return b;for(qe=T.noBOM?[]:[254,255],Q=0,se=b.length;Q<se;Q++){if((it=(lt=b.charCodeAt(Q))>>8)>>8)throw new Error("Character at position "+Q+" of string '"+b+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");qe.push(it),qe.push(lt-(it<<8))}return String.fromCharCode.apply(void 0,qe)},cn=p.__private__.pdfEscape=p.pdfEscape=function(b,T){return no(b,T).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},El=p.__private__.beginPage=function(b){_e[++Gt]=[],st[Gt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(b[0]),topRightY:Number(b[1])}},Nu(Gt),ve(_e[Y])},Su=function(b,T){var Q,se,pe;switch(e=T||e,typeof b=="string"&&(Q=w(b.toLowerCase()),Array.isArray(Q)&&(se=Q[0],pe=Q[1])),Array.isArray(b)&&(se=b[0]*Be,pe=b[1]*Be),isNaN(se)&&(se=a[0],pe=a[1]),(se>14400||pe>14400)&&(It.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),se=Math.min(14400,se),pe=Math.min(14400,pe)),a=[se,pe],e.substr(0,1)){case"l":pe>se&&(a=[pe,se]);break;case"p":se>pe&&(a=[pe,se])}El(a),Eu(Ol),te(ia),Ml!==0&&te(Ml+" J"),Il!==0&&te(Il+" j"),Dt.publish("addPage",{pageNumber:Gt})},Tf=function(b){b>0&&b<=Gt&&(_e.splice(b,1),st.splice(b,1),Gt--,Y>Gt&&(Y=Gt),this.setPage(Y))},Nu=function(b){b>0&&b<=Gt&&(Y=b)},Mf=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return _e.length-1},_u=function(b,T,Q){var se,pe=void 0;return Q=Q||{},b=b!==void 0?b:Tt[ft].fontName,T=T!==void 0?T:Tt[ft].fontStyle,se=b.toLowerCase(),Ht[se]!==void 0&&Ht[se][T]!==void 0?pe=Ht[se][T]:Ht[b]!==void 0&&Ht[b][T]!==void 0?pe=Ht[b][T]:Q.disableWarning===!1&&It.warn("Unable to look up font label for font '"+b+"', '"+T+"'. Refer to getFontList() for available fonts."),pe||Q.noFallback||(pe=Ht.times[T])==null&&(pe=Ht.times.normal),pe},If=p.__private__.putInfo=function(){var b=fr(),T=function(se){return se};for(var Q in d!==null&&(T=Ir.encryptor(b,0)),te("<<"),te("/Producer ("+cn(T("jsPDF "+Qe.version))+")"),tt)tt.hasOwnProperty(Q)&&tt[Q]&&te("/"+Q.substr(0,1).toUpperCase()+Q.substr(1)+" ("+cn(T(tt[Q]))+")");te("/CreationDate ("+cn(T(ee))+")"),te(">>"),te("endobj")},Pl=p.__private__.putCatalog=function(b){var T=(b=b||{}).rootDictionaryObjId||es;switch(fr(),te("<<"),te("/Type /Catalog"),te("/Pages "+T+" 0 R"),Re||(Re="fullwidth"),Re){case"fullwidth":te("/OpenAction [3 0 R /FitH null]");break;case"fullheight":te("/OpenAction [3 0 R /FitV null]");break;case"fullpage":te("/OpenAction [3 0 R /Fit]");break;case"original":te("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Q=""+Re;Q.substr(Q.length-1)==="%"&&(Re=parseInt(Re)/100),typeof Re=="number"&&te("/OpenAction [3 0 R /XYZ null null "+L(Re)+"]")}switch(ut||(ut="continuous"),ut){case"continuous":te("/PageLayout /OneColumn");break;case"single":te("/PageLayout /SinglePage");break;case"two":case"twoleft":te("/PageLayout /TwoColumnLeft");break;case"tworight":te("/PageLayout /TwoColumnRight")}et&&te("/PageMode /"+et),Dt.publish("putCatalog"),te(">>"),te("endobj")},Rf=p.__private__.putTrailer=function(){te("trailer"),te("<<"),te("/Size "+(ne+1)),te("/Root "+ne+" 0 R"),te("/Info "+(ne-1)+" 0 R"),d!==null&&te("/Encrypt "+Ir.oid+" 0 R"),te("/ID [ <"+re+"> <"+re+"> ]"),te(">>")},$f=p.__private__.putHeader=function(){te("%PDF-"+y),te("%")},Ff=p.__private__.putXRef=function(){var b="0000000000";te("xref"),te("0 "+(ne+1)),te("0000000000 65535 f ");for(var T=1;T<=ne;T++)typeof ue[T]=="function"?te((b+ue[T]()).slice(-10)+" 00000 n "):ue[T]!==void 0?te((b+ue[T]).slice(-10)+" 00000 n "):te("0000000000 00000 n ")},ts=p.__private__.buildDocument=function(){De(),ve(ae),Dt.publish("buildDocument"),$f(),li(),xu(),yu(),d!==null&&Pf(),If(),Pl();var b=fe;return Ff(),Rf(),te("startxref"),te(""+b),te("%%EOF"),ve(_e[Y]),ae.join(`
`)},ao=p.__private__.getBlob=function(b){return new Blob([Fe(b)],{type:"application/pdf"})},so=p.output=p.__private__.output=sa(function(b,T){switch(typeof(T=T||{})=="string"?T={filename:T}:T.filename=T.filename||"generated.pdf",b){case void 0:return ts();case"save":p.save(T.filename);break;case"arraybuffer":return Fe(ts());case"blob":return ao(ts());case"bloburi":case"bloburl":if(Ze.URL!==void 0&&typeof Ze.URL.createObjectURL=="function")return Ze.URL&&Ze.URL.createObjectURL(ao(ts()))||void 0;It.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Q="",se=ts();try{Q=Im(se)}catch{Q=Im(unescape(encodeURIComponent(se)))}return"data:application/pdf;filename="+T.filename+";base64,"+Q;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ze)==="[object Window]"){var pe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ye=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';T.pdfObjectUrl&&(pe=T.pdfObjectUrl,ye="");var ke='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+pe+'"'+ye+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(T)+");<\/script></body></html>",qe=Ze.open();return qe!==null&&qe.document.write(ke),qe}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ze)==="[object Window]"){var Ge='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(T.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+T.filename+'" width="500px" height="400px" /></body></html>',lt=Ze.open();if(lt!==null){lt.document.write(Ge);var it=this;lt.document.documentElement.querySelector("#pdfViewer").onload=function(){lt.document.title=T.filename,lt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(it.output("bloburl"))}}return lt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ze)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var yt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",T)+'"></iframe></body></html>',Wt=Ze.open();if(Wt!==null&&(Wt.document.write(yt),Wt.document.title=T.filename),Wt||typeof safari>"u")return Wt;break;case"datauri":case"dataurl":return Ze.document.location.href=this.output("datauristring",T);default:return null}}),ju=function(b){return Array.isArray(oi)===!0&&oi.indexOf(b)>-1};switch(r){case"pt":Be=1;break;case"mm":Be=72/25.4;break;case"cm":Be=72/2.54;break;case"in":Be=72;break;case"px":Be=ju("px_scaling")==1?.75:96/72;break;case"pc":case"em":Be=12;break;case"ex":Be=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Be=r}var Ir=null;Ce(),Z();var Bf=function(b){return d!==null?Ir.encryptor(b,0):function(T){return T}},ku=p.__private__.getPageInfo=p.getPageInfo=function(b){if(isNaN(b)||b%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:st[b].objId,pageNumber:b,pageContext:st[b]}},rt=p.__private__.getPageInfoByObjId=function(b){if(isNaN(b)||b%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var T in st)if(st[T].objId===b)break;return ku(T)},qf=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:st[Y].objId,pageNumber:Y,pageContext:st[Y]}};p.addPage=function(){return Su.apply(this,arguments),this},p.setPage=function(){return Nu.apply(this,arguments),ve.call(this,_e[Y]),this},p.insertPage=function(b){return this.addPage(),this.movePage(Y,b),this},p.movePage=function(b,T){var Q,se;if(b>T){Q=_e[b],se=st[b];for(var pe=b;pe>T;pe--)_e[pe]=_e[pe-1],st[pe]=st[pe-1];_e[T]=Q,st[T]=se,this.setPage(T)}else if(b<T){Q=_e[b],se=st[b];for(var ye=b;ye<T;ye++)_e[ye]=_e[ye+1],st[ye]=st[ye+1];_e[T]=Q,st[T]=se,this.setPage(T)}return this},p.deletePage=function(){return Tf.apply(this,arguments),this},p.__private__.text=p.text=function(b,T,Q,se,pe){var ye,ke,qe,Ge,lt,it,yt,Wt,Kt,or=(se=se||{}).scope||this;if(typeof b=="number"&&typeof T=="number"&&(typeof Q=="string"||Array.isArray(Q))){var Rr=Q;Q=T,T=b,b=Rr}if(arguments[3]instanceof Xe?(E("The transform parameter of text() with a Matrix value"),Kt=pe):(qe=arguments[4],Ge=arguments[5],pt(yt=arguments[3])==="object"&&yt!==null||(typeof qe=="string"&&(Ge=qe,qe=null),typeof yt=="string"&&(Ge=yt,yt=null),typeof yt=="number"&&(qe=yt,yt=null),se={flags:yt,angle:qe,align:Ge})),isNaN(T)||isNaN(Q)||b==null)throw new Error("Invalid arguments passed to jsPDF.text");if(b.length===0)return or;var vr="",oa=!1,Nn=typeof se.lineHeightFactor=="number"?se.lineHeightFactor:ui,Da=or.internal.scaleFactor;function Mu(Rt){return Rt=Rt.split("	").join(Array(se.TabLen||9).join(" ")),cn(Rt,yt)}function ql(Rt){for(var $t,rr=Rt.concat(),pr=[],is=rr.length;is--;)typeof($t=rr.shift())=="string"?pr.push($t):Array.isArray(Rt)&&($t.length===1||$t[1]===void 0&&$t[2]===void 0)?pr.push($t[0]):pr.push([$t[0],$t[1],$t[2]]);return pr}function Ul(Rt,$t){var rr;if(typeof Rt=="string")rr=$t(Rt)[0];else if(Array.isArray(Rt)){for(var pr,is,Jl=Rt.concat(),wo=[],Bu=Jl.length;Bu--;)typeof(pr=Jl.shift())=="string"?wo.push($t(pr)[0]):Array.isArray(pr)&&typeof pr[0]=="string"&&(is=$t(pr[0],pr[1],pr[2]),wo.push([is[0],is[1],is[2]]));rr=wo}return rr}var ho=!1,Vl=!0;if(typeof b=="string")ho=!0;else if(Array.isArray(b)){var zl=b.concat();ke=[];for(var fo,Dr=zl.length;Dr--;)(typeof(fo=zl.shift())!="string"||Array.isArray(fo)&&typeof fo[0]!="string")&&(Vl=!1);ho=Vl}if(ho===!1)throw new Error('Type of text must be string or Array. "'+b+'" is not recognized.');typeof b=="string"&&(b=b.match(/[\r?\n]/)?b.split(/\r\n|\r|\n/g):[b]);var po=Ae/or.internal.scaleFactor,mo=po*(Nn-1);switch(se.baseline){case"bottom":Q-=mo;break;case"top":Q+=po-mo;break;case"hanging":Q+=po-2*mo;break;case"middle":Q+=po/2-mo}if((it=se.maxWidth||0)>0&&(typeof b=="string"?b=or.splitTextToSize(b,it):Object.prototype.toString.call(b)==="[object Array]"&&(b=b.reduce(function(Rt,$t){return Rt.concat(or.splitTextToSize($t,it))},[]))),ye={text:b,x:T,y:Q,options:se,mutex:{pdfEscape:cn,activeFontKey:ft,fonts:Tt,activeFontSize:Ae}},Dt.publish("preProcessText",ye),b=ye.text,qe=(se=ye.options).angle,!(Kt instanceof Xe)&&qe&&typeof qe=="number"){qe*=Math.PI/180,se.rotationDirection===0&&(qe=-qe),_===N.ADVANCED&&(qe=-qe);var go=Math.cos(qe),Hl=Math.sin(qe);Kt=new Xe(go,Hl,-Hl,go,0,0)}else qe&&qe instanceof Xe&&(Kt=qe);_!==N.ADVANCED||Kt||(Kt=Na),(lt=se.charSpace||lo)!==void 0&&(vr+=D(P(lt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Wt=se.horizontalScale)!==void 0&&(vr+=D(100*Wt)+` Tz
`),se.lang;var un=-1,Xf=se.renderingMode!==void 0?se.renderingMode:se.stroke,Wl=or.internal.getCurrentPageInfo().pageContext;switch(Xf){case 0:case!1:case"fill":un=0;break;case 1:case!0:case"stroke":un=1;break;case 2:case"fillThenStroke":un=2;break;case 3:case"invisible":un=3;break;case 4:case"fillAndAddForClipping":un=4;break;case 5:case"strokeAndAddPathForClipping":un=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":un=6;break;case 7:case"addToPathForClipping":un=7}var Iu=Wl.usedRenderingMode!==void 0?Wl.usedRenderingMode:-1;un!==-1?vr+=un+` Tr
`:Iu!==-1&&(vr+=`0 Tr
`),un!==-1&&(Wl.usedRenderingMode=un),Ge=se.align||"left";var Rn,vo=Ae*Nn,Ru=or.internal.pageSize.getWidth(),$u=Tt[ft];lt=se.charSpace||lo,it=se.maxWidth||0,yt=Object.assign({autoencode:!0,noBOM:!0},se.flags);var Ss=[],fi=function(Rt){return or.getStringUnitWidth(Rt,{font:$u,charSpace:lt,fontSize:Ae,doKerning:!1})*Ae/Da};if(Object.prototype.toString.call(b)==="[object Array]"){var dn;ke=ql(b),Ge!=="left"&&(Rn=ke.map(fi));var Gr,Ns=0;if(Ge==="right"){T-=Rn[0],b=[],Dr=ke.length;for(var ns=0;ns<Dr;ns++)ns===0?(Gr=Ca(T),dn=rs(Q)):(Gr=P(Ns-Rn[ns]),dn=-vo),b.push([ke[ns],Gr,dn]),Ns=Rn[ns]}else if(Ge==="center"){T-=Rn[0]/2,b=[],Dr=ke.length;for(var as=0;as<Dr;as++)as===0?(Gr=Ca(T),dn=rs(Q)):(Gr=P((Ns-Rn[as])/2),dn=-vo),b.push([ke[as],Gr,dn]),Ns=Rn[as]}else if(Ge==="left"){b=[],Dr=ke.length;for(var bo=0;bo<Dr;bo++)b.push(ke[bo])}else if(Ge==="justify"&&$u.encoding==="Identity-H"){b=[],Dr=ke.length,it=it!==0?it:Ru;for(var ss=0,tr=0;tr<Dr;tr++)if(dn=tr===0?rs(Q):-vo,Gr=tr===0?Ca(T):ss,tr<Dr-1){var Yl=P((it-Rn[tr])/(ke[tr].split(" ").length-1)),Kr=ke[tr].split(" ");b.push([Kr[0]+" ",Gr,dn]),ss=0;for(var $n=1;$n<Kr.length;$n++){var yo=(fi(Kr[$n-1]+" "+Kr[$n])-fi(Kr[$n]))*Da+Yl;$n==Kr.length-1?b.push([Kr[$n],yo,0]):b.push([Kr[$n]+" ",yo,0]),ss-=yo}}else b.push([ke[tr],Gr,dn]);b.push(["",ss,0])}else{if(Ge!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(b=[],Dr=ke.length,it=it!==0?it:Ru,tr=0;tr<Dr;tr++)dn=tr===0?rs(Q):-vo,Gr=tr===0?Ca(T):0,tr<Dr-1?Ss.push(D(P((it-Rn[tr])/(ke[tr].split(" ").length-1)))):Ss.push(0),b.push([ke[tr],Gr,dn])}}var Fu=typeof se.R2L=="boolean"?se.R2L:Ye;Fu===!0&&(b=Ul(b,function(Rt,$t,rr){return[Rt.split("").reverse().join(""),$t,rr]})),ye={text:b,x:T,y:Q,options:se,mutex:{pdfEscape:cn,activeFontKey:ft,fonts:Tt,activeFontSize:Ae}},Dt.publish("postProcessText",ye),b=ye.text,oa=ye.mutex.isHex||!1;var Gl=Tt[ft].encoding;Gl!=="WinAnsiEncoding"&&Gl!=="StandardEncoding"||(b=Ul(b,function(Rt,$t,rr){return[Mu(Rt),$t,rr]})),ke=ql(b),b=[];for(var pi,mi,_s,gi=0,xo=1,vi=Array.isArray(ke[0])?xo:gi,js="",Kl=function(Rt,$t,rr){var pr="";return rr instanceof Xe?(rr=typeof se.angle=="number"?ta(rr,new Xe(1,0,0,1,Rt,$t)):ta(new Xe(1,0,0,1,Rt,$t),rr),_===N.ADVANCED&&(rr=ta(new Xe(1,0,0,-1,0,0),rr)),pr=rr.join(" ")+` Tm
`):pr=D(Rt)+" "+D($t)+` Td
`,pr},Fn=0;Fn<ke.length;Fn++){switch(js="",vi){case xo:_s=(oa?"<":"(")+ke[Fn][0]+(oa?">":")"),pi=parseFloat(ke[Fn][1]),mi=parseFloat(ke[Fn][2]);break;case gi:_s=(oa?"<":"(")+ke[Fn]+(oa?">":")"),pi=Ca(T),mi=rs(Q)}Ss!==void 0&&Ss[Fn]!==void 0&&(js=Ss[Fn]+` Tw
`),Fn===0?b.push(js+Kl(pi,mi,Kt)+_s):vi===gi?b.push(js+_s):vi===xo&&b.push(js+Kl(pi,mi,Kt)+_s)}b=vi===gi?b.join(` Tj
T* `):b.join(` Tj
`),b+=` Tj
`;var Bn=`BT
/`;return Bn+=ft+" "+Ae+` Tf
`,Bn+=D(Ae*Nn)+` TL
`,Bn+=di+`
`,Bn+=vr,Bn+=b,te(Bn+="ET"),m[ft]=!0,or};var Uf=p.__private__.clip=p.clip=function(b){return te(b==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Uf("evenodd")},p.__private__.discardPath=p.discardPath=function(){return te("n"),this};var ka=p.__private__.isValidStyle=function(b){var T=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(b)!==-1&&(T=!0),T};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(b){return ka(b)&&(u=b),this};var Cu=p.__private__.getStyle=p.getStyle=function(b){var T=u;switch(b){case"D":case"S":T="S";break;case"F":T="f";break;case"FD":case"DF":T="B";break;case"f":case"f*":case"B":case"B*":T=b}return T},Du=p.close=function(){return te("h"),this};p.stroke=function(){return te("S"),this},p.fill=function(b){return io("f",b),this},p.fillEvenOdd=function(b){return io("f*",b),this},p.fillStroke=function(b){return io("B",b),this},p.fillStrokeEvenOdd=function(b){return io("B*",b),this};var io=function(b,T){pt(T)==="object"?zf(T,b):te(b)},Al=function(b){b===null||_===N.ADVANCED&&b===void 0||(b=Cu(b),te(b))};function Vf(b,T,Q,se,pe){var ye=new Ro(T||this.boundingBox,Q||this.xStep,se||this.yStep,this.gState,pe||this.matrix);ye.stream=this.stream;var ke=b+"$$"+this.cloneIndex+++"$$";return ln(ke,ye),ye}var zf=function(b,T){var Q=ii[b.key],se=Ct[Q];if(se instanceof _i)te("q"),te(Hf(T)),se.gState&&p.setGState(se.gState),te(b.matrix.toString()+" cm"),te("/"+Q+" sh"),te("Q");else if(se instanceof Ro){var pe=new Xe(1,0,0,-1,0,ws());b.matrix&&(pe=pe.multiply(b.matrix||Na),Q=Vf.call(se,b.key,b.boundingBox,b.xStep,b.yStep,pe).id),te("q"),te("/Pattern cs"),te("/"+Q+" scn"),se.gState&&p.setGState(se.gState),te(T),te("Q")}},Hf=function(b){switch(b){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ll=p.moveTo=function(b,T){return te(D(P(b))+" "+D(I(T))+" m"),this},ci=p.lineTo=function(b,T){return te(D(P(b))+" "+D(I(T))+" l"),this},ys=p.curveTo=function(b,T,Q,se,pe,ye){return te([D(P(b)),D(I(T)),D(P(Q)),D(I(se)),D(P(pe)),D(I(ye)),"c"].join(" ")),this};p.__private__.line=p.line=function(b,T,Q,se,pe){if(isNaN(b)||isNaN(T)||isNaN(Q)||isNaN(se)||!ka(pe))throw new Error("Invalid arguments passed to jsPDF.line");return _===N.COMPAT?this.lines([[Q-b,se-T]],b,T,[1,1],pe||"S"):this.lines([[Q-b,se-T]],b,T,[1,1]).stroke()},p.__private__.lines=p.lines=function(b,T,Q,se,pe,ye){var ke,qe,Ge,lt,it,yt,Wt,Kt,or,Rr,vr,oa;if(typeof b=="number"&&(oa=Q,Q=T,T=b,b=oa),se=se||[1,1],ye=ye||!1,isNaN(T)||isNaN(Q)||!Array.isArray(b)||!Array.isArray(se)||!ka(pe)||typeof ye!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ll(T,Q),ke=se[0],qe=se[1],lt=b.length,Rr=T,vr=Q,Ge=0;Ge<lt;Ge++)(it=b[Ge]).length===2?(Rr=it[0]*ke+Rr,vr=it[1]*qe+vr,ci(Rr,vr)):(yt=it[0]*ke+Rr,Wt=it[1]*qe+vr,Kt=it[2]*ke+Rr,or=it[3]*qe+vr,Rr=it[4]*ke+Rr,vr=it[5]*qe+vr,ys(yt,Wt,Kt,or,Rr,vr));return ye&&Du(),Al(pe),this},p.path=function(b){for(var T=0;T<b.length;T++){var Q=b[T],se=Q.c;switch(Q.op){case"m":Ll(se[0],se[1]);break;case"l":ci(se[0],se[1]);break;case"c":ys.apply(this,se);break;case"h":Du()}}return this},p.__private__.rect=p.rect=function(b,T,Q,se,pe){if(isNaN(b)||isNaN(T)||isNaN(Q)||isNaN(se)||!ka(pe))throw new Error("Invalid arguments passed to jsPDF.rect");return _===N.COMPAT&&(se=-se),te([D(P(b)),D(I(T)),D(P(Q)),D(P(se)),"re"].join(" ")),Al(pe),this},p.__private__.triangle=p.triangle=function(b,T,Q,se,pe,ye,ke){if(isNaN(b)||isNaN(T)||isNaN(Q)||isNaN(se)||isNaN(pe)||isNaN(ye)||!ka(ke))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Q-b,se-T],[pe-Q,ye-se],[b-pe,T-ye]],b,T,[1,1],ke,!0),this},p.__private__.roundedRect=p.roundedRect=function(b,T,Q,se,pe,ye,ke){if(isNaN(b)||isNaN(T)||isNaN(Q)||isNaN(se)||isNaN(pe)||isNaN(ye)||!ka(ke))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var qe=4/3*(Math.SQRT2-1);return pe=Math.min(pe,.5*Q),ye=Math.min(ye,.5*se),this.lines([[Q-2*pe,0],[pe*qe,0,pe,ye-ye*qe,pe,ye],[0,se-2*ye],[0,ye*qe,-pe*qe,ye,-pe,ye],[2*pe-Q,0],[-pe*qe,0,-pe,-ye*qe,-pe,-ye],[0,2*ye-se],[0,-ye*qe,pe*qe,-ye,pe,-ye]],b+pe,T,[1,1],ke,!0),this},p.__private__.ellipse=p.ellipse=function(b,T,Q,se,pe){if(isNaN(b)||isNaN(T)||isNaN(Q)||isNaN(se)||!ka(pe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ye=4/3*(Math.SQRT2-1)*Q,ke=4/3*(Math.SQRT2-1)*se;return Ll(b+Q,T),ys(b+Q,T-ke,b+ye,T-se,b,T-se),ys(b-ye,T-se,b-Q,T-ke,b-Q,T),ys(b-Q,T+ke,b-ye,T+se,b,T+se),ys(b+ye,T+se,b+Q,T+ke,b+Q,T),Al(pe),this},p.__private__.circle=p.circle=function(b,T,Q,se){if(isNaN(b)||isNaN(T)||isNaN(Q)||!ka(se))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(b,T,Q,Q,se)},p.setFont=function(b,T,Q){return Q&&(T=B(T,Q)),ft=_u(b,T,{disableWarning:!1}),this};var Wf=p.__private__.getFont=p.getFont=function(){return Tt[_u.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var b,T,Q={};for(b in Ht)if(Ht.hasOwnProperty(b))for(T in Q[b]=[],Ht[b])Ht[b].hasOwnProperty(T)&&Q[b].push(T);return Q},p.addFont=function(b,T,Q,se,pe){var ye=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ye.indexOf(arguments[3])!==-1?pe=arguments[3]:arguments[3]&&ye.indexOf(arguments[3])==-1&&(Q=B(Q,se)),pe=pe||"Identity-H",Dl.call(this,b,T,Q,pe)};var ui,Ol=n.lineWidth||.200025,oo=p.__private__.getLineWidth=p.getLineWidth=function(){return Ol},Eu=p.__private__.setLineWidth=p.setLineWidth=function(b){return Ol=b,te(D(P(b))+" w"),this};p.__private__.setLineDash=Qe.API.setLineDash=Qe.API.setLineDashPattern=function(b,T){if(b=b||[],T=T||0,isNaN(T)||!Array.isArray(b))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return b=b.map(function(Q){return D(P(Q))}).join(" "),T=D(P(T)),te("["+b+"] "+T+" d"),this};var Pu=p.__private__.getLineHeight=p.getLineHeight=function(){return Ae*ui};p.__private__.getLineHeight=p.getLineHeight=function(){return Ae*ui};var Au=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(b){return typeof(b=b||1.15)=="number"&&(ui=b),this},Lu=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return ui};Au(n.lineHeight);var Ca=p.__private__.getHorizontalCoordinate=function(b){return P(b)},rs=p.__private__.getVerticalCoordinate=function(b){return _===N.ADVANCED?b:st[Y].mediaBox.topRightY-st[Y].mediaBox.bottomLeftY-P(b)},Yf=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(b){return D(Ca(b))},xs=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(b){return D(rs(b))},ia=n.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return na(ia)},p.__private__.setStrokeColor=p.setDrawColor=function(b,T,Q,se){return ia=aa({ch1:b,ch2:T,ch3:Q,ch4:se,pdfColorType:"draw",precision:2}),te(ia),this};var Tl=n.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return na(Tl)},p.__private__.setFillColor=p.setFillColor=function(b,T,Q,se){return Tl=aa({ch1:b,ch2:T,ch3:Q,ch4:se,pdfColorType:"fill",precision:2}),te(Tl),this};var di=n.textColor||"0 g",Gf=p.__private__.getTextColor=p.getTextColor=function(){return na(di)};p.__private__.setTextColor=p.setTextColor=function(b,T,Q,se){return di=aa({ch1:b,ch2:T,ch3:Q,ch4:se,pdfColorType:"text",precision:3}),this};var lo=n.charSpace,Kf=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(lo||0)};p.__private__.setCharSpace=p.setCharSpace=function(b){if(isNaN(b))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return lo=b,this};var Ml=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(b){var T=p.CapJoinStyles[b];if(T===void 0)throw new Error("Line cap style of '"+b+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ml=T,te(T+" J"),this};var Il=0;p.__private__.setLineJoin=p.setLineJoin=function(b){var T=p.CapJoinStyles[b];if(T===void 0)throw new Error("Line join style of '"+b+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Il=T,te(T+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(b){if(b=b||0,isNaN(b))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return te(D(P(b))+" M"),this},p.GState=ch,p.setGState=function(b){(b=typeof b=="string"?Yt[ea[b]]:Ou(null,b)).equals(Za)||(te("/"+b.id+" gs"),Za=b)};var Ou=function(b,T){if(!b||!ea[b]){var Q=!1;for(var se in Yt)if(Yt.hasOwnProperty(se)&&Yt[se].equals(T)){Q=!0;break}if(Q)T=Yt[se];else{var pe="GS"+(Object.keys(Yt).length+1).toString(10);Yt[pe]=T,T.id=pe}return b&&(ea[b]=T.id),Dt.publish("addGState",T),T}};p.addGState=function(b,T){return Ou(b,T),this},p.saveGraphicsState=function(){return te("q"),xa.push({key:ft,size:Ae,color:di}),this},p.restoreGraphicsState=function(){te("Q");var b=xa.pop();return ft=b.key,Ae=b.size,di=b.color,Za=null,this},p.setCurrentTransformationMatrix=function(b){return te(b.toString()+" cm"),this},p.comment=function(b){return te("#"+b),this};var co=function(b,T){var Q=b||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Q},set:function(ye){isNaN(ye)||(Q=parseFloat(ye))}});var se=T||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return se},set:function(ye){isNaN(ye)||(se=parseFloat(ye))}});var pe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return pe},set:function(ye){pe=ye.toString()}}),this},Rl=function(b,T,Q,se){co.call(this,b,T),this.type="rect";var pe=Q||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return pe},set:function(ke){isNaN(ke)||(pe=parseFloat(ke))}});var ye=se||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ye},set:function(ke){isNaN(ke)||(ye=parseFloat(ke))}}),this},$l=function(){this.page=Gt,this.currentPage=Y,this.pages=_e.slice(0),this.pagesContext=st.slice(0),this.x=Mr,this.y=wt,this.matrix=Zn,this.width=hi(Y),this.height=ws(Y),this.outputDestination=Pe,this.id="",this.objectNumber=-1};$l.prototype.restore=function(){Gt=this.page,Y=this.currentPage,st=this.pagesContext,_e=this.pages,Mr=this.x,wt=this.y,Zn=this.matrix,Fl(Y,this.width),Bl(Y,this.height),Pe=this.outputDestination};var Tu=function(b,T,Q,se,pe){Sa.push(new $l),Gt=Y=0,_e=[],Mr=b,wt=T,Zn=pe,El([Q,se])},Jf=function(b){if(wa[b])Sa.pop().restore();else{var T=new $l,Q="Xo"+(Object.keys(Cr).length+1).toString(10);T.id=Q,wa[b]=Q,Cr[Q]=T,Dt.publish("addFormObject",T),Sa.pop().restore()}};for(var uo in p.beginFormObject=function(b,T,Q,se,pe){return Tu(b,T,Q,se,pe),this},p.endFormObject=function(b){return Jf(b),this},p.doFormObject=function(b,T){var Q=Cr[wa[b]];return te("q"),te(T.toString()+" cm"),te("/"+Q.id+" Do"),te("Q"),this},p.getFormObject=function(b){var T=Cr[wa[b]];return{x:T.x,y:T.y,width:T.width,height:T.height,matrix:T.matrix}},p.save=function(b,T){return b=b||"generated.pdf",(T=T||{}).returnPromise=T.returnPromise||!1,T.returnPromise===!1?(wi(ao(ts()),b),typeof wi.unload=="function"&&Ze.setTimeout&&setTimeout(wi.unload,911),this):new Promise(function(Q,se){try{var pe=wi(ao(ts()),b);typeof wi.unload=="function"&&Ze.setTimeout&&setTimeout(wi.unload,911),Q(pe)}catch(ye){se(ye.message)}})},Qe.API)Qe.API.hasOwnProperty(uo)&&(uo==="events"&&Qe.API.events.length?function(b,T){var Q,se,pe;for(pe=T.length-1;pe!==-1;pe--)Q=T[pe][0],se=T[pe][1],b.subscribe.apply(b,[Q].concat(typeof se=="function"?[se]:se))}(Dt,Qe.API.events):p[uo]=Qe.API[uo]);var hi=p.getPageWidth=function(b){return(st[b=b||Y].mediaBox.topRightX-st[b].mediaBox.bottomLeftX)/Be},Fl=p.setPageWidth=function(b,T){st[b].mediaBox.topRightX=T*Be+st[b].mediaBox.bottomLeftX},ws=p.getPageHeight=function(b){return(st[b=b||Y].mediaBox.topRightY-st[b].mediaBox.bottomLeftY)/Be},Bl=p.setPageHeight=function(b,T){st[b].mediaBox.topRightY=T*Be+st[b].mediaBox.bottomLeftY};return p.internal={pdfEscape:cn,getStyle:Cu,getFont:Wf,getFontSize:Ie,getCharSpace:Kf,getTextColor:Gf,getLineHeight:Pu,getLineHeightFactor:Lu,getLineWidth:oo,write:He,getHorizontalCoordinate:Ca,getVerticalCoordinate:rs,getCoordinateString:Yf,getVerticalCoordinateString:xs,collections:{},newObject:fr,newAdditionalObject:Ji,newObjectDeferred:ir,newObjectDeferredBegin:Sn,getFilters:_a,putStream:In,events:Dt,scaleFactor:Be,pageSize:{getWidth:function(){return hi(Y)},setWidth:function(b){Fl(Y,b)},getHeight:function(){return ws(Y)},setHeight:function(b){Bl(Y,b)}},encryptionOptions:d,encryption:Ir,getEncryptor:Bf,output:so,getNumberOfPages:Mf,pages:_e,out:te,f2:L,f3:k,getPageInfo:ku,getPageInfoByObjId:rt,getCurrentPageInfo:qf,getPDFVersion:v,Point:co,Rectangle:Rl,Matrix:Xe,hasHotfix:ju},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return hi(Y)},set:function(b){Fl(Y,b)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return ws(Y)},set:function(b){Bl(Y,b)},enumerable:!0,configurable:!0}),Of.call(p,Ee),ft="F1",Su(a,e),Dt.publish("initialized"),p}To.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},To.prototype.toHexString=function(n){return n.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},To.prototype.hexToBytes=function(n){for(var t=[],e=0;e<n.length;e+=2)t.push(String.fromCharCode(parseInt(n.substr(e,2),16)));return t.join("")},To.prototype.processOwnerPassword=function(n,t){return $m(Rm(t).substr(0,5),n)},To.prototype.encryptor=function(n,t){var e=Rm(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return $m(e,r)}},ch.prototype.equals=function(n){var t,e="id,objectNumber,equals";if(!n||pt(n)!==pt(this))return!1;var r=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!n.hasOwnProperty(t)||this[t]!==n[t])return!1;r++}for(t in n)n.hasOwnProperty(t)&&e.indexOf(t)<0&&r--;return r===0},Qe.API={events:[]},Qe.version="2.5.2";var Xt=Qe.API,Ag=1,Gi=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Eo=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ot=function(n){return n.toFixed(2)},Ts=function(n){return n.toFixed(5)};Xt.__acroform__={};var wn=function(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n},m1=function(n){return n*Ag},Aa=function(n){var t=new rx,e=ze.internal.getHeight(n)||0,r=ze.internal.getWidth(n)||0;return t.BBox=[0,0,Number(ot(r)),Number(ot(e))],t},R6=Xt.__acroform__.setBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<t},$6=Xt.__acroform__.clearBit=function(n,t){if(n=n||0,t=t||0,isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<t)},F6=Xt.__acroform__.getBit=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<t?1:0},nr=Xt.__acroform__.getBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return F6(n,t-1)},ar=Xt.__acroform__.setBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return R6(n,t-1)},sr=Xt.__acroform__.clearBitForPdf=function(n,t){if(isNaN(n)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return $6(n,t-1)},B6=Xt.__acroform__.calculateCoordinates=function(n,t){var e=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,a=n[0],s=n[1],i=n[2],o=n[3],l={};return l.lowerLeft_X=e(a)||0,l.lowerLeft_Y=r(s+o)||0,l.upperRight_X=e(a+i)||0,l.upperRight_Y=r(s)||0,[Number(ot(l.lowerLeft_X)),Number(ot(l.lowerLeft_Y)),Number(ot(l.upperRight_X)),Number(ot(l.upperRight_Y))]},q6=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var t=[],e=n._V||n.DV,r=Fm(n,e),a=n.scope.internal.getFont(n.fontName,n.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(n.scope.__private__.encodeColorString(n.color)),t.push("/"+a+" "+ot(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=Aa(n);return s.scope=n.scope,s.stream=t.join(`
`),s}},Fm=function(n,t){var e=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=n.multiline?a.map(function(k){return k.split(`
`)}):a.map(function(k){return[k]});var s=e,i=ze.internal.getHeight(n)||0;i=i<0?-i:i;var o=ze.internal.getWidth(n)||0;o=o<0?-o:o;var l=function(k,P,F){if(k+1<a.length){var I=P+" "+a[k+1][0];return vd(I,n,F).width<=o-4}return!1};s++;e:for(;s>0;){t="",s--;var u,d,f=vd("3",n,s).height,m=n.multiline?i-s:(i-f)/2,p=m+=2,y=0,v=0,x=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+vd(t,n,s=12).width+", FieldWidth:"+o+`
`;break}for(var w="",N=0,_=0;_<a.length;_++)if(a.hasOwnProperty(_)){var C=!1;if(a[_].length!==1&&x!==a[_].length-1){if((f+2)*(N+2)+2>i)continue e;w+=a[_][x],C=!0,v=_,_--}else{w=(w+=a[_][x]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var A=parseInt(_),B=l(A,w,s),D=_>=a.length-1;if(B&&!D){w+=" ",x=0;continue}if(B||D){if(D)v=A;else if(n.multiline&&(f+2)*(N+2)+2>i)continue e}else{if(!n.multiline||(f+2)*(N+2)+2>i)continue e;v=A}}for(var E="",U=y;U<=v;U++){var L=a[U];if(n.multiline){if(U===v){E+=L[x]+" ",x=(x+1)%L.length;continue}if(U===y){E+=L[L.length-1]+" ";continue}}E+=L[0]+" "}switch(E=E.substr(E.length-1)==" "?E.substr(0,E.length-1):E,d=vd(E,n,s).width,n.textAlign){case"right":u=o-d-2;break;case"center":u=(o-d)/2;break;case"left":default:u=2}t+=ot(u)+" "+ot(p)+` Td
`,t+="("+Gi(E)+`) Tj
`,t+=-ot(u)+` 0 Td
`,p=-(s+2),d=0,y=C?v:v+1,N++,w=""}break}return r.text=t,r.fontSize=s,r},vd=function(n,t,e){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:a}},U6={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},V6=function(n,t){var e={type:"reference",object:n};t.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===e.type&&r.object===e.object})===void 0&&t.internal.getPageInfo(n.page).pageContext.annotations.push(e)},z6=function(n,t){for(var e in n)if(n.hasOwnProperty(e)){var r=e,a=n[e];t.internal.newObjectDeferredBegin(a.objId,!0),pt(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete n[r]}},H6=function(n,t){if(t.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(ba.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(U6)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Ag=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new nx,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in r)if(r.hasOwnProperty(a)){var s=r[a];s.objId=void 0,s.hasAnnotation&&V6(s,e)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(e){(function(r,a){var s=!r;for(var i in r||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(i)){var o=r[i],l=[],u=o.Rect;if(o.Rect&&(o.Rect=B6(o.Rect,a)),a.internal.newObjectDeferredBegin(o.objId,!0),o.DA=ze.createDefaultAppearanceStream(o),pt(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var d=q6(o);l.push({key:"AP",value:"<</N "+d+">>"}),a.internal.acroformPlugin.xForms.push(d)}if(o.appearanceStreamContent){var f="";for(var m in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(m)){var p=o.appearanceStreamContent[m];if(f+="/"+m+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var i in p)if(p.hasOwnProperty(i)){var y=p[i];typeof y=="function"&&(y=y.call(a,o)),f+="/"+i+" "+y+" ",a.internal.acroformPlugin.xForms.indexOf(y)>=0||a.internal.acroformPlugin.xForms.push(y)}}else typeof(y=p)=="function"&&(y=y.call(a,o)),f+="/"+i+" "+y,a.internal.acroformPlugin.xForms.indexOf(y)>=0||a.internal.acroformPlugin.xForms.push(y);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:l,objectId:o.objId}),a.internal.out("endobj")}s&&z6(a.internal.acroformPlugin.xForms,a)})(e,n)}),n.internal.acroformPlugin.isInitialized=!0}},tx=Xt.__acroform__.arrayToPdfArray=function(n,t,e){var r=function(i){return i};if(Array.isArray(n)){for(var a="[",s=0;s<n.length;s++)switch(s!==0&&(a+=" "),pt(n[s])){case"boolean":case"number":case"object":a+=n[s].toString();break;case"string":n[s].substr(0,1)!=="/"?(t!==void 0&&e&&(r=e.internal.getEncryptor(t)),a+="("+Gi(r(n[s].toString()))+")"):a+=n[s].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},$p=function(n,t,e){var r=function(a){return a};return t!==void 0&&e&&(r=e.internal.getEncryptor(t)),(n=n||"").toString(),n="("+Gi(r(n))+")"},$a=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};$a.prototype.toString=function(){return this.objId+" 0 R"},$a.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},$a.prototype.getKeyValueListForStream=function(){var n=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var r=t[e],a=this[r];a&&(Array.isArray(a)?n.push({key:r,value:tx(a,this.objId,this.scope)}):a instanceof $a?(a.scope=this.scope,n.push({key:r,value:a.objId+" 0 R"})):typeof a!="function"&&n.push({key:r,value:a}))}return n};var rx=function(){$a.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){n=e.trim()},get:function(){return n||null}})};wn(rx,$a);var nx=function(){$a.call(this);var n,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var e=function(r){return r};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+Gi(e(n))+")"}},set:function(e){n=e}})};wn(nx,$a);var ba=function n(){$a.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');t=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!nr(t,3)},set:function(w){w?this.F=ar(t,3):this.F=sr(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');e=w}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(w){r=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(w){r[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(w){r[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(w){r[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(w){r[3]=w}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof uh)return;s="FieldObject"+n.FieldNum++}var w=function(N){return N};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+Gi(w(s))+")"},set:function(w){s=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(w){s=w}});var i="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return i},set:function(w){i=w}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/Ag:u},set:function(w){u=w}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(w){d=w}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof uh||this instanceof Pi))return $p(f,this.objId,this.scope)},set:function(w){w=w.toString(),f=w}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof wr?m:$p(m,this.objId,this.scope)},set:function(w){w=w.toString(),m=this instanceof wr?w:w.substr(0,1)==="("?Eo(w.substr(1,w.length-2)):Eo(w)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof wr?Eo(m.substr(1,m.length-1)):m},set:function(w){w=w.toString(),m=this instanceof wr?"/"+w:w}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof wr?p:$p(p,this.objId,this.scope)},set:function(w){w=w.toString(),p=this instanceof wr?w:w.substr(0,1)==="("?Eo(w.substr(1,w.length-2)):Eo(w)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof wr?Eo(p.substr(1,p.length-1)):p},set:function(w){w=w.toString(),p=this instanceof wr?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(w){w=!!w,v=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(w){y=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,1)},set:function(w){w?this.Ff=ar(this.Ff,1):this.Ff=sr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,2)},set:function(w){w?this.Ff=ar(this.Ff,2):this.Ff=sr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,3)},set:function(w){w?this.Ff=ar(this.Ff,3):this.Ff=sr(this.Ff,3)}});var x=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(x!==null)return x},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');x=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(x){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:x=2;break;case"center":case 1:x=1;break;case"left":case 0:default:x=0}}})};wn(ba,$a);var Uo=function(){ba.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){n=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return tx(t,this.objId,this.scope)},set:function(e){var r,a;a=[],typeof(r=e)=="string"&&(a=function(s,i,o){o||(o=1);for(var l,u=[];l=i.exec(s);)u.push(l[o]);return u}(r,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,r){for(r=r||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,18)},set:function(e){e?this.Ff=ar(this.Ff,18):this.Ff=sr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=ar(this.Ff,19):this.Ff=sr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,20)},set:function(e){e?(this.Ff=ar(this.Ff,20),t.sort()):this.Ff=sr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,22)},set:function(e){e?this.Ff=ar(this.Ff,22):this.Ff=sr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,23)},set:function(e){e?this.Ff=ar(this.Ff,23):this.Ff=sr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,27)},set:function(e){e?this.Ff=ar(this.Ff,27):this.Ff=sr(this.Ff,27)}}),this.hasAppearanceStream=!1};wn(Uo,ba);var Vo=function(){Uo.call(this),this.fontName="helvetica",this.combo=!1};wn(Vo,Uo);var zo=function(){Vo.call(this),this.combo=!0};wn(zo,Vo);var Id=function(){zo.call(this),this.edit=!0};wn(Id,zo);var wr=function(){ba.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,15)},set:function(e){e?this.Ff=ar(this.Ff,15):this.Ff=sr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,16)},set:function(e){e?this.Ff=ar(this.Ff,16):this.Ff=sr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,17)},set:function(e){e?this.Ff=ar(this.Ff,17):this.Ff=sr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,26)},set:function(e){e?this.Ff=ar(this.Ff,26):this.Ff=sr(this.Ff,26)}});var n,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(s){return s};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,a=[];for(r in a.push("<<"),t)a.push("/"+r+" ("+Gi(e(t[r]))+")");return a.push(">>"),a.join(`
`)}},set:function(e){pt(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}})};wn(wr,ba);var Rd=function(){wr.call(this),this.pushButton=!0};wn(Rd,wr);var Ho=function(){wr.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t!==void 0?t:[]}})};wn(Ho,wr);var uh=function(){var n,t;ba.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(a){n=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var e,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(o){return o};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var s,i=[];for(s in i.push("<<"),r)i.push("/"+s+" ("+Gi(a(r[s]))+")");return i.push(">>"),i.join(`
`)},set:function(a){pt(a)==="object"&&(r=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(a){typeof a=="string"&&(r.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(a){e="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ze.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};wn(uh,ba),Ho.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=n.createAppearanceStream(e.optionName),e.caption=n.getCA()}},Ho.prototype.createOption=function(n){var t=new uh;return t.Parent=this,t.optionName=n,this.Kids.push(t),W6.call(this.scope,t),t};var $d=function(){wr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ze.CheckBox.createAppearanceStream()};wn($d,wr);var Pi=function(){ba.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,13)},set:function(t){t?this.Ff=ar(this.Ff,13):this.Ff=sr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,21)},set:function(t){t?this.Ff=ar(this.Ff,21):this.Ff=sr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,23)},set:function(t){t?this.Ff=ar(this.Ff,23):this.Ff=sr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,24)},set:function(t){t?this.Ff=ar(this.Ff,24):this.Ff=sr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,25)},set:function(t){t?this.Ff=ar(this.Ff,25):this.Ff=sr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,26)},set:function(t){t?this.Ff=ar(this.Ff,26):this.Ff=sr(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){Number.isInteger(t)&&(n=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};wn(Pi,ba);var Fd=function(){Pi.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!nr(this.Ff,14)},set:function(n){n?this.Ff=ar(this.Ff,14):this.Ff=sr(this.Ff,14)}}),this.password=!0};wn(Fd,Pi);var ze={CheckBox:{createAppearanceStream:function(){return{N:{On:ze.CheckBox.YesNormal},D:{On:ze.CheckBox.YesPushDown,Off:ze.CheckBox.OffPushDown}}},YesPushDown:function(n){var t=Aa(n);t.scope=n.scope;var e=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,a=n.scope.__private__.encodeColorString(n.color),s=Fm(n,n.caption);return e.push("0.749023 g"),e.push("0 0 "+ot(ze.internal.getWidth(n))+" "+ot(ze.internal.getHeight(n))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+r+" "+ot(s.fontSize)+" Tf "+a),e.push("BT"),e.push(s.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(n){var t=Aa(n);t.scope=n.scope;var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),a=[],s=ze.internal.getHeight(n),i=ze.internal.getWidth(n),o=Fm(n,n.caption);return a.push("1 g"),a.push("0 0 "+ot(i)+" "+ot(s)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+ot(i-1)+" "+ot(s-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+e+" "+ot(o.fontSize)+" Tf "+r),a.push(o.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(n){var t=Aa(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+ot(ze.internal.getWidth(n))+" "+ot(ze.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(n){var t={D:{Off:ze.RadioButton.Circle.OffPushDown},N:{}};return t.N[n]=ze.RadioButton.Circle.YesNormal,t.D[n]=ze.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(n){var t=Aa(n);t.scope=n.scope;var e=[],r=ze.internal.getWidth(n)<=ze.internal.getHeight(n)?ze.internal.getWidth(n)/4:ze.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=ze.internal.Bezier_C,s=Number((r*a).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+Ts(ze.internal.getWidth(n)/2)+" "+Ts(ze.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),e.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),e.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),e.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=Aa(n);t.scope=n.scope;var e=[],r=ze.internal.getWidth(n)<=ze.internal.getHeight(n)?ze.internal.getWidth(n)/4:ze.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),s=Number((a*ze.internal.Bezier_C).toFixed(5)),i=Number((r*ze.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Ts(ze.internal.getWidth(n)/2)+" "+Ts(ze.internal.getHeight(n)/2)+" cm"),e.push(a+" 0 m"),e.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),e.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),e.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),e.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+Ts(ze.internal.getWidth(n)/2)+" "+Ts(ze.internal.getHeight(n)/2)+" cm"),e.push(r+" 0 m"),e.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),e.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),e.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),e.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(n){var t=Aa(n);t.scope=n.scope;var e=[],r=ze.internal.getWidth(n)<=ze.internal.getHeight(n)?ze.internal.getWidth(n)/4:ze.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),s=Number((a*ze.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+Ts(ze.internal.getWidth(n)/2)+" "+Ts(ze.internal.getHeight(n)/2)+" cm"),e.push(a+" 0 m"),e.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),e.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),e.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),e.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(n){var t={D:{Off:ze.RadioButton.Cross.OffPushDown},N:{}};return t.N[n]=ze.RadioButton.Cross.YesNormal,t.D[n]=ze.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(n){var t=Aa(n);t.scope=n.scope;var e=[],r=ze.internal.calculateCross(n);return e.push("q"),e.push("1 1 "+ot(ze.internal.getWidth(n)-2)+" "+ot(ze.internal.getHeight(n)-2)+" re"),e.push("W"),e.push("n"),e.push(ot(r.x1.x)+" "+ot(r.x1.y)+" m"),e.push(ot(r.x2.x)+" "+ot(r.x2.y)+" l"),e.push(ot(r.x4.x)+" "+ot(r.x4.y)+" m"),e.push(ot(r.x3.x)+" "+ot(r.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(n){var t=Aa(n);t.scope=n.scope;var e=ze.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+ot(ze.internal.getWidth(n))+" "+ot(ze.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+ot(ze.internal.getWidth(n)-2)+" "+ot(ze.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(ot(e.x1.x)+" "+ot(e.x1.y)+" m"),r.push(ot(e.x2.x)+" "+ot(e.x2.y)+" l"),r.push(ot(e.x4.x)+" "+ot(e.x4.y)+" m"),r.push(ot(e.x3.x)+" "+ot(e.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(n){var t=Aa(n);t.scope=n.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+ot(ze.internal.getWidth(n))+" "+ot(ze.internal.getHeight(n))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(n){var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,e=n.scope.__private__.encodeColorString(n.color);return"/"+t+" "+n.fontSize+" Tf "+e}};ze.internal={Bezier_C:.551915024494,calculateCross:function(n){var t=ze.internal.getWidth(n),e=ze.internal.getHeight(n),r=Math.min(t,e);return{x1:{x:(t-r)/2,y:(e-r)/2+r},x2:{x:(t-r)/2+r,y:(e-r)/2},x3:{x:(t-r)/2,y:(e-r)/2},x4:{x:(t-r)/2+r,y:(e-r)/2+r}}}},ze.internal.getWidth=function(n){var t=0;return pt(n)==="object"&&(t=m1(n.Rect[2])),t},ze.internal.getHeight=function(n){var t=0;return pt(n)==="object"&&(t=m1(n.Rect[3])),t};var W6=Xt.addField=function(n){if(H6(this,n),!(n instanceof ba))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=n).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};Xt.AcroFormChoiceField=Uo,Xt.AcroFormListBox=Vo,Xt.AcroFormComboBox=zo,Xt.AcroFormEditBox=Id,Xt.AcroFormButton=wr,Xt.AcroFormPushButton=Rd,Xt.AcroFormRadioButton=Ho,Xt.AcroFormCheckBox=$d,Xt.AcroFormTextField=Pi,Xt.AcroFormPasswordField=Fd,Xt.AcroFormAppearance=ze,Xt.AcroForm={ChoiceField:Uo,ListBox:Vo,ComboBox:zo,EditBox:Id,Button:wr,PushButton:Rd,RadioButton:Ho,CheckBox:$d,TextField:Pi,PasswordField:Fd,Appearance:ze},Qe.AcroForm={ChoiceField:Uo,ListBox:Vo,ComboBox:zo,EditBox:Id,Button:wr,PushButton:Rd,RadioButton:Ho,CheckBox:$d,TextField:Pi,PasswordField:Fd,Appearance:ze};function ax(n){return n.reduce(function(t,e,r){return t[e]=r,t},{})}(function(n){n.__addimage__={};var t="UNKNOWN",e={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(k,P){var F,I,ee,re,W,Z=t;if((P=P||t)==="RGBA"||k.data!==void 0&&k.data instanceof Uint8ClampedArray&&"height"in k&&"width"in k)return"RGBA";if(B(k))for(W in e)for(ee=e[W],F=0;F<ee.length;F+=1){for(re=!0,I=0;I<ee[F].length;I+=1)if(ee[F][I]!==void 0&&ee[F][I]!==k[I]){re=!1;break}if(re===!0){Z=W;break}}else for(W in e)for(ee=e[W],F=0;F<ee.length;F+=1){for(re=!0,I=0;I<ee[F].length;I+=1)if(ee[F][I]!==void 0&&ee[F][I]!==k.charCodeAt(I)){re=!1;break}if(re===!0){Z=W;break}}return Z===t&&P!==t&&(Z=P),Z},a=function k(P){for(var F=this.internal.write,I=this.internal.putStream,ee=(0,this.internal.getFilters)();ee.indexOf("FlateEncode")!==-1;)ee.splice(ee.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var re=[];if(re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Image"}),re.push({key:"Width",value:P.width}),re.push({key:"Height",value:P.height}),P.colorSpace===x.INDEXED?re.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(re.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===x.DEVICE_CMYK&&re.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),re.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&re.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)){for(var W="",Z=0,le=P.transparency.length;Z<le;Z++)W+=P.transparency[Z]+" "+P.transparency[Z]+" ";re.push({key:"Mask",value:"["+W+"]"})}P.sMask!==void 0&&re.push({key:"SMask",value:P.objectId+1+" 0 R"});var de=P.filter!==void 0?["/"+P.filter]:void 0;if(I({data:P.data,additionalKeyValues:re,alreadyAppliedFilters:de,objectId:P.objectId}),F("endobj"),"sMask"in P&&P.sMask!==void 0){var Ce="/Predictor "+P.predictor+" /Colors 1 /BitsPerComponent "+P.bitsPerComponent+" /Columns "+P.width,M={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:P.bitsPerComponent,decodeParameters:Ce,data:P.sMask};"filter"in P&&(M.filter=P.filter),k.call(this,M)}if(P.colorSpace===x.INDEXED){var Y=this.internal.newObject();I({data:E(new Uint8Array(P.palette)),objectId:Y}),F("endobj")}},s=function(){var k=this.internal.collections.addImage_images;for(var P in k)a.call(this,k[P])},i=function(){var k,P=this.internal.collections.addImage_images,F=this.internal.write;for(var I in P)F("/I"+(k=P[I]).index,k.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",i))},l=function(){var k=this.internal.collections.addImage_images;return o.call(this),k},u=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(k){return typeof n["process"+k.toUpperCase()]=="function"},f=function(k){return pt(k)==="object"&&k.nodeType===1},m=function(k,P){if(k.nodeName==="IMG"&&k.hasAttribute("src")){var F=""+k.getAttribute("src");if(F.indexOf("data:image/")===0)return Nc(unescape(F).split("base64,").pop());var I=n.loadFile(F,!0);if(I!==void 0)return I}if(k.nodeName==="CANVAS"){if(k.width===0||k.height===0)throw new Error("Given canvas must have data. Canvas width: "+k.width+", height: "+k.height);var ee;switch(P){case"PNG":ee="image/png";break;case"WEBP":ee="image/webp";break;case"JPEG":case"JPG":default:ee="image/jpeg"}return Nc(k.toDataURL(ee,1).split("base64,").pop())}},p=function(k){var P=this.internal.collections.addImage_images;if(P){for(var F in P)if(k===P[F].alias)return P[F]}},y=function(k,P,F){return k||P||(k=-96,P=-96),k<0&&(k=-1*F.width*72/k/this.internal.scaleFactor),P<0&&(P=-1*F.height*72/P/this.internal.scaleFactor),k===0&&(k=P*F.width/F.height),P===0&&(P=k*F.height/F.width),[k,P]},v=function(k,P,F,I,ee,re){var W=y.call(this,F,I,ee),Z=this.internal.getCoordinateString,le=this.internal.getVerticalCoordinateString,de=l.call(this);if(F=W[0],I=W[1],de[ee.index]=ee,re){re*=Math.PI/180;var Ce=Math.cos(re),M=Math.sin(re),Y=function(K){return K.toFixed(4)},X=[Y(Ce),Y(M),Y(-1*M),Y(Ce),0,0,"cm"]}this.internal.write("q"),re?(this.internal.write([1,"0","0",1,Z(k),le(P+I),"cm"].join(" ")),this.internal.write(X.join(" ")),this.internal.write([Z(F),"0","0",Z(I),"0","0","cm"].join(" "))):this.internal.write([Z(F),"0","0",Z(I),Z(k),le(P+I),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ee.index+" Do"),this.internal.write("Q")},x=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},N=n.__addimage__.sHashCode=function(k){var P,F,I=0;if(typeof k=="string")for(F=k.length,P=0;P<F;P++)I=(I<<5)-I+k.charCodeAt(P),I|=0;else if(B(k))for(F=k.byteLength/2,P=0;P<F;P++)I=(I<<5)-I+k[P],I|=0;return I},_=n.__addimage__.validateStringAsBase64=function(k){(k=k||"").toString().trim();var P=!0;return k.length===0&&(P=!1),k.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(k.substr(0,k.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(k.substr(-2))===!1&&(P=!1),P},C=n.__addimage__.extractImageFromDataUrl=function(k){var P=(k=k||"").split("base64,"),F=null;if(P.length===2){var I=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(P[0]);Array.isArray(I)&&(F={mimeType:I[1],charset:I[2],data:P[1]})}return F},A=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(k){return A()&&k instanceof ArrayBuffer};var B=n.__addimage__.isArrayBufferView=function(k){return A()&&typeof Uint32Array<"u"&&(k instanceof Int8Array||k instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&k instanceof Uint8ClampedArray||k instanceof Int16Array||k instanceof Uint16Array||k instanceof Int32Array||k instanceof Uint32Array||k instanceof Float32Array||k instanceof Float64Array)},D=n.__addimage__.binaryStringToUint8Array=function(k){for(var P=k.length,F=new Uint8Array(P),I=0;I<P;I++)F[I]=k.charCodeAt(I);return F},E=n.__addimage__.arrayBufferToBinaryString=function(k){for(var P="",F=B(k)?k:new Uint8Array(k),I=0;I<F.length;I+=8192)P+=String.fromCharCode.apply(null,F.subarray(I,I+8192));return P};n.addImage=function(){var k,P,F,I,ee,re,W,Z,le;if(typeof arguments[1]=="number"?(P=t,F=arguments[1],I=arguments[2],ee=arguments[3],re=arguments[4],W=arguments[5],Z=arguments[6],le=arguments[7]):(P=arguments[1],F=arguments[2],I=arguments[3],ee=arguments[4],re=arguments[5],W=arguments[6],Z=arguments[7],le=arguments[8]),pt(k=arguments[0])==="object"&&!f(k)&&"imageData"in k){var de=k;k=de.imageData,P=de.format||P||t,F=de.x||F||0,I=de.y||I||0,ee=de.w||de.width||ee,re=de.h||de.height||re,W=de.alias||W,Z=de.compression||Z,le=de.rotation||de.angle||le}var Ce=this.internal.getFilters();if(Z===void 0&&Ce.indexOf("FlateEncode")!==-1&&(Z="SLOW"),isNaN(F)||isNaN(I))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var M=U.call(this,k,P,W,Z);return v.call(this,F,I,ee,re,M,le),this};var U=function(k,P,F,I){var ee,re,W;if(typeof k=="string"&&r(k)===t){k=unescape(k);var Z=L(k,!1);(Z!==""||(Z=n.loadFile(k,!0))!==void 0)&&(k=Z)}if(f(k)&&(k=m(k,P)),P=r(k,P),!d(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((W=F)==null||W.length===0)&&(F=function(le){return typeof le=="string"||B(le)?N(le):B(le.data)?N(le.data):null}(k)),(ee=p.call(this,F))||(A()&&(k instanceof Uint8Array||P==="RGBA"||(re=k,k=D(k))),ee=this["process"+P.toUpperCase()](k,u.call(this),F,function(le){return le&&typeof le=="string"&&(le=le.toUpperCase()),le in n.image_compression?le:w.NONE}(I),re)),!ee)throw new Error("An unknown error occurred whilst processing the image.");return ee},L=n.__addimage__.convertBase64ToBinaryString=function(k,P){var F;P=typeof P!="boolean"||P;var I,ee="";if(typeof k=="string"){I=(F=C(k))!==null?F.data:k;try{ee=Nc(I)}catch(re){if(P)throw _(I)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+re.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ee};n.getImageProperties=function(k){var P,F,I="";if(f(k)&&(k=m(k)),typeof k=="string"&&r(k)===t&&((I=L(k,!1))===""&&(I=n.loadFile(k)||""),k=I),F=r(k),!d(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(!A()||k instanceof Uint8Array||(k=D(k)),!(P=this["process"+F.toUpperCase()](k)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=F,P}})(Qe.API),function(n){var t=function(e){if(e!==void 0&&e!="")return!0};Qe.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(e){for(var r,a,s,i=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(e.objId),u=e.pageContext.annotations,d=!1,f=0;f<u.length&&!d;f++)switch((r=u[f]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var m=0;m<u.length;m++){r=u[m];var p=this.internal.pdfEscape,y=this.internal.getEncryptor(e.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),x=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(v.objId),N=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(a="/Rect ["+i(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+i(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+p(w(r.contents))+")",s+=" /Popup "+x.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+p(w(N))+") >>",v.content=s;var _=v.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+i(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+i(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+_,r.open&&(s+=" /Open true"),s+=" >>",x.content=s,this.internal.write(v.objId,"0 R",x.objId,"0 R");break;case"freetext":a="/Rect ["+i(r.bounds.x)+" "+o(r.bounds.y)+" "+i(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var C=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+p(y(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+C+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var A=this.annotations._nameMap[r.options.name];r.options.pageNumber=A.page,r.options.top=A.y}else r.options.top||(r.options.top=0);if(a="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+p(y(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var B=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+B+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),n.createAnnotation=function(e){var r=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":r.pageContext.annotations.push(e)}},n.link=function(e,r,a,s,i){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(e),y:u(r),w:l(e+a),h:u(r+s)},options:i,type:"link"})},n.textWithLink=function(e,r,a,s){var i,o,l=this.getTextWidth(e),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var d=this.splitTextToSize(e,o).length;i=Math.ceil(u*d)}else o=l,i=u;return this.text(e,r,a,s),a+=.2*u,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,a-u,o,i,s),l},n.getTextWidth=function(e){var r=this.internal.getFontSize();return this.getStringUnitWidth(e)*r/this.internal.scaleFactor}}(Qe.API),function(n){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(v){return t[v.charCodeAt(0)]!==void 0},i=n.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},o=n.__arabicParser__.isArabicEndLetter=function(v){return i(v)&&s(v)&&t[v.charCodeAt(0)].length<=2},l=n.__arabicParser__.isArabicAlfLetter=function(v){return i(v)&&a.indexOf(v.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return i(v)&&s(v)&&t[v.charCodeAt(0)].length>=1};var u=n.__arabicParser__.arabicLetterHasFinalForm=function(v){return i(v)&&s(v)&&t[v.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(v){return i(v)&&s(v)&&t[v.charCodeAt(0)].length>=3};var d=n.__arabicParser__.arabicLetterHasMedialForm=function(v){return i(v)&&s(v)&&t[v.charCodeAt(0)].length==4},f=n.__arabicParser__.resolveLigatures=function(v){var x=0,w=e,N="",_=0;for(x=0;x<v.length;x+=1)w[v.charCodeAt(x)]!==void 0?(_++,typeof(w=w[v.charCodeAt(x)])=="number"&&(N+=String.fromCharCode(w),w=e,_=0),x===v.length-1&&(w=e,N+=v.charAt(x-(_-1)),x-=_-1,_=0)):(w=e,N+=v.charAt(x-_),x-=_,_=0);return N};n.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&r[v.charCodeAt(0)]!==void 0};var m=n.__arabicParser__.getCorrectForm=function(v,x,w){return i(v)?s(v)===!1?-1:!u(v)||!i(x)&&!i(w)||!i(w)&&o(x)||o(v)&&!i(x)||o(v)&&l(x)||o(v)&&o(x)?0:d(v)&&i(x)&&!o(x)&&i(w)&&u(w)?3:o(v)||!i(w)?1:2:-1},p=function(v){var x=0,w=0,N=0,_="",C="",A="",B=(v=v||"").split("\\s+"),D=[];for(x=0;x<B.length;x+=1){for(D.push(""),w=0;w<B[x].length;w+=1)_=B[x][w],C=B[x][w-1],A=B[x][w+1],i(_)?(N=m(_,C,A),D[x]+=N!==-1?String.fromCharCode(t[_.charCodeAt(0)][N]):_):D[x]+=_;D[x]=f(D[x])}return D.join(" ")},y=n.__arabicParser__.processArabic=n.processArabic=function(){var v,x=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(x)){var N=0;for(w=[],N=0;N<x.length;N+=1)Array.isArray(x[N])?w.push([p(x[N][0]),x[N][1],x[N][2]]):w.push([p(x[N])]);v=w}else v=p(x);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};n.events.push(["preProcessText",y])}(Qe.API),Qe.API.autoPrint=function(n){var t;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(n){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(o){e=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(o){a=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var i={};Object.defineProperty(this,"style",{get:function(){return i},set:function(o){i=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,r){var a;if((e=e||"2d")!=="2d")return null;for(a in r)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=r[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Qe.API),function(n){var t={left:0,top:0,bottom:0,right:0},e=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(v){l=v}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(v){u=v}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(v){d=v}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(v){f=v}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(v){m=v}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(v){p=v}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(v){y=v}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},n.getTextDimensions=function(l,u){r.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),m=u.scaleFactor||this.internal.scaleFactor,p=0,y=0,v=0,x=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var w=u.maxWidth;w>0?typeof l=="string"?l=this.splitTextToSize(l,w):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(_,C){return _.concat(x.splitTextToSize(C,w))},[])):l=Array.isArray(l)?l:[l];for(var N=0;N<l.length;N++)p<(v=this.getStringUnitWidth(l[N],{font:f})*d)&&(p=v);return p!==0&&(y=l.length),{w:p/=m,h:Math.max((y*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/m,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var i=n.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,m=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,p&&m&&(this.printHeaderRow(l.lineNumber,!0),l.y+=m[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,e===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-d,l.y+d,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+d,{align:"center",baseline:"top",maxWidth:l.width-d-d}):this.text(l.text,l.x+d,l.y+d,{align:"left",baseline:"top",maxWidth:l.width-d-d})),this.internal.__cell__.lastCell=l,this};n.table=function(l,u,d,f,m){if(r.call(this),!d)throw new Error("No data for PDF table.");var p,y,v,x,w=[],N=[],_=[],C={},A={},B=[],D=[],E=(m=m||{}).autoSize||!1,U=m.printHeaders!==!1,L=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,k=m.margins||Object.assign({width:this.getPageWidth()},t),P=typeof m.padding=="number"?m.padding:3,F=m.headerBackgroundColor||"#c8c8c8",I=m.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=U,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=L,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=F,this.internal.__cell__.headerTextColor=I,this.setFontSize(L),f==null)N=w=Object.keys(d[0]),_=w.map(function(){return"left"});else if(Array.isArray(f)&&pt(f[0])==="object")for(w=f.map(function(de){return de.name}),N=f.map(function(de){return de.prompt||de.name||""}),_=f.map(function(de){return de.align||"left"}),p=0;p<f.length;p+=1)A[f[p].name]=f[p].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(N=w=f,_=w.map(function(){return"left"}));if(E||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<w.length;p+=1){for(C[x=w[p]]=d.map(function(de){return de[x]}),this.setFont(void 0,"bold"),B.push(this.getTextDimensions(N[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=C[x],this.setFont(void 0,"normal"),v=0;v<y.length;v+=1)B.push(this.getTextDimensions(y[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);A[x]=Math.max.apply(null,B)+P+P,B=[]}if(U){var ee={};for(p=0;p<w.length;p+=1)ee[w[p]]={},ee[w[p]].text=N[p],ee[w[p]].align=_[p];var re=o.call(this,ee,A);D=w.map(function(de){return new s(l,u,A[de],re,ee[de].text,void 0,ee[de].align)}),this.setTableHeaderRow(D),this.printHeaderRow(1,!1)}var W=f.reduce(function(de,Ce){return de[Ce.name]=Ce.align,de},{});for(p=0;p<d.length;p+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:p,data:d[p]},this);var Z=o.call(this,d[p],A);for(v=0;v<w.length;v+=1){var le=d[p][w[v]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:p,col:v,data:le},this),i.call(this,new s(l,u,A[w[v]],Z,le,p+2,W[w[v]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var o=function(l,u){var d=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(l).map(function(p){var y=l[p];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,u[p]-d-d)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/m+d+d},this).reduce(function(p,y){return Math.max(p,y)},0)};n.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},n.printHeaderRow=function(l,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){d=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,m.push(d)),d.lineNumber=l;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),i.call(this,d),this.setTextColor(y)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),e=!1}}(Qe.API);var sx={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},ix=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Bm=ax(ix),ox=[100,200,300,400,500,600,700,800,900],Y6=ax(ox);function qm(n){var t=n.family.replace(/"|'/g,"").toLowerCase(),e=function(s){return sx[s=s||"normal"]?s:"normal"}(n.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(n.weight),a=function(s){return typeof Bm[s=s||"normal"]=="number"?s:"normal"}(n.stretch);return{family:t,style:e,weight:r,stretch:a,src:n.src||[],ref:n.ref||{name:t,style:[a,e,r].join(" ")}}}function g1(n,t,e,r){var a;for(a=e;a>=0&&a<t.length;a+=r)if(n[t[a]])return n[t[a]];for(a=e;a>=0&&a<t.length;a-=r)if(n[t[a]])return n[t[a]]}var G6={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},v1={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function b1(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function K6(n,t,e){for(var r=(e=e||{}).defaultFontFamily||"times",a=Object.assign({},G6,e.genericFontFamilies||{}),s=null,i=null,o=0;o<t.length;++o)if(a[(s=qm(t[o])).family]&&(s.family=a[s.family]),n.hasOwnProperty(s.family)){i=n[s.family];break}if(!(i=i||n[r]))throw new Error("Could not find a font-family for the rule '"+b1(s)+"' and default family '"+r+"'.");if(i=function(l,u){if(u[l])return u[l];var d=Bm[l],f=d<=Bm.normal?-1:1,m=g1(u,ix,d,f);if(!m)throw new Error("Could not find a matching font-stretch value for "+l);return m}(s.stretch,i),i=function(l,u){if(u[l])return u[l];for(var d=sx[l],f=0;f<d.length;++f)if(u[d[f]])return u[d[f]];throw new Error("Could not find a matching font-style for "+l)}(s.style,i),!(i=function(l,u){if(u[l])return u[l];if(l===400&&u[500])return u[500];if(l===500&&u[400])return u[400];var d=Y6[l],f=g1(u,ox,d,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(s.weight,i)))throw new Error("Failed to resolve a font for the rule '"+b1(s)+"'.");return i}function y1(n){return n.trimLeft()}function J6(n,t){for(var e=0;e<n.length;){if(n.charAt(e)===t)return[n.substring(0,e),n.substring(e+1)];e+=1}return null}function X6(n){var t=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],n.substring(t[0].length)]}var bd,x1,w1,Fp=["times"];(function(n){var t,e,r,a,s,i,o,l,u,d=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new l,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new i,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new i,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,e=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,i=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,u=new d}]);var f=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Y=M;Object.defineProperty(this,"pdf",{get:function(){return Y}});var X=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return X},set:function(ve){X=!!ve}});var K=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return K},set:function(ve){K=!!ve}});var ne=0;Object.defineProperty(this,"posX",{get:function(){return ne},set:function(ve){isNaN(ve)||(ne=ve)}});var ue=0;Object.defineProperty(this,"posY",{get:function(){return ue},set:function(ve){isNaN(ve)||(ue=ve)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(ve){var te;typeof ve=="number"?te=[ve,ve,ve,ve]:((te=new Array(4))[0]=ve[0],te[1]=ve.length>=2?ve[1]:te[0],te[2]=ve.length>=3?ve[2]:te[0],te[3]=ve.length>=4?ve[3]:te[1]),u.margin=te}});var ae=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ae},set:function(ve){ae=ve}});var fe=0;Object.defineProperty(this,"lastBreak",{get:function(){return fe},set:function(ve){fe=ve}});var Ne=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ne},set:function(ve){Ne=ve}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(ve){ve instanceof d&&(u=ve)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(ve){u.path=ve}});var _e=[];Object.defineProperty(this,"ctxStack",{get:function(){return _e},set:function(ve){_e=ve}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ve){var te;te=m(ve),this.ctx.fillStyle=te.style,this.ctx.isFillTransparent=te.a===0,this.ctx.fillOpacity=te.a,this.pdf.setFillColor(te.r,te.g,te.b,{a:te.a}),this.pdf.setTextColor(te.r,te.g,te.b,{a:te.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ve){var te=m(ve);this.ctx.strokeStyle=te.style,this.ctx.isStrokeTransparent=te.a===0,this.ctx.strokeOpacity=te.a,te.a===0?this.pdf.setDrawColor(255,255,255):(te.a,this.pdf.setDrawColor(te.r,te.g,te.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ve){["butt","round","square"].indexOf(ve)!==-1&&(this.ctx.lineCap=ve,this.pdf.setLineCap(ve))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ve){isNaN(ve)||(this.ctx.lineWidth=ve,this.pdf.setLineWidth(ve))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ve){["bevel","round","miter"].indexOf(ve)!==-1&&(this.ctx.lineJoin=ve,this.pdf.setLineJoin(ve))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ve){isNaN(ve)||(this.ctx.miterLimit=ve,this.pdf.setMiterLimit(ve))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ve){this.ctx.textBaseline=ve}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ve){["right","end","center","left","start"].indexOf(ve)!==-1&&(this.ctx.textAlign=ve)}});var Oe=null;function Pe(ve,te){if(Oe===null){var He=function(Fe){var Ee=[];return Object.keys(Fe).forEach(function(Ae){Fe[Ae].forEach(function(Re){var Ie=null;switch(Re){case"bold":Ie={family:Ae,weight:"bold"};break;case"italic":Ie={family:Ae,style:"italic"};break;case"bolditalic":Ie={family:Ae,weight:"bold",style:"italic"};break;case"":case"normal":Ie={family:Ae}}Ie!==null&&(Ie.ref={name:Ae,style:Re},Ee.push(Ie))})}),Ee}(ve.getFontList());Oe=function(Fe){for(var Ee={},Ae=0;Ae<Fe.length;++Ae){var Re=qm(Fe[Ae]),Ie=Re.family,Ye=Re.stretch,et=Re.style,at=Re.weight;Ee[Ie]=Ee[Ie]||{},Ee[Ie][Ye]=Ee[Ie][Ye]||{},Ee[Ie][Ye][et]=Ee[Ie][Ye][et]||{},Ee[Ie][Ye][et][at]=Re}return Ee}(He.concat(te))}return Oe}var De=null;Object.defineProperty(this,"fontFaces",{get:function(){return De},set:function(ve){Oe=null,De=ve}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ve){var te;if(this.ctx.font=ve,(te=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ve))!==null){var He=te[1],Fe=(te[2],te[3]),Ee=te[4],Ae=(te[5],te[6]),Re=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ee)[2];Ee=Math.floor(Re==="px"?parseFloat(Ee)*this.pdf.internal.scaleFactor:Re==="em"?parseFloat(Ee)*this.pdf.getFontSize():parseFloat(Ee)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ee);var Ie=function(tt){var ft,Be,Mr=[],wt=tt.trim();if(wt==="")return Fp;if(wt in v1)return[v1[wt]];for(;wt!=="";){switch(Be=null,ft=(wt=y1(wt)).charAt(0)){case'"':case"'":Be=J6(wt.substring(1),ft);break;default:Be=X6(wt)}if(Be===null||(Mr.push(Be[0]),(wt=y1(Be[1]))!==""&&wt.charAt(0)!==","))return Fp;wt=wt.replace(/^,/,"")}return Mr}(Ae);if(this.fontFaces){var Ye=K6(Pe(this.pdf,this.fontFaces),Ie.map(function(tt){return{family:tt,stretch:"normal",weight:Fe,style:He}}));this.pdf.setFont(Ye.ref.name,Ye.ref.style)}else{var et="";(Fe==="bold"||parseInt(Fe,10)>=700||He==="bold")&&(et="bold"),He==="italic"&&(et+="italic"),et.length===0&&(et="normal");for(var at="",ut={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},mt=0;mt<Ie.length;mt++){if(this.pdf.internal.getFont(Ie[mt],et,{noFallback:!0,disableWarning:!0})!==void 0){at=Ie[mt];break}if(et==="bolditalic"&&this.pdf.internal.getFont(Ie[mt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)at=Ie[mt],et="bold";else if(this.pdf.internal.getFont(Ie[mt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){at=Ie[mt],et="normal";break}}if(at===""){for(var St=0;St<Ie.length;St++)if(ut[Ie[St]]){at=ut[Ie[St]];break}}at=at===""?"Times":at,this.pdf.setFont(at,et)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ve){this.ctx.globalCompositeOperation=ve}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ve){this.ctx.globalAlpha=ve}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ve){this.ctx.lineDashOffset=ve,Ce.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ve){this.ctx.lineDash=ve,Ce.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ve){this.ctx.ignoreClearRect=!!ve}})};f.prototype.setLineDash=function(M){this.lineDash=M},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){C.call(this,"fill",!1)},f.prototype.stroke=function(){C.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(M,Y){if(isNaN(M)||isNaN(Y))throw It.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var X=this.ctx.transform.applyToPoint(new i(M,Y));this.path.push({type:"mt",x:X.x,y:X.y}),this.ctx.lastPoint=new i(M,Y)},f.prototype.closePath=function(){var M=new i(0,0),Y=0;for(Y=this.path.length-1;Y!==-1;Y--)if(this.path[Y].type==="begin"&&pt(this.path[Y+1])==="object"&&typeof this.path[Y+1].x=="number"){M=new i(this.path[Y+1].x,this.path[Y+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new i(M.x,M.y)},f.prototype.lineTo=function(M,Y){if(isNaN(M)||isNaN(Y))throw It.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var X=this.ctx.transform.applyToPoint(new i(M,Y));this.path.push({type:"lt",x:X.x,y:X.y}),this.ctx.lastPoint=new i(X.x,X.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),C.call(this,null,!0)},f.prototype.quadraticCurveTo=function(M,Y,X,K){if(isNaN(X)||isNaN(K)||isNaN(M)||isNaN(Y))throw It.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ne=this.ctx.transform.applyToPoint(new i(X,K)),ue=this.ctx.transform.applyToPoint(new i(M,Y));this.path.push({type:"qct",x1:ue.x,y1:ue.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new i(ne.x,ne.y)},f.prototype.bezierCurveTo=function(M,Y,X,K,ne,ue){if(isNaN(ne)||isNaN(ue)||isNaN(M)||isNaN(Y)||isNaN(X)||isNaN(K))throw It.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ae=this.ctx.transform.applyToPoint(new i(ne,ue)),fe=this.ctx.transform.applyToPoint(new i(M,Y)),Ne=this.ctx.transform.applyToPoint(new i(X,K));this.path.push({type:"bct",x1:fe.x,y1:fe.y,x2:Ne.x,y2:Ne.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new i(ae.x,ae.y)},f.prototype.arc=function(M,Y,X,K,ne,ue){if(isNaN(M)||isNaN(Y)||isNaN(X)||isNaN(K)||isNaN(ne))throw It.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ue=!!ue,!this.ctx.transform.isIdentity){var ae=this.ctx.transform.applyToPoint(new i(M,Y));M=ae.x,Y=ae.y;var fe=this.ctx.transform.applyToPoint(new i(0,X)),Ne=this.ctx.transform.applyToPoint(new i(0,0));X=Math.sqrt(Math.pow(fe.x-Ne.x,2)+Math.pow(fe.y-Ne.y,2))}Math.abs(ne-K)>=2*Math.PI&&(K=0,ne=2*Math.PI),this.path.push({type:"arc",x:M,y:Y,radius:X,startAngle:K,endAngle:ne,counterclockwise:ue})},f.prototype.arcTo=function(M,Y,X,K,ne){throw new Error("arcTo not implemented.")},f.prototype.rect=function(M,Y,X,K){if(isNaN(M)||isNaN(Y)||isNaN(X)||isNaN(K))throw It.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,Y),this.lineTo(M+X,Y),this.lineTo(M+X,Y+K),this.lineTo(M,Y+K),this.lineTo(M,Y),this.lineTo(M+X,Y),this.lineTo(M,Y)},f.prototype.fillRect=function(M,Y,X,K){if(isNaN(M)||isNaN(Y)||isNaN(X)||isNaN(K))throw It.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var ne={};this.lineCap!=="butt"&&(ne.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ne.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,Y,X,K),this.fill(),ne.hasOwnProperty("lineCap")&&(this.lineCap=ne.lineCap),ne.hasOwnProperty("lineJoin")&&(this.lineJoin=ne.lineJoin)}},f.prototype.strokeRect=function(M,Y,X,K){if(isNaN(M)||isNaN(Y)||isNaN(X)||isNaN(K))throw It.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(M,Y,X,K),this.stroke())},f.prototype.clearRect=function(M,Y,X,K){if(isNaN(M)||isNaN(Y)||isNaN(X)||isNaN(K))throw It.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,Y,X,K))},f.prototype.save=function(M){M=typeof M!="boolean"||M;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("q");if(this.pdf.setPage(Y),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var K=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=K}},f.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("Q");this.pdf.setPage(Y),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(M){var Y,X,K,ne;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))Y=0,X=0,K=0,ne=0;else{var ue=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(ue!==null)Y=parseInt(ue[1]),X=parseInt(ue[2]),K=parseInt(ue[3]),ne=1;else if((ue=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)Y=parseInt(ue[1]),X=parseInt(ue[2]),K=parseInt(ue[3]),ne=parseFloat(ue[4]);else{if(ne=1,typeof M=="string"&&M.charAt(0)!=="#"){var ae=new Q2(M);M=ae.ok?ae.toHex():"#000000"}M.length===4?(Y=M.substring(1,2),Y+=Y,X=M.substring(2,3),X+=X,K=M.substring(3,4),K+=K):(Y=M.substring(1,3),X=M.substring(3,5),K=M.substring(5,7)),Y=parseInt(Y,16),X=parseInt(X,16),K=parseInt(K,16)}}return{r:Y,g:X,b:K,a:ne,style:M}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(M,Y,X,K){if(isNaN(Y)||isNaN(X)||typeof M!="string")throw It.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(K=isNaN(K)?void 0:K,!p.call(this)){var ne=Z(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;P.call(this,{text:M,x:Y,y:X,scale:ue,angle:ne,align:this.textAlign,maxWidth:K})}},f.prototype.strokeText=function(M,Y,X,K){if(isNaN(Y)||isNaN(X)||typeof M!="string")throw It.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){K=isNaN(K)?void 0:K;var ne=Z(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;P.call(this,{text:M,x:Y,y:X,scale:ue,renderingMode:"stroke",angle:ne,align:this.textAlign,maxWidth:K})}},f.prototype.measureText=function(M){if(typeof M!="string")throw It.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Y=this.pdf,X=this.pdf.internal.scaleFactor,K=Y.internal.getFontSize(),ne=Y.getStringUnitWidth(M)*K/Y.internal.scaleFactor,ue=function(ae){var fe=(ae=ae||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return fe}}),this};return new ue({width:ne*=Math.round(96*X/72*1e4)/1e4})},f.prototype.scale=function(M,Y){if(isNaN(M)||isNaN(Y))throw It.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var X=new l(M,0,0,Y,0,0);this.ctx.transform=this.ctx.transform.multiply(X)},f.prototype.rotate=function(M){if(isNaN(M))throw It.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Y=new l(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},f.prototype.translate=function(M,Y){if(isNaN(M)||isNaN(Y))throw It.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var X=new l(1,0,0,1,M,Y);this.ctx.transform=this.ctx.transform.multiply(X)},f.prototype.transform=function(M,Y,X,K,ne,ue){if(isNaN(M)||isNaN(Y)||isNaN(X)||isNaN(K)||isNaN(ne)||isNaN(ue))throw It.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ae=new l(M,Y,X,K,ne,ue);this.ctx.transform=this.ctx.transform.multiply(ae)},f.prototype.setTransform=function(M,Y,X,K,ne,ue){M=isNaN(M)?1:M,Y=isNaN(Y)?0:Y,X=isNaN(X)?0:X,K=isNaN(K)?1:K,ne=isNaN(ne)?0:ne,ue=isNaN(ue)?0:ue,this.ctx.transform=new l(M,Y,X,K,ne,ue)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(M,Y,X,K,ne,ue,ae,fe,Ne){var _e=this.pdf.getImageProperties(M),Oe=1,Pe=1,De=1,ve=1;K!==void 0&&fe!==void 0&&(De=fe/K,ve=Ne/ne,Oe=_e.width/K*fe/K,Pe=_e.height/ne*Ne/ne),ue===void 0&&(ue=Y,ae=X,Y=0,X=0),K!==void 0&&fe===void 0&&(fe=K,Ne=ne),K===void 0&&fe===void 0&&(fe=_e.width,Ne=_e.height);for(var te,He=this.ctx.transform.decompose(),Fe=Z(He.rotate.shx),Ee=new l,Ae=(Ee=(Ee=(Ee=Ee.multiply(He.translate)).multiply(He.skew)).multiply(He.scale)).applyToRectangle(new o(ue-Y*De,ae-X*ve,K*Oe,ne*Pe)),Re=x.call(this,Ae),Ie=[],Ye=0;Ye<Re.length;Ye+=1)Ie.indexOf(Re[Ye])===-1&&Ie.push(Re[Ye]);if(_(Ie),this.autoPaging)for(var et=Ie[0],at=Ie[Ie.length-1],ut=et;ut<at+1;ut++){this.pdf.setPage(ut);var mt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],St=ut===1?this.posY+this.margin[0]:this.margin[0],tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ft=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Be=ut===1?0:tt+(ut-2)*ft;if(this.ctx.clip_path.length!==0){var Mr=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(te,this.posX+this.margin[3],-Be+St+this.ctx.prevPageLastElemOffset),A.call(this,"fill",!0),this.path=Mr}var wt=JSON.parse(JSON.stringify(Ae));wt=N([wt],this.posX+this.margin[3],-Be+St+this.ctx.prevPageLastElemOffset)[0];var Zn=(ut>et||ut<at)&&v.call(this);Zn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],mt,ft,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",wt.x,wt.y,wt.w,wt.h,null,null,Fe),Zn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",Ae.x,Ae.y,Ae.w,Ae.h,null,null,Fe)};var x=function(M,Y,X){var K=[];Y=Y||this.pdf.internal.pageSize.width,X=X||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ne=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":K.push(Math.floor((M.y+ne)/X)+1);break;case"arc":K.push(Math.floor((M.y+ne-M.radius)/X)+1),K.push(Math.floor((M.y+ne+M.radius)/X)+1);break;case"qct":var ue=le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);K.push(Math.floor((ue.y+ne)/X)+1),K.push(Math.floor((ue.y+ue.h+ne)/X)+1);break;case"bct":var ae=de(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);K.push(Math.floor((ae.y+ne)/X)+1),K.push(Math.floor((ae.y+ae.h+ne)/X)+1);break;case"rect":K.push(Math.floor((M.y+ne)/X)+1),K.push(Math.floor((M.y+M.h+ne)/X)+1)}for(var fe=0;fe<K.length;fe+=1)for(;this.pdf.internal.getNumberOfPages()<K[fe];)w.call(this);return K},w=function(){var M=this.fillStyle,Y=this.strokeStyle,X=this.font,K=this.lineCap,ne=this.lineWidth,ue=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=Y,this.font=X,this.lineCap=K,this.lineWidth=ne,this.lineJoin=ue},N=function(M,Y,X){for(var K=0;K<M.length;K++)switch(M[K].type){case"bct":M[K].x2+=Y,M[K].y2+=X;case"qct":M[K].x1+=Y,M[K].y1+=X;case"mt":case"lt":case"arc":default:M[K].x+=Y,M[K].y+=X}return M},_=function(M){return M.sort(function(Y,X){return Y-X})},C=function(M,Y){for(var X,K,ne=this.fillStyle,ue=this.strokeStyle,ae=this.lineCap,fe=this.lineWidth,Ne=Math.abs(fe*this.ctx.transform.scaleX),_e=this.lineJoin,Oe=JSON.parse(JSON.stringify(this.path)),Pe=JSON.parse(JSON.stringify(this.path)),De=[],ve=0;ve<Pe.length;ve++)if(Pe[ve].x!==void 0)for(var te=x.call(this,Pe[ve]),He=0;He<te.length;He+=1)De.indexOf(te[He])===-1&&De.push(te[He]);for(var Fe=0;Fe<De.length;Fe++)for(;this.pdf.internal.getNumberOfPages()<De[Fe];)w.call(this);if(_(De),this.autoPaging)for(var Ee=De[0],Ae=De[De.length-1],Re=Ee;Re<Ae+1;Re++){this.pdf.setPage(Re),this.fillStyle=ne,this.strokeStyle=ue,this.lineCap=ae,this.lineWidth=Ne,this.lineJoin=_e;var Ie=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ye=Re===1?this.posY+this.margin[0]:this.margin[0],et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],at=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ut=Re===1?0:et+(Re-2)*at;if(this.ctx.clip_path.length!==0){var mt=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(X,this.posX+this.margin[3],-ut+Ye+this.ctx.prevPageLastElemOffset),A.call(this,M,!0),this.path=mt}if(K=JSON.parse(JSON.stringify(Oe)),this.path=N(K,this.posX+this.margin[3],-ut+Ye+this.ctx.prevPageLastElemOffset),Y===!1||Re===0){var St=(Re>Ee||Re<Ae)&&v.call(this);St&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ie,at,null).clip().discardPath()),A.call(this,M,Y),St&&this.pdf.restoreGraphicsState()}this.lineWidth=fe}else this.lineWidth=Ne,A.call(this,M,Y),this.lineWidth=fe;this.path=Oe},A=function(M,Y){if((M!=="stroke"||Y||!y.call(this))&&(M==="stroke"||Y||!p.call(this))){for(var X,K,ne=[],ue=this.path,ae=0;ae<ue.length;ae++){var fe=ue[ae];switch(fe.type){case"begin":ne.push({begin:!0});break;case"close":ne.push({close:!0});break;case"mt":ne.push({start:fe,deltas:[],abs:[]});break;case"lt":var Ne=ne.length;if(ue[ae-1]&&!isNaN(ue[ae-1].x)&&(X=[fe.x-ue[ae-1].x,fe.y-ue[ae-1].y],Ne>0)){for(;Ne>=0;Ne--)if(ne[Ne-1].close!==!0&&ne[Ne-1].begin!==!0){ne[Ne-1].deltas.push(X),ne[Ne-1].abs.push(fe);break}}break;case"bct":X=[fe.x1-ue[ae-1].x,fe.y1-ue[ae-1].y,fe.x2-ue[ae-1].x,fe.y2-ue[ae-1].y,fe.x-ue[ae-1].x,fe.y-ue[ae-1].y],ne[ne.length-1].deltas.push(X);break;case"qct":var _e=ue[ae-1].x+2/3*(fe.x1-ue[ae-1].x),Oe=ue[ae-1].y+2/3*(fe.y1-ue[ae-1].y),Pe=fe.x+2/3*(fe.x1-fe.x),De=fe.y+2/3*(fe.y1-fe.y),ve=fe.x,te=fe.y;X=[_e-ue[ae-1].x,Oe-ue[ae-1].y,Pe-ue[ae-1].x,De-ue[ae-1].y,ve-ue[ae-1].x,te-ue[ae-1].y],ne[ne.length-1].deltas.push(X);break;case"arc":ne.push({deltas:[],abs:[],arc:!0}),Array.isArray(ne[ne.length-1].abs)&&ne[ne.length-1].abs.push(fe)}}K=Y?null:M==="stroke"?"stroke":"fill";for(var He=!1,Fe=0;Fe<ne.length;Fe++)if(ne[Fe].arc)for(var Ee=ne[Fe].abs,Ae=0;Ae<Ee.length;Ae++){var Re=Ee[Ae];Re.type==="arc"?E.call(this,Re.x,Re.y,Re.radius,Re.startAngle,Re.endAngle,Re.counterclockwise,void 0,Y,!He):F.call(this,Re.x,Re.y),He=!0}else if(ne[Fe].close===!0)this.pdf.internal.out("h"),He=!1;else if(ne[Fe].begin!==!0){var Ie=ne[Fe].start.x,Ye=ne[Fe].start.y;I.call(this,ne[Fe].deltas,Ie,Ye),He=!0}K&&U.call(this,K),Y&&L.call(this)}},B=function(M){var Y=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,X=Y*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-X;case"top":return M+Y-X;case"hanging":return M+Y-2*X;case"middle":return M+Y/2-X;case"ideographic":return M;case"alphabetic":default:return M}},D=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(Y,X){this.colorStops.push([Y,X])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var E=function(M,Y,X,K,ne,ue,ae,fe,Ne){for(var _e=re.call(this,X,K,ne,ue),Oe=0;Oe<_e.length;Oe++){var Pe=_e[Oe];Oe===0&&(Ne?k.call(this,Pe.x1+M,Pe.y1+Y):F.call(this,Pe.x1+M,Pe.y1+Y)),ee.call(this,M,Y,Pe.x2,Pe.y2,Pe.x3,Pe.y3,Pe.x4,Pe.y4)}fe?L.call(this):U.call(this,ae)},U=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},L=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(M,Y){this.pdf.internal.out(e(M)+" "+r(Y)+" m")},P=function(M){var Y;switch(M.align){case"right":case"end":Y="right";break;case"center":Y="center";break;case"left":case"start":default:Y="left"}var X=this.pdf.getTextDimensions(M.text),K=B.call(this,M.y),ne=D.call(this,K)-X.h,ue=this.ctx.transform.applyToPoint(new i(M.x,K)),ae=this.ctx.transform.decompose(),fe=new l;fe=(fe=(fe=fe.multiply(ae.translate)).multiply(ae.skew)).multiply(ae.scale);for(var Ne,_e,Oe,Pe=this.ctx.transform.applyToRectangle(new o(M.x,K,X.w,X.h)),De=fe.applyToRectangle(new o(M.x,ne,X.w,X.h)),ve=x.call(this,De),te=[],He=0;He<ve.length;He+=1)te.indexOf(ve[He])===-1&&te.push(ve[He]);if(_(te),this.autoPaging)for(var Fe=te[0],Ee=te[te.length-1],Ae=Fe;Ae<Ee+1;Ae++){this.pdf.setPage(Ae);var Re=Ae===1?this.posY+this.margin[0]:this.margin[0],Ie=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ye=this.pdf.internal.pageSize.height-this.margin[2],et=Ye-this.margin[0],at=this.pdf.internal.pageSize.width-this.margin[1],ut=at-this.margin[3],mt=Ae===1?0:Ie+(Ae-2)*et;if(this.ctx.clip_path.length!==0){var St=this.path;Ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(Ne,this.posX+this.margin[3],-1*mt+Re),A.call(this,"fill",!0),this.path=St}var tt=N([JSON.parse(JSON.stringify(De))],this.posX+this.margin[3],-mt+Re+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(_e=this.pdf.internal.getFontSize(),this.pdf.setFontSize(_e*M.scale),Oe=this.lineWidth,this.lineWidth=Oe*M.scale);var ft=this.autoPaging!=="text";if(ft||tt.y+tt.h<=Ye){if(ft||tt.y>=Re&&tt.x<=at){var Be=ft?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||at-tt.x)[0],Mr=N([JSON.parse(JSON.stringify(Pe))],this.posX+this.margin[3],-mt+Re+this.ctx.prevPageLastElemOffset)[0],wt=ft&&(Ae>Fe||Ae<Ee)&&v.call(this);wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ut,et,null).clip().discardPath()),this.pdf.text(Be,Mr.x,Mr.y,{angle:M.angle,align:Y,renderingMode:M.renderingMode}),wt&&this.pdf.restoreGraphicsState()}}else tt.y<Ye&&(this.ctx.prevPageLastElemOffset+=Ye-tt.y);M.scale>=.01&&(this.pdf.setFontSize(_e),this.lineWidth=Oe)}else M.scale>=.01&&(_e=this.pdf.internal.getFontSize(),this.pdf.setFontSize(_e*M.scale),Oe=this.lineWidth,this.lineWidth=Oe*M.scale),this.pdf.text(M.text,ue.x+this.posX,ue.y+this.posY,{angle:M.angle,align:Y,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(_e),this.lineWidth=Oe)},F=function(M,Y,X,K){X=X||0,K=K||0,this.pdf.internal.out(e(M+X)+" "+r(Y+K)+" l")},I=function(M,Y,X){return this.pdf.lines(M,Y,X,null,null)},ee=function(M,Y,X,K,ne,ue,ae,fe){this.pdf.internal.out([t(a(X+M)),t(s(K+Y)),t(a(ne+M)),t(s(ue+Y)),t(a(ae+M)),t(s(fe+Y)),"c"].join(" "))},re=function(M,Y,X,K){for(var ne=2*Math.PI,ue=Math.PI/2;Y>X;)Y-=ne;var ae=Math.abs(X-Y);ae<ne&&K&&(ae=ne-ae);for(var fe=[],Ne=K?-1:1,_e=Y;ae>1e-5;){var Oe=_e+Ne*Math.min(ae,ue);fe.push(W.call(this,M,_e,Oe)),ae-=Math.abs(Oe-_e),_e=Oe}return fe},W=function(M,Y,X){var K=(X-Y)/2,ne=M*Math.cos(K),ue=M*Math.sin(K),ae=ne,fe=-ue,Ne=ae*ae+fe*fe,_e=Ne+ae*ne+fe*ue,Oe=4/3*(Math.sqrt(2*Ne*_e)-_e)/(ae*ue-fe*ne),Pe=ae-Oe*fe,De=fe+Oe*ae,ve=Pe,te=-De,He=K+Y,Fe=Math.cos(He),Ee=Math.sin(He);return{x1:M*Math.cos(Y),y1:M*Math.sin(Y),x2:Pe*Fe-De*Ee,y2:Pe*Ee+De*Fe,x3:ve*Fe-te*Ee,y3:ve*Ee+te*Fe,x4:M*Math.cos(X),y4:M*Math.sin(X)}},Z=function(M){return 180*M/Math.PI},le=function(M,Y,X,K,ne,ue){var ae=M+.5*(X-M),fe=Y+.5*(K-Y),Ne=ne+.5*(X-ne),_e=ue+.5*(K-ue),Oe=Math.min(M,ne,ae,Ne),Pe=Math.max(M,ne,ae,Ne),De=Math.min(Y,ue,fe,_e),ve=Math.max(Y,ue,fe,_e);return new o(Oe,De,Pe-Oe,ve-De)},de=function(M,Y,X,K,ne,ue,ae,fe){var Ne,_e,Oe,Pe,De,ve,te,He,Fe,Ee,Ae,Re,Ie,Ye,et=X-M,at=K-Y,ut=ne-X,mt=ue-K,St=ae-ne,tt=fe-ue;for(_e=0;_e<41;_e++)Fe=(te=(Oe=M+(Ne=_e/40)*et)+Ne*((De=X+Ne*ut)-Oe))+Ne*(De+Ne*(ne+Ne*St-De)-te),Ee=(He=(Pe=Y+Ne*at)+Ne*((ve=K+Ne*mt)-Pe))+Ne*(ve+Ne*(ue+Ne*tt-ve)-He),_e==0?(Ae=Fe,Re=Ee,Ie=Fe,Ye=Ee):(Ae=Math.min(Ae,Fe),Re=Math.min(Re,Ee),Ie=Math.max(Ie,Fe),Ye=Math.max(Ye,Ee));return new o(Math.round(Ae),Math.round(Re),Math.round(Ie-Ae),Math.round(Ye-Re))},Ce=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,Y,X=(M=this.ctx.lineDash,Y=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:Y}));this.prevLineDash!==X&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=X)}}})(Qe.API),function(n){var t=function(s){var i,o,l,u,d,f,m,p,y,v;for(o=[],l=0,u=(s+=i="\0\0\0\0".slice(s.length%4||4)).length;u>l;l+=4)(d=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(f=(d=((d=((d=((d=(d-(v=d%85))/85)-(y=d%85))/85)-(p=d%85))/85)-(m=d%85))/85)%85,o.push(f+33,m+33,p+33,y+33,v+33)):o.push(122);return function(x,w){for(var N=w;N>0;N--)x.pop()}(o,i.length),String.fromCharCode.apply(String,o)+"~>"},e=function(s){var i,o,l,u,d,f=String,m="length",p=255,y="charCodeAt",v="slice",x="replace";for(s[v](-2),s=s[v](0,-2)[x](/\s/g,"")[x]("z","!!!!!"),l=[],u=0,d=(s+=i="uuuuu"[v](s[m]%5||5))[m];d>u;u+=5)o=52200625*(s[y](u)-33)+614125*(s[y](u+1)-33)+7225*(s[y](u+2)-33)+85*(s[y](u+3)-33)+(s[y](u+4)-33),l.push(p&o>>24,p&o>>16,p&o>>8,p&o);return function(w,N){for(var _=N;_>0;_--)w.pop()}(l,i[m]),f.fromCharCode.apply(f,l)},r=function(s){var i=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),i.test(s)===!1)return"";for(var o="",l=0;l<s.length;l+=2)o+=String.fromCharCode("0x"+(s[l]+s[l+1]));return o},a=function(s){for(var i=new Uint8Array(s.length),o=s.length;o--;)i[o]=s.charCodeAt(o);return s=(i=Mm(i)).reduce(function(l,u){return l+String.fromCharCode(u)},"")};n.processDataByFilters=function(s,i){var o=0,l=s||"",u=[];for(typeof(i=i||[])=="string"&&(i=[i]),o=0;o<i.length;o+=1)switch(i[o]){case"ASCII85Decode":case"/ASCII85Decode":l=e(l),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=a(l),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+i[o]+'" is not implemented')}return{data:l,reverseChain:u.reverse().join(" ")}}}(Qe.API),function(n){n.loadFile=function(t,e,r){return function(a,s,i){s=s!==!1,i=typeof i=="function"?i:function(){};var o=void 0;try{o=function(l,u,d){var f=new XMLHttpRequest,m=0,p=function(y){var v=y.length,x=[],w=String.fromCharCode;for(m=0;m<v;m+=1)x.push(w(255&y.charCodeAt(m)));return x.join("")};if(f.open("GET",l,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?d(p(this.responseText)):d(void 0)}),f.send(null),u&&f.status===200)return p(f.responseText)}(a,s,i)}catch{}return o}(t,e,r)},n.loadImageFile=n.loadFile}(Qe.API),function(n){function t(){return(Ze.html2canvas?Promise.resolve(Ze.html2canvas):ga(()=>import("./html2canvas.esm-DadlvMMh.js"),[])).catch(function(i){return Promise.reject(new Error("Could not load html2canvas: "+i))}).then(function(i){return i.default?i.default:i})}function e(){return(Ze.DOMPurify?Promise.resolve(Ze.DOMPurify):ga(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(i){return Promise.reject(new Error("Could not load dompurify: "+i))}).then(function(i){return i.default?i.default:i})}var r=function(i){var o=pt(i);return o==="undefined"?"undefined":o==="string"||i instanceof String?"string":o==="number"||i instanceof Number?"number":o==="function"||i instanceof Function?"function":i&&i.constructor===Array?"array":i&&i.nodeType===1?"element":o==="object"?"object":"unknown"},a=function(i,o){var l=document.createElement(i);for(var u in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[u]=o.style[u];return l},s=function i(o){var l=Object.assign(i.convert(Promise.resolve()),JSON.parse(JSON.stringify(i.template))),u=i.convert(Promise.resolve(),l);return u=(u=u.setProgress(1,i,1,[i])).set(o)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(i,o){return i.__proto__=o||s.prototype,i},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(i,o){return this.then(function(){switch(o=o||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(i)){case"string":return this.then(e).then(function(l){return this.set({src:a("div",{innerHTML:i,dompurify:l})})});case"element":return this.set({src:i});case"canvas":return this.set({canvas:i});case"img":return this.set({img:i});default:return this.error("Unknown source type.")}})},s.prototype.to=function(i){switch(i){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var i={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(u,d){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),m=u.firstChild;m;m=m.nextSibling)d!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||f.appendChild(l(m,d));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(i.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:i}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var i=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(i).then(t).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var i=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(i).then(t).then(function(o){var l=this.opt.jsPDF,u=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=u,u)for(var m=0;m<u.length;++m){var p=u[m],y=p.src.find(function(v){return v.format==="truetype"});y&&l.addFont(y.url,p.ref.name,p.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),o(this.prop.container,f)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var i=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=i})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(i,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(i,o):this.outputPdf(i,o)},s.prototype.outputPdf=function(i,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(i,o)})},s.prototype.outputImg=function(i){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(i){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+i+'" is not supported.'}})},s.prototype.save=function(i){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(i?{filename:i}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(i){if(r(i)!=="object")return this;var o=Object.keys(i||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=i[l]};switch(l){case"margin":return this.setMargin.bind(this,i.margin);case"jsPDF":return function(){return this.opt.jsPDF=i.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,i.pageSize);default:return function(){this.opt[l]=i[l]}}},this);return this.then(function(){return this.thenList(o)})},s.prototype.get=function(i,o){return this.then(function(){var l=i in s.template.prop?this.prop[i]:this.opt[i];return o?o(l):l})},s.prototype.setMargin=function(i){return this.then(function(){switch(r(i)){case"number":i=[i,i,i,i];case"array":if(i.length===2&&(i=[i[0],i[1],i[0],i[1]]),i.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=i}).then(this.setPageSize)},s.prototype.setPageSize=function(i){function o(l,u){return Math.floor(l*u/72*96)}return this.then(function(){(i=i||Qe.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(i.inner={width:i.width-this.opt.margin[1]-this.opt.margin[3],height:i.height-this.opt.margin[0]-this.opt.margin[2]},i.inner.px={width:o(i.inner.width,i.k),height:o(i.inner.height,i.k)},i.inner.ratio=i.inner.height/i.inner.width),this.prop.pageSize=i})},s.prototype.setProgress=function(i,o,l,u){return i!=null&&(this.progress.val=i),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(i,o,l,u){return this.setProgress(i?this.progress.val+i:null,o||null,l?this.progress.n+l:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(i,o){var l=this;return this.thenCore(i,o,function(u,d){return l.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,u),f}).then(u,d).then(function(f){return l.updateProgress(1),f})})},s.prototype.thenCore=function(i,o,l){l=l||Promise.prototype.then,i&&(i=i.bind(this)),o&&(o=o.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),d=l.call(u,i,o);return s.convert(d,this.__proto__)},s.prototype.thenExternal=function(i,o){return Promise.prototype.then.call(this,i,o)},s.prototype.thenList=function(i){var o=this;return i.forEach(function(l){o=o.thenCore(l)}),o},s.prototype.catch=function(i){i&&(i=i.bind(this));var o=Promise.prototype.catch.call(this,i);return s.convert(o,this)},s.prototype.catchExternal=function(i){return Promise.prototype.catch.call(this,i)},s.prototype.error=function(i){return this.then(function(){throw new Error(i)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Qe.getPageSize=function(i,o,l){if(pt(i)==="object"){var u=i;i=u.orientation,o=u.unit||o,l=u.format||l}o=o||"mm",l=l||"a4",i=(""+(i||"P")).toLowerCase();var d,f=(""+l).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+o}var p,y=0,v=0;if(m.hasOwnProperty(f))y=m[f][1]/d,v=m[f][0]/d;else try{y=l[1],v=l[0]}catch{throw new Error("Invalid format: "+l)}if(i==="p"||i==="portrait")i="p",v>y&&(p=v,v=y,y=p);else{if(i!=="l"&&i!=="landscape")throw"Invalid orientation: "+i;i="l",y>v&&(p=v,v=y,y=p)}return{width:v,height:y,unit:o,k:d,orientation:i}},n.html=function(i,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(qm):null;var l=new s(o);return o.worker?l:l.from(i).doCallback()}}(Qe.API),Qe.API.addJS=function(n){return w1=n,this.internal.events.subscribe("postPutResources",function(){bd=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(bd+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),x1=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+w1+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){bd!==void 0&&x1!==void 0&&this.internal.out("/Names <</JavaScript "+bd+" 0 R>>")}),this},function(n){var t;n.events.push(["postPutResources",function(){var e=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=e.outline.render().split(/\r\n/),s=0;s<a.length;s++){var i=a[s],o=r.exec(i);if(o!=null){var l=o[1];e.internal.newObjectDeferredBegin(l,!1)}e.internal.write(i)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(s=0;s<u;s++){var f=e.internal.newObject();d.push(f);var m=e.internal.getPageInfo(s+1);e.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var p=e.internal.newObject();for(e.internal.write("<< /Names [ "),s=0;s<d.length;s++)e.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+p+" 0 R"),e.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),n.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(r,a,s){var i={title:a,options:s,children:[]};return r==null&&(r=this.root),r.children.push(i),i},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(r){r.id=e.internal.newObjectDeferred();for(var a=0;a<r.children.length;a++)this.genIds_r(r.children[a])},e.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},e.outline.renderItems=function(r){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var i=r.children[s];this.objStart(i),this.line("/Title "+this.makeString(i.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1])));var o=this.count=this.count_r({count:0},i);if(o>0&&this.line("/Count "+o),i.options&&i.options.pageNumber){var l=e.internal.getPageInfo(i.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},e.outline.line=function(r){this.ctx.val+=r+`\r
`},e.outline.makeRef=function(r){return r.id+" 0 R"},e.outline.makeString=function(r){return"("+e.internal.pdfEscape(r)+")"},e.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(r,a){for(var s=0;s<a.children.length;s++)r.count++,this.count_r(r,a.children[s]);return r.count}}])}(Qe.API),function(n){var t=[192,193,194,195,196,197,198,199];n.processJPEG=function(e,r,a,s,i,o){var l,u=this.decode.DCT_DECODE,d=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=i||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(l=function(f){for(var m,p=256*f.charCodeAt(4)+f.charCodeAt(5),y=f.length,v={width:0,height:0,numcomponents:1},x=4;x<y;x+=2){if(x+=p,t.indexOf(f.charCodeAt(x+1))!==-1){m=256*f.charCodeAt(x+5)+f.charCodeAt(x+6),v={width:256*f.charCodeAt(x+7)+f.charCodeAt(x+8),height:m,numcomponents:f.charCodeAt(x+9)};break}p=256*f.charCodeAt(x+2)+f.charCodeAt(x+3)}return v}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}d={data:e,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:u,index:r,alias:a}}return d}}(Qe.API);var Po,yd,S1,N1,_1,Q6=function(){var n,t,e;function r(s){var i,o,l,u,d,f,m,p,y,v,x,w,N,_;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(i=this.readUInt32(),y=(function(){var C,A;for(A=[],C=0;C<4;++C)A.push(String.fromCharCode(this.data[this.pos++]));return A}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(i);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),u=this.readUInt16()||100,f.delay=1e3*d/u,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(y==="fdAT"&&(this.pos+=4,i-=4),s=(f!=null?f.data:void 0)||this.imgData,w=0;0<=i?w<i:w>i;0<=i?++w:--w)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(i),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((v=l-this.transparency.indexed.length)>0)for(N=0;0<=v?N<v:N>v;0<=v?++N:--N)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(i)[0];break;case 2:this.transparency.rgb=this.read(i)}break;case"tEXt":m=(x=this.read(i)).indexOf(0),p=String.fromCharCode.apply(String,x.slice(0,m)),this.text[p]=String.fromCharCode.apply(String,x.slice(m+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(_=this.colorType)===4||_===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=i}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var i,o;for(o=[],i=0;0<=s?i<s:i>s;0<=s?++i:--i)o.push(this.data[this.pos++]);return o},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var i=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*i),l=0,u=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function d(f,m,p,y){var v,x,w,N,_,C,A,B,D,E,U,L,k,P,F,I,ee,re,W,Z,le,de=Math.ceil((u.width-f)/p),Ce=Math.ceil((u.height-m)/y),M=u.width==de&&u.height==Ce;for(P=i*de,L=M?o:new Uint8Array(P*Ce),C=s.length,k=0,x=0;k<Ce&&l<C;){switch(s[l++]){case 0:for(N=ee=0;ee<P;N=ee+=1)L[x++]=s[l++];break;case 1:for(N=re=0;re<P;N=re+=1)v=s[l++],_=N<i?0:L[x-i],L[x++]=(v+_)%256;break;case 2:for(N=W=0;W<P;N=W+=1)v=s[l++],w=(N-N%i)/i,F=k&&L[(k-1)*P+w*i+N%i],L[x++]=(F+v)%256;break;case 3:for(N=Z=0;Z<P;N=Z+=1)v=s[l++],w=(N-N%i)/i,_=N<i?0:L[x-i],F=k&&L[(k-1)*P+w*i+N%i],L[x++]=(v+Math.floor((_+F)/2))%256;break;case 4:for(N=le=0;le<P;N=le+=1)v=s[l++],w=(N-N%i)/i,_=N<i?0:L[x-i],k===0?F=I=0:(F=L[(k-1)*P+w*i+N%i],I=w&&L[(k-1)*P+(w-1)*i+N%i]),A=_+F-I,B=Math.abs(A-_),E=Math.abs(A-F),U=Math.abs(A-I),D=B<=E&&B<=U?_:E<=U?F:I,L[x++]=(v+D)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!M){var Y=((m+k*y)*u.width+f)*i,X=k*P;for(N=0;N<de;N+=1){for(var K=0;K<i;K+=1)o[Y++]=L[X++];Y+=(p-1)*i}}k++}}return s=P6(s),u.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),o},r.prototype.decodePalette=function(){var s,i,o,l,u,d,f,m,p;for(o=this.palette,d=this.transparency.indexed||[],u=new Uint8Array((d.length||0)+o.length),l=0,s=0,i=f=0,m=o.length;f<m;i=f+=3)u[l++]=o[i],u[l++]=o[i+1],u[l++]=o[i+2],u[l++]=(p=d[s++])!=null?p:255;return u},r.prototype.copyToImageData=function(s,i){var o,l,u,d,f,m,p,y,v,x,w;if(l=this.colors,v=null,o=this.hasAlphaChannel,this.palette.length&&(v=(w=this._decodedPalette)!=null?w:this._decodedPalette=this.decodePalette(),l=4,o=!0),y=(u=s.data||s).length,f=v||i,d=m=0,l===1)for(;d<y;)p=v?4*i[d/4]:m,x=f[p++],u[d++]=x,u[d++]=x,u[d++]=x,u[d++]=o?f[p++]:255,m=p;else for(;d<y;)p=v?4*i[d/4]:m,u[d++]=f[p++],u[d++]=f[p++],u[d++]=f[p++],u[d++]=o?f[p++]:255,m=p},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var a=function(){if(Object.prototype.toString.call(Ze)==="[object Window]"){try{t=Ze.document.createElement("canvas"),e=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),n=function(s){var i;if(a()===!0)return e.width=s.width,e.height=s.height,e.clearRect(0,0,s.width,s.height),e.putImageData(s,0,0),(i=new Image).src=t.toDataURL(),i;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var i,o,l,u,d,f,m,p;if(this.animation){for(p=[],o=d=0,f=(m=this.animation.frames).length;d<f;o=++d)i=m[o],l=s.createImageData(i.width,i.height),u=this.decodePixels(new Uint8Array(i.data)),this.copyToImageData(l,u),i.imageData=l,p.push(i.image=n(l));return p}},r.prototype.renderFrame=function(s,i){var o,l,u;return o=(l=this.animation.frames)[i],u=l[i-1],i===0&&s.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?s.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&s.putImageData(u.imageData,u.xOffset,u.yOffset),o.blendOp===0&&s.clearRect(o.xOffset,o.yOffset,o.width,o.height),s.drawImage(o.image,o.xOffset,o.yOffset)},r.prototype.animate=function(s){var i,o,l,u,d,f,m=this;return o=0,f=this.animation,u=f.numFrames,l=f.frames,d=f.numPlays,(i=function(){var p,y;if(p=o++%u,y=l[p],m.renderFrame(s,p),u>1&&o/u<d)return m.animation._timeout=setTimeout(i,y.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var i,o;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,i=s.getContext("2d"),this.animation?(this.decodeFrames(i),this.animate(i)):(o=i.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),i.putImageData(o,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Z6(n){var t=0;if(n[t++]!==71||n[t++]!==73||n[t++]!==70||n[t++]!==56||(n[t++]+1&253)!=56||n[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=n[t++]|n[t++]<<8,r=n[t++]|n[t++]<<8,a=n[t++],s=a>>7,i=1<<(7&a)+1;n[t++],n[t++];var o=null,l=null;s&&(o=t,l=i,t+=3*i);var u=!0,d=[],f=0,m=null,p=0,y=null;for(this.width=e,this.height=r;u&&t<n.length;)switch(n[t++]){case 33:switch(n[t++]){case 255:if(n[t]!==11||n[t+1]==78&&n[t+2]==69&&n[t+3]==84&&n[t+4]==83&&n[t+5]==67&&n[t+6]==65&&n[t+7]==80&&n[t+8]==69&&n[t+9]==50&&n[t+10]==46&&n[t+11]==48&&n[t+12]==3&&n[t+13]==1&&n[t+16]==0)t+=14,y=n[t++]|n[t++]<<8,t++;else for(t+=12;;){if(!((k=n[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}break;case 249:if(n[t++]!==4||n[t+4]!==0)throw new Error("Invalid graphics extension block.");var v=n[t++];f=n[t++]|n[t++]<<8,m=n[t++],!(1&v)&&(m=null),p=v>>2&7,t++;break;case 254:for(;;){if(!((k=n[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}break;default:throw new Error("Unknown graphic control label: 0x"+n[t-1].toString(16))}break;case 44:var x=n[t++]|n[t++]<<8,w=n[t++]|n[t++]<<8,N=n[t++]|n[t++]<<8,_=n[t++]|n[t++]<<8,C=n[t++],A=C>>6&1,B=1<<(7&C)+1,D=o,E=l,U=!1;C>>7&&(U=!0,D=t,E=B,t+=3*B);var L=t;for(t++;;){var k;if(!((k=n[t++])>=0))throw Error("Invalid block size");if(k===0)break;t+=k}d.push({x,y:w,width:N,height:_,has_local_palette:U,palette_offset:D,palette_size:E,data_offset:L,data_length:t-L,transparent_index:m,interlaced:!!A,delay:f,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+n[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return y},this.frameInfo=function(P){if(P<0||P>=d.length)throw new Error("Frame index out of range.");return d[P]},this.decodeAndBlitFrameBGRA=function(P,F){var I=this.frameInfo(P),ee=I.width*I.height,re=new Uint8Array(ee);j1(n,I.data_offset,re,ee);var W=I.palette_offset,Z=I.transparent_index;Z===null&&(Z=256);var le=I.width,de=e-le,Ce=le,M=4*(I.y*e+I.x),Y=4*((I.y+I.height)*e+I.x),X=M,K=4*de;I.interlaced===!0&&(K+=4*e*7);for(var ne=8,ue=0,ae=re.length;ue<ae;++ue){var fe=re[ue];if(Ce===0&&(Ce=le,(X+=K)>=Y&&(K=4*de+4*e*(ne-1),X=M+(le+de)*(ne<<1),ne>>=1)),fe===Z)X+=4;else{var Ne=n[W+3*fe],_e=n[W+3*fe+1],Oe=n[W+3*fe+2];F[X++]=Oe,F[X++]=_e,F[X++]=Ne,F[X++]=255}--Ce}},this.decodeAndBlitFrameRGBA=function(P,F){var I=this.frameInfo(P),ee=I.width*I.height,re=new Uint8Array(ee);j1(n,I.data_offset,re,ee);var W=I.palette_offset,Z=I.transparent_index;Z===null&&(Z=256);var le=I.width,de=e-le,Ce=le,M=4*(I.y*e+I.x),Y=4*((I.y+I.height)*e+I.x),X=M,K=4*de;I.interlaced===!0&&(K+=4*e*7);for(var ne=8,ue=0,ae=re.length;ue<ae;++ue){var fe=re[ue];if(Ce===0&&(Ce=le,(X+=K)>=Y&&(K=4*de+4*e*(ne-1),X=M+(le+de)*(ne<<1),ne>>=1)),fe===Z)X+=4;else{var Ne=n[W+3*fe],_e=n[W+3*fe+1],Oe=n[W+3*fe+2];F[X++]=Ne,F[X++]=_e,F[X++]=Oe,F[X++]=255}--Ce}}}function j1(n,t,e,r){for(var a=n[t++],s=1<<a,i=s+1,o=i+1,l=a+1,u=(1<<l)-1,d=0,f=0,m=0,p=n[t++],y=new Int32Array(4096),v=null;;){for(;d<16&&p!==0;)f|=n[t++]<<d,d+=8,p===1?p=n[t++]:--p;if(d<l)break;var x=f&u;if(f>>=l,d-=l,x!==s){if(x===i)break;for(var w=x<o?x:v,N=0,_=w;_>s;)_=y[_]>>8,++N;var C=_;if(m+N+(w!==x?1:0)>r)return void It.log("Warning, gif stream longer than expected.");e[m++]=C;var A=m+=N;for(w!==x&&(e[m++]=C),_=w;N--;)_=y[_],e[--A]=255&_,_>>=8;v!==null&&o<4096&&(y[o++]=v<<8|C,o>=u+1&&l<12&&(++l,u=u<<1|1)),v=x}else o=i+1,u=(1<<(l=a+1))-1,v=null}return m!==r&&It.log("Warning, gif stream shorter than expected."),e}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Bp(n){var t,e,r,a,s,i=Math.floor,o=new Array(64),l=new Array(64),u=new Array(64),d=new Array(64),f=new Array(65535),m=new Array(65535),p=new Array(64),y=new Array(64),v=[],x=0,w=7,N=new Array(64),_=new Array(64),C=new Array(64),A=new Array(256),B=new Array(2048),D=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],E=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],L=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],I=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ee=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function re(M,Y){for(var X=0,K=0,ne=new Array,ue=1;ue<=16;ue++){for(var ae=1;ae<=M[ue];ae++)ne[Y[K]]=[],ne[Y[K]][0]=X,ne[Y[K]][1]=ue,K++,X++;X*=2}return ne}function W(M){for(var Y=M[0],X=M[1]-1;X>=0;)Y&1<<X&&(x|=1<<w),X--,--w<0&&(x==255?(Z(255),Z(0)):Z(x),w=7,x=0)}function Z(M){v.push(M)}function le(M){Z(M>>8&255),Z(255&M)}function de(M,Y,X,K,ne){for(var ue,ae=ne[0],fe=ne[240],Ne=function(Ee,Ae){var Re,Ie,Ye,et,at,ut,mt,St,tt,ft,Be=0;for(tt=0;tt<8;++tt){Re=Ee[Be],Ie=Ee[Be+1],Ye=Ee[Be+2],et=Ee[Be+3],at=Ee[Be+4],ut=Ee[Be+5],mt=Ee[Be+6];var Mr=Re+(St=Ee[Be+7]),wt=Re-St,Zn=Ie+mt,Tt=Ie-mt,Ht=Ye+ut,xa=Ye-ut,Ct=et+at,ii=et-at,Yt=Mr+Ct,ea=Mr-Ct,Za=Zn+Ht,Gt=Zn-Ht;Ee[Be]=Yt+Za,Ee[Be+4]=Yt-Za;var st=.707106781*(Gt+ea);Ee[Be+2]=ea+st,Ee[Be+6]=ea-st;var Dt=.382683433*((Yt=ii+xa)-(Gt=Tt+wt)),oi=.5411961*Yt+Dt,Cr=1.306562965*Gt+Dt,wa=.707106781*(Za=xa+Tt),Sa=wt+wa,Xe=wt-wa;Ee[Be+5]=Xe+oi,Ee[Be+3]=Xe-oi,Ee[Be+1]=Sa+Cr,Ee[Be+7]=Sa-Cr,Be+=8}for(Be=0,tt=0;tt<8;++tt){Re=Ee[Be],Ie=Ee[Be+8],Ye=Ee[Be+16],et=Ee[Be+24],at=Ee[Be+32],ut=Ee[Be+40],mt=Ee[Be+48];var ta=Re+(St=Ee[Be+56]),Na=Re-St,ln=Ie+mt,fr=Ie-mt,ir=Ye+ut,Sn=Ye-ut,Ji=et+at,es=et-at,ra=ta+Ji,na=ta-Ji,aa=ln+ir,_a=ln-ir;Ee[Be]=ra+aa,Ee[Be+32]=ra-aa;var In=.707106781*(_a+na);Ee[Be+16]=na+In,Ee[Be+48]=na-In;var ja=.382683433*((ra=es+Sn)-(_a=fr+Na)),li=.5411961*ra+ja,Xi=1.306562965*_a+ja,Qi=.707106781*(aa=Sn+fr),Zi=Na+Qi,eo=Na-Qi;Ee[Be+40]=eo+li,Ee[Be+24]=eo-li,Ee[Be+8]=Zi+Xi,Ee[Be+56]=Zi-Xi,Be++}for(tt=0;tt<64;++tt)ft=Ee[tt]*Ae[tt],p[tt]=ft>0?ft+.5|0:ft-.5|0;return p}(M,Y),_e=0;_e<64;++_e)y[D[_e]]=Ne[_e];var Oe=y[0]-X;X=y[0],Oe==0?W(K[0]):(W(K[m[ue=32767+Oe]]),W(f[ue]));for(var Pe=63;Pe>0&&y[Pe]==0;)Pe--;if(Pe==0)return W(ae),X;for(var De,ve=1;ve<=Pe;){for(var te=ve;y[ve]==0&&ve<=Pe;)++ve;var He=ve-te;if(He>=16){De=He>>4;for(var Fe=1;Fe<=De;++Fe)W(fe);He&=15}ue=32767+y[ve],W(ne[(He<<4)+m[ue]]),W(f[ue]),ve++}return Pe!=63&&W(ae),X}function Ce(M){M=Math.min(Math.max(M,1),100),s!=M&&(function(Y){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],K=0;K<64;K++){var ne=i((X[K]*Y+50)/100);ne=Math.min(Math.max(ne,1),255),o[D[K]]=ne}for(var ue=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ae=0;ae<64;ae++){var fe=i((ue[ae]*Y+50)/100);fe=Math.min(Math.max(fe,1),255),l[D[ae]]=fe}for(var Ne=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],_e=0,Oe=0;Oe<8;Oe++)for(var Pe=0;Pe<8;Pe++)u[_e]=1/(o[D[_e]]*Ne[Oe]*Ne[Pe]*8),d[_e]=1/(l[D[_e]]*Ne[Oe]*Ne[Pe]*8),_e++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),s=M)}this.encode=function(M,Y){Y&&Ce(Y),v=new Array,x=0,w=7,le(65496),le(65504),le(16),Z(74),Z(70),Z(73),Z(70),Z(0),Z(1),Z(1),Z(0),le(1),le(1),Z(0),Z(0),function(){le(65499),le(132),Z(0);for(var Ie=0;Ie<64;Ie++)Z(o[Ie]);Z(1);for(var Ye=0;Ye<64;Ye++)Z(l[Ye])}(),function(Ie,Ye){le(65472),le(17),Z(8),le(Ye),le(Ie),Z(3),Z(1),Z(17),Z(0),Z(2),Z(17),Z(1),Z(3),Z(17),Z(1)}(M.width,M.height),function(){le(65476),le(418),Z(0);for(var Ie=0;Ie<16;Ie++)Z(E[Ie+1]);for(var Ye=0;Ye<=11;Ye++)Z(U[Ye]);Z(16);for(var et=0;et<16;et++)Z(L[et+1]);for(var at=0;at<=161;at++)Z(k[at]);Z(1);for(var ut=0;ut<16;ut++)Z(P[ut+1]);for(var mt=0;mt<=11;mt++)Z(F[mt]);Z(17);for(var St=0;St<16;St++)Z(I[St+1]);for(var tt=0;tt<=161;tt++)Z(ee[tt])}(),le(65498),le(12),Z(3),Z(1),Z(0),Z(2),Z(17),Z(3),Z(17),Z(0),Z(63),Z(0);var X=0,K=0,ne=0;x=0,w=7,this.encode.displayName="_encode_";for(var ue,ae,fe,Ne,_e,Oe,Pe,De,ve,te=M.data,He=M.width,Fe=M.height,Ee=4*He,Ae=0;Ae<Fe;){for(ue=0;ue<Ee;){for(_e=Ee*Ae+ue,Pe=-1,De=0,ve=0;ve<64;ve++)Oe=_e+(De=ve>>3)*Ee+(Pe=4*(7&ve)),Ae+De>=Fe&&(Oe-=Ee*(Ae+1+De-Fe)),ue+Pe>=Ee&&(Oe-=ue+Pe-Ee+4),ae=te[Oe++],fe=te[Oe++],Ne=te[Oe++],N[ve]=(B[ae]+B[fe+256>>0]+B[Ne+512>>0]>>16)-128,_[ve]=(B[ae+768>>0]+B[fe+1024>>0]+B[Ne+1280>>0]>>16)-128,C[ve]=(B[ae+1280>>0]+B[fe+1536>>0]+B[Ne+1792>>0]>>16)-128;X=de(N,u,X,t,r),K=de(_,d,K,e,a),ne=de(C,d,ne,e,a),ue+=32}Ae+=8}if(w>=0){var Re=[];Re[1]=w+1,Re[0]=(1<<w+1)-1,W(Re)}return le(65497),new Uint8Array(v)},n=n||50,function(){for(var M=String.fromCharCode,Y=0;Y<256;Y++)A[Y]=M(Y)}(),t=re(E,U),e=re(P,F),r=re(L,k),a=re(I,ee),function(){for(var M=1,Y=2,X=1;X<=15;X++){for(var K=M;K<Y;K++)m[32767+K]=X,f[32767+K]=[],f[32767+K][1]=X,f[32767+K][0]=K;for(var ne=-(Y-1);ne<=-M;ne++)m[32767+ne]=X,f[32767+ne]=[],f[32767+ne][1]=X,f[32767+ne][0]=Y-1+ne;M<<=1,Y<<=1}}(),function(){for(var M=0;M<256;M++)B[M]=19595*M,B[M+256>>0]=38470*M,B[M+512>>0]=7471*M+32768,B[M+768>>0]=-11059*M,B[M+1024>>0]=-21709*M,B[M+1280>>0]=32768*M+8421375,B[M+1536>>0]=-27439*M,B[M+1792>>0]=-5329*M}(),Ce(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function da(n,t){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function k1(n){function t(E){if(!E)throw Error("assert :P")}function e(E,U,L){for(var k=0;4>k;k++)if(E[U+k]!=L.charCodeAt(k))return!0;return!1}function r(E,U,L,k,P){for(var F=0;F<P;F++)E[U+F]=L[k+F]}function a(E,U,L,k){for(var P=0;P<k;P++)E[U+P]=L}function s(E){return new Int32Array(E)}function i(E,U){for(var L=[],k=0;k<E;k++)L.push(new U);return L}function o(E,U){var L=[];return function k(P,F,I){for(var ee=I[F],re=0;re<ee&&(P.push(I.length>F+1?[]:new U),!(I.length<F+1));re++)k(P[re],F+1,I)}(L,0,E),L}var l=function(){var E=this;function U(h,g){for(var S=1<<g-1>>>0;h&S;)S>>>=1;return S?(h&S-1)+S:h}function L(h,g,S,j,O){t(!(j%S));do h[g+(j-=S)]=O;while(0<j)}function k(h,g,S,j,O){if(t(2328>=O),512>=O)var R=s(512);else if((R=s(O))==null)return 0;return function($,q,z,G,ie,me){var ge,he,Se=q,be=1<<z,oe=s(16),ce=s(16);for(t(ie!=0),t(G!=null),t($!=null),t(0<z),he=0;he<ie;++he){if(15<G[he])return 0;++oe[G[he]]}if(oe[0]==ie)return 0;for(ce[1]=0,ge=1;15>ge;++ge){if(oe[ge]>1<<ge)return 0;ce[ge+1]=ce[ge]+oe[ge]}for(he=0;he<ie;++he)ge=G[he],0<G[he]&&(me[ce[ge]++]=he);if(ce[15]==1)return(G=new P).g=0,G.value=me[0],L($,Se,1,be,G),be;var xe,je=-1,we=be-1,Ue=0,Te=1,Je=1,$e=1<<z;for(he=0,ge=1,ie=2;ge<=z;++ge,ie<<=1){if(Te+=Je<<=1,0>(Je-=oe[ge]))return 0;for(;0<oe[ge];--oe[ge])(G=new P).g=ge,G.value=me[he++],L($,Se+Ue,ie,$e,G),Ue=U(Ue,ge)}for(ge=z+1,ie=2;15>=ge;++ge,ie<<=1){if(Te+=Je<<=1,0>(Je-=oe[ge]))return 0;for(;0<oe[ge];--oe[ge]){if(G=new P,(Ue&we)!=je){for(Se+=$e,xe=1<<(je=ge)-z;15>je&&!(0>=(xe-=oe[je]));)++je,xe<<=1;be+=$e=1<<(xe=je-z),$[q+(je=Ue&we)].g=xe+z,$[q+je].value=Se-q-je}G.g=ge-z,G.value=me[he++],L($,Se+(Ue>>z),ie,$e,G),Ue=U(Ue,ge)}}return Te!=2*ce[15]-1?0:be}(h,g,S,j,O,R)}function P(){this.value=this.g=0}function F(){this.value=this.g=0}function I(){this.G=i(5,P),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=i(Dr,F)}function ee(h,g,S,j){t(h!=null),t(g!=null),t(2147483648>j),h.Ca=254,h.I=0,h.b=-8,h.Ka=0,h.oa=g,h.pa=S,h.Jd=g,h.Yc=S+j,h.Zc=4<=j?S+j-4+1:S,ue(h)}function re(h,g){for(var S=0;0<g--;)S|=fe(h,128)<<g;return S}function W(h,g){var S=re(h,g);return ae(h)?-S:S}function Z(h,g,S,j){var O,R=0;for(t(h!=null),t(g!=null),t(4294967288>j),h.Sb=j,h.Ra=0,h.u=0,h.h=0,4<j&&(j=4),O=0;O<j;++O)R+=g[S+O]<<8*O;h.Ra=R,h.bb=j,h.oa=g,h.pa=S}function le(h){for(;8<=h.u&&h.bb<h.Sb;)h.Ra>>>=8,h.Ra+=h.oa[h.pa+h.bb]<<go-8>>>0,++h.bb,h.u-=8;X(h)&&(h.h=1,h.u=0)}function de(h,g){if(t(0<=g),!h.h&&g<=mo){var S=Y(h)&po[g];return h.u+=g,le(h),S}return h.h=1,h.u=0}function Ce(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function M(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Y(h){return h.Ra>>>(h.u&go-1)>>>0}function X(h){return t(h.bb<=h.Sb),h.h||h.bb==h.Sb&&h.u>go}function K(h,g){h.u=g,h.h=X(h)}function ne(h){h.u>=Hl&&(t(h.u>=Hl),le(h))}function ue(h){t(h!=null&&h.oa!=null),h.pa<h.Zc?(h.I=(h.oa[h.pa++]|h.I<<8)>>>0,h.b+=8):(t(h!=null&&h.oa!=null),h.pa<h.Yc?(h.b+=8,h.I=h.oa[h.pa++]|h.I<<8):h.Ka?h.b=0:(h.I<<=8,h.b+=8,h.Ka=1))}function ae(h){return re(h,1)}function fe(h,g){var S=h.Ca;0>h.b&&ue(h);var j=h.b,O=S*g>>>8,R=(h.I>>>j>O)+0;for(R?(S-=O,h.I-=O+1<<j>>>0):S=O+1,j=S,O=0;256<=j;)O+=8,j>>=8;return j=7^O+un[j],h.b-=j,h.Ca=(S<<j)-1,R}function Ne(h,g,S){h[g+0]=S>>24&255,h[g+1]=S>>16&255,h[g+2]=S>>8&255,h[g+3]=S>>0&255}function _e(h,g){return h[g+0]<<0|h[g+1]<<8}function Oe(h,g){return _e(h,g)|h[g+2]<<16}function Pe(h,g){return _e(h,g)|_e(h,g+2)<<16}function De(h,g){var S=1<<g;return t(h!=null),t(0<g),h.X=s(S),h.X==null?0:(h.Mb=32-g,h.Xa=g,1)}function ve(h,g){t(h!=null),t(g!=null),t(h.Xa==g.Xa),r(g.X,0,h.X,0,1<<g.Xa)}function te(){this.X=[],this.Xa=this.Mb=0}function He(h,g,S,j){t(S!=null),t(j!=null);var O=S[0],R=j[0];return O==0&&(O=(h*R+g/2)/g),R==0&&(R=(g*O+h/2)/h),0>=O||0>=R?0:(S[0]=O,j[0]=R,1)}function Fe(h,g){return h+(1<<g)-1>>>g}function Ee(h,g){return((4278255360&h)+(4278255360&g)>>>0&4278255360)+((16711935&h)+(16711935&g)>>>0&16711935)>>>0}function Ae(h,g){E[g]=function(S,j,O,R,$,q,z){var G;for(G=0;G<$;++G){var ie=E[h](q[z+G-1],O,R+G);q[z+G]=Ee(S[j+G],ie)}}}function Re(){this.ud=this.hd=this.jd=0}function Ie(h,g){return((4278124286&(h^g))>>>1)+(h&g)>>>0}function Ye(h){return 0<=h&&256>h?h:0>h?0:255<h?255:void 0}function et(h,g){return Ye(h+(h-g+.5>>1))}function at(h,g,S){return Math.abs(g-S)-Math.abs(h-S)}function ut(h,g,S,j,O,R,$){for(j=R[$-1],S=0;S<O;++S)R[$+S]=j=Ee(h[g+S],j)}function mt(h,g,S,j,O){var R;for(R=0;R<S;++R){var $=h[g+R],q=$>>8&255,z=16711935&(z=(z=16711935&$)+((q<<16)+q));j[O+R]=(4278255360&$)+z>>>0}}function St(h,g){g.jd=h>>0&255,g.hd=h>>8&255,g.ud=h>>16&255}function tt(h,g,S,j,O,R){var $;for($=0;$<j;++$){var q=g[S+$],z=q>>>8,G=q,ie=255&(ie=(ie=q>>>16)+((h.jd<<24>>24)*(z<<24>>24)>>>5));G=255&(G=(G=G+((h.hd<<24>>24)*(z<<24>>24)>>>5))+((h.ud<<24>>24)*(ie<<24>>24)>>>5)),O[R+$]=(4278255360&q)+(ie<<16)+G}}function ft(h,g,S,j,O){E[g]=function(R,$,q,z,G,ie,me,ge,he){for(z=me;z<ge;++z)for(me=0;me<he;++me)G[ie++]=O(q[j(R[$++])])},E[h]=function(R,$,q,z,G,ie,me){var ge=8>>R.b,he=R.Ea,Se=R.K[0],be=R.w;if(8>ge)for(R=(1<<R.b)-1,be=(1<<ge)-1;$<q;++$){var oe,ce=0;for(oe=0;oe<he;++oe)oe&R||(ce=j(z[G++])),ie[me++]=O(Se[ce&be]),ce>>=ge}else E["VP8LMapColor"+S](z,G,Se,be,ie,me,$,q,he)}}function Be(h,g,S,j,O){for(S=g+S;g<S;){var R=h[g++];j[O++]=R>>16&255,j[O++]=R>>8&255,j[O++]=R>>0&255}}function Mr(h,g,S,j,O){for(S=g+S;g<S;){var R=h[g++];j[O++]=R>>16&255,j[O++]=R>>8&255,j[O++]=R>>0&255,j[O++]=R>>24&255}}function wt(h,g,S,j,O){for(S=g+S;g<S;){var R=($=h[g++])>>16&240|$>>12&15,$=$>>0&240|$>>28&15;j[O++]=R,j[O++]=$}}function Zn(h,g,S,j,O){for(S=g+S;g<S;){var R=($=h[g++])>>16&248|$>>13&7,$=$>>5&224|$>>3&31;j[O++]=R,j[O++]=$}}function Tt(h,g,S,j,O){for(S=g+S;g<S;){var R=h[g++];j[O++]=R>>0&255,j[O++]=R>>8&255,j[O++]=R>>16&255}}function Ht(h,g,S,j,O,R){if(R==0)for(S=g+S;g<S;)Ne(j,((R=h[g++])[0]>>24|R[1]>>8&65280|R[2]<<8&16711680|R[3]<<24)>>>0),O+=32;else r(j,O,h,g,S)}function xa(h,g){E[g][0]=E[h+"0"],E[g][1]=E[h+"1"],E[g][2]=E[h+"2"],E[g][3]=E[h+"3"],E[g][4]=E[h+"4"],E[g][5]=E[h+"5"],E[g][6]=E[h+"6"],E[g][7]=E[h+"7"],E[g][8]=E[h+"8"],E[g][9]=E[h+"9"],E[g][10]=E[h+"10"],E[g][11]=E[h+"11"],E[g][12]=E[h+"12"],E[g][13]=E[h+"13"],E[g][14]=E[h+"0"],E[g][15]=E[h+"0"]}function Ct(h){return h==ep||h==tp||h==Wu||h==rp}function ii(){this.eb=[],this.size=this.A=this.fb=0}function Yt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ea(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ii,this.f.kb=new Yt,this.sd=null}function Za(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Gt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function st(h){return alert("todo:WebPSamplerProcessPlane"),h.T}function Dt(h,g){var S=h.T,j=g.ba.f.RGBA,O=j.eb,R=j.fb+h.ka*j.A,$=Un[g.ba.S],q=h.y,z=h.O,G=h.f,ie=h.N,me=h.ea,ge=h.W,he=g.cc,Se=g.dc,be=g.Mc,oe=g.Nc,ce=h.ka,xe=h.ka+h.T,je=h.U,we=je+1>>1;for(ce==0?$(q,z,null,null,G,ie,me,ge,G,ie,me,ge,O,R,null,null,je):($(g.ec,g.fc,q,z,he,Se,be,oe,G,ie,me,ge,O,R-j.A,O,R,je),++S);ce+2<xe;ce+=2)he=G,Se=ie,be=me,oe=ge,ie+=h.Rc,ge+=h.Rc,R+=2*j.A,$(q,(z+=2*h.fa)-h.fa,q,z,he,Se,be,oe,G,ie,me,ge,O,R-j.A,O,R,je);return z+=h.fa,h.j+xe<h.o?(r(g.ec,g.fc,q,z,je),r(g.cc,g.dc,G,ie,we),r(g.Mc,g.Nc,me,ge,we),S--):1&xe||$(q,z,null,null,G,ie,me,ge,G,ie,me,ge,O,R+j.A,null,null,je),S}function oi(h,g,S){var j=h.F,O=[h.J];if(j!=null){var R=h.U,$=g.ba.S,q=$==Hu||$==Wu;g=g.ba.f.RGBA;var z=[0],G=h.ka;z[0]=h.T,h.Kb&&(G==0?--z[0]:(--G,O[0]-=h.width),h.j+h.ka+h.T==h.o&&(z[0]=h.o-h.j-G));var ie=g.eb;G=g.fb+G*g.A,h=$t(j,O[0],h.width,R,z,ie,G+(q?0:3),g.A),t(S==z),h&&Ct($)&&Bn(ie,G,q,R,z,g.A)}return 0}function Cr(h){var g=h.ma,S=g.ba.S,j=11>S,O=S==Vu||S==zu||S==Hu||S==Zf||S==12||Ct(S);if(g.memory=null,g.Ib=null,g.Jb=null,g.Nd=null,!Vl(g.Oa,h,O?11:12))return 0;if(O&&Ct(S)&&ke(),h.da)alert("todo:use_scaling");else{if(j){if(g.Ib=st,h.Kb){if(S=h.U+1>>1,g.memory=s(h.U+2*S),g.memory==null)return 0;g.ec=g.memory,g.fc=0,g.cc=g.ec,g.dc=g.fc+h.U,g.Mc=g.cc,g.Nc=g.dc+S,g.Ib=Dt,ke()}}else alert("todo:EmitYUV");O&&(g.Jb=oi,j&&pe())}if(j&&!V0){for(h=0;256>h;++h)Q5[h]=89858*(h-128)+Gu>>Yu,tS[h]=-22014*(h-128)+Gu,eS[h]=-45773*(h-128),Z5[h]=113618*(h-128)+Gu>>Yu;for(h=Ql;h<sp;++h)g=76283*(h-16)+Gu>>Yu,rS[h-Ql]=Nn(g,255),nS[h-Ql]=Nn(g+8>>4,15);V0=1}return 1}function wa(h){var g=h.ma,S=h.U,j=h.T;return t(!(1&h.ka)),0>=S||0>=j?0:(S=g.Ib(h,g),g.Jb!=null&&g.Jb(h,g,S),g.Dc+=S,1)}function Sa(h){h.ma.memory=null}function Xe(h,g,S,j){return de(h,8)!=47?0:(g[0]=de(h,14)+1,S[0]=de(h,14)+1,j[0]=de(h,1),de(h,3)!=0?0:!h.h)}function ta(h,g){if(4>h)return h+1;var S=h-2>>1;return(2+(1&h)<<S)+de(g,S)+1}function Na(h,g){return 120<g?g-120:1<=(S=((S=$5[g-1])>>4)*h+(8-(15&S)))?S:1;var S}function ln(h,g,S){var j=Y(S),O=h[g+=255&j].g-8;return 0<O&&(K(S,S.u+8),j=Y(S),g+=h[g].value,g+=j&(1<<O)-1),K(S,S.u+h[g].g),h[g].value}function fr(h,g,S){return S.g+=h.g,S.value+=h.value<<g>>>0,t(8>=S.g),h.g}function ir(h,g,S){var j=h.xc;return t((g=j==0?0:h.vc[h.md*(S>>j)+(g>>j)])<h.Wb),h.Ya[g]}function Sn(h,g,S,j){var O=h.ab,R=h.c*g,$=h.C;g=$+g;var q=S,z=j;for(j=h.Ta,S=h.Ua;0<O--;){var G=h.gc[O],ie=$,me=g,ge=q,he=z,Se=(z=j,q=S,G.Ea);switch(t(ie<me),t(me<=G.nc),G.hc){case 2:Iu(ge,he,(me-ie)*Se,z,q);break;case 0:var be=ie,oe=me,ce=z,xe=q,je=($e=G).Ea;be==0&&(Xf(ge,he,null,null,1,ce,xe),ut(ge,he+1,0,0,je-1,ce,xe+1),he+=je,xe+=je,++be);for(var we=1<<$e.b,Ue=we-1,Te=Fe(je,$e.b),Je=$e.K,$e=$e.w+(be>>$e.b)*Te;be<oe;){var Nt=Je,Et=$e,xt=1;for(Wl(ge,he,ce,xe-je,1,ce,xe);xt<je;){var gt=(xt&~Ue)+we;gt>je&&(gt=je),(0,Ss[Nt[Et++]>>8&15])(ge,he+ +xt,ce,xe+xt-je,gt-xt,ce,xe+xt),xt=gt}he+=je,xe+=je,++be&Ue||($e+=Te)}me!=G.nc&&r(z,q-Se,z,q+(me-ie-1)*Se,Se);break;case 1:for(Se=ge,oe=he,je=(ge=G.Ea)-(xe=ge&~(ce=(he=1<<G.b)-1)),be=Fe(ge,G.b),we=G.K,G=G.w+(ie>>G.b)*be;ie<me;){for(Ue=we,Te=G,Je=new Re,$e=oe+xe,Nt=oe+ge;oe<$e;)St(Ue[Te++],Je),fi(Je,Se,oe,he,z,q),oe+=he,q+=he;oe<Nt&&(St(Ue[Te++],Je),fi(Je,Se,oe,je,z,q),oe+=je,q+=je),++ie&ce||(G+=be)}break;case 3:if(ge==z&&he==q&&0<G.b){for(oe=z,ge=Se=q+(me-ie)*Se-(xe=(me-ie)*Fe(G.Ea,G.b)),he=z,ce=q,be=[],xe=(je=xe)-1;0<=xe;--xe)be[xe]=he[ce+xe];for(xe=je-1;0<=xe;--xe)oe[ge+xe]=be[xe];Rn(G,ie,me,z,Se,z,q)}else Rn(G,ie,me,ge,he,z,q)}q=j,z=S}z!=S&&r(j,S,q,z,R)}function Ji(h,g){var S=h.V,j=h.Ba+h.c*h.C,O=g-h.C;if(t(g<=h.l.o),t(16>=O),0<O){var R=h.l,$=h.Ta,q=h.Ua,z=R.width;if(Sn(h,O,S,j),O=q=[q],t((S=h.C)<(j=g)),t(R.v<R.va),j>R.o&&(j=R.o),S<R.j){var G=R.j-S;S=R.j,O[0]+=G*z}if(S>=j?S=0:(O[0]+=4*R.v,R.ka=S-R.j,R.U=R.va-R.v,R.T=j-S,S=1),S){if(q=q[0],11>(S=h.ca).S){var ie=S.f.RGBA,me=(j=S.S,O=R.U,R=R.T,G=ie.eb,ie.A),ge=R;for(ie=ie.fb+h.Ma*ie.A;0<ge--;){var he=$,Se=q,be=O,oe=G,ce=ie;switch(j){case Uu:dn(he,Se,be,oe,ce);break;case Vu:Gr(he,Se,be,oe,ce);break;case ep:Gr(he,Se,be,oe,ce),Bn(oe,ce,0,be,1,0);break;case O0:as(he,Se,be,oe,ce);break;case zu:Ht(he,Se,be,oe,ce,1);break;case tp:Ht(he,Se,be,oe,ce,1),Bn(oe,ce,0,be,1,0);break;case Hu:Ht(he,Se,be,oe,ce,0);break;case Wu:Ht(he,Se,be,oe,ce,0),Bn(oe,ce,1,be,1,0);break;case Zf:Ns(he,Se,be,oe,ce);break;case rp:Ns(he,Se,be,oe,ce),Rt(oe,ce,be,1,0);break;case T0:ns(he,Se,be,oe,ce);break;default:t(0)}q+=z,ie+=me}h.Ma+=R}else alert("todo:EmitRescaledRowsYUVA");t(h.Ma<=S.height)}}h.C=g,t(h.C<=h.i)}function es(h){var g;if(0<h.ua)return 0;for(g=0;g<h.Wb;++g){var S=h.Ya[g].G,j=h.Ya[g].H;if(0<S[1][j[1]+0].g||0<S[2][j[2]+0].g||0<S[3][j[3]+0].g)return 0}return 1}function ra(h,g,S,j,O,R){if(h.Z!=0){var $=h.qd,q=h.rd;for(t(Cs[h.Z]!=null);g<S;++g)Cs[h.Z]($,q,j,O,j,O,R),$=j,q=O,O+=R;h.qd=$,h.rd=q}}function na(h,g){var S=h.l.ma,j=S.Z==0||S.Z==1?h.l.j:h.C;if(j=h.C<j?j:h.C,t(g<=h.l.o),g>j){var O=h.l.width,R=S.ca,$=S.tb+O*j,q=h.V,z=h.Ba+h.c*j,G=h.gc;t(h.ab==1),t(G[0].hc==3),Ru(G[0],j,g,q,z,R,$),ra(S,j,g,R,$,O)}h.C=h.Ma=g}function aa(h,g,S,j,O,R,$){var q=h.$/j,z=h.$%j,G=h.m,ie=h.s,me=S+h.$,ge=me;O=S+j*O;var he=S+j*R,Se=280+ie.ua,be=h.Pb?q:16777216,oe=0<ie.ua?ie.Wa:null,ce=ie.wc,xe=me<he?ir(ie,z,q):null;t(h.C<R),t(he<=O);var je=!1;e:for(;;){for(;je||me<he;){var we=0;if(q>=be){var Ue=me-S;t((be=h).Pb),be.wd=be.m,be.xd=Ue,0<be.s.ua&&ve(be.s.Wa,be.s.vb),be=q+B5}if(z&ce||(xe=ir(ie,z,q)),t(xe!=null),xe.Qb&&(g[me]=xe.qb,je=!0),!je)if(ne(G),xe.jc){we=G,Ue=g;var Te=me,Je=xe.pd[Y(we)&Dr-1];t(xe.jc),256>Je.g?(K(we,we.u+Je.g),Ue[Te]=Je.value,we=0):(K(we,we.u+Je.g-256),t(256<=Je.value),we=Je.value),we==0&&(je=!0)}else we=ln(xe.G[0],xe.H[0],G);if(G.h)break;if(je||256>we){if(!je)if(xe.nd)g[me]=(xe.qb|we<<8)>>>0;else{if(ne(G),je=ln(xe.G[1],xe.H[1],G),ne(G),Ue=ln(xe.G[2],xe.H[2],G),Te=ln(xe.G[3],xe.H[3],G),G.h)break;g[me]=(Te<<24|je<<16|we<<8|Ue)>>>0}if(je=!1,++me,++z>=j&&(z=0,++q,$!=null&&q<=R&&!(q%16)&&$(h,q),oe!=null))for(;ge<me;)we=g[ge++],oe.X[(506832829*we&4294967295)>>>oe.Mb]=we}else if(280>we){if(we=ta(we-256,G),Ue=ln(xe.G[4],xe.H[4],G),ne(G),Ue=Na(j,Ue=ta(Ue,G)),G.h)break;if(me-S<Ue||O-me<we)break e;for(Te=0;Te<we;++Te)g[me+Te]=g[me+Te-Ue];for(me+=we,z+=we;z>=j;)z-=j,++q,$!=null&&q<=R&&!(q%16)&&$(h,q);if(t(me<=O),z&ce&&(xe=ir(ie,z,q)),oe!=null)for(;ge<me;)we=g[ge++],oe.X[(506832829*we&4294967295)>>>oe.Mb]=we}else{if(!(we<Se))break e;for(je=we-280,t(oe!=null);ge<me;)we=g[ge++],oe.X[(506832829*we&4294967295)>>>oe.Mb]=we;we=me,t(!(je>>>(Ue=oe).Xa)),g[we]=Ue.X[je],je=!0}je||t(G.h==X(G))}if(h.Pb&&G.h&&me<O)t(h.m.h),h.a=5,h.m=h.wd,h.$=h.xd,0<h.s.ua&&ve(h.s.vb,h.s.Wa);else{if(G.h)break e;$!=null&&$(h,q>R?R:q),h.a=0,h.$=me-S}return 1}return h.a=3,0}function _a(h){t(h!=null),h.vc=null,h.yc=null,h.Ya=null;var g=h.Wa;g!=null&&(g.X=null),h.vb=null,t(h!=null)}function In(){var h=new Jf;return h==null?null:(h.a=0,h.xb=R0,xa("Predictor","VP8LPredictors"),xa("Predictor","VP8LPredictors_C"),xa("PredictorAdd","VP8LPredictorsAdd"),xa("PredictorAdd","VP8LPredictorsAdd_C"),Iu=mt,fi=tt,dn=Be,Gr=Mr,Ns=wt,ns=Zn,as=Tt,E.VP8LMapColor32b=vo,E.VP8LMapColor8b=$u,h)}function ja(h,g,S,j,O){var R=1,$=[h],q=[g],z=j.m,G=j.s,ie=null,me=0;e:for(;;){if(S)for(;R&&de(z,1);){var ge=$,he=q,Se=j,be=1,oe=Se.m,ce=Se.gc[Se.ab],xe=de(oe,2);if(Se.Oc&1<<xe)R=0;else{switch(Se.Oc|=1<<xe,ce.hc=xe,ce.Ea=ge[0],ce.nc=he[0],ce.K=[null],++Se.ab,t(4>=Se.ab),xe){case 0:case 1:ce.b=de(oe,3)+2,be=ja(Fe(ce.Ea,ce.b),Fe(ce.nc,ce.b),0,Se,ce.K),ce.K=ce.K[0];break;case 3:var je,we=de(oe,8)+1,Ue=16<we?0:4<we?1:2<we?2:3;if(ge[0]=Fe(ce.Ea,Ue),ce.b=Ue,je=be=ja(we,1,0,Se,ce.K)){var Te,Je=we,$e=ce,Nt=1<<(8>>$e.b),Et=s(Nt);if(Et==null)je=0;else{var xt=$e.K[0],gt=$e.w;for(Et[0]=$e.K[0][0],Te=1;Te<1*Je;++Te)Et[Te]=Ee(xt[gt+Te],Et[Te-1]);for(;Te<4*Nt;++Te)Et[Te]=0;$e.K[0]=null,$e.K[0]=Et,je=1}}be=je;break;case 2:break;default:t(0)}R=be}}if($=$[0],q=q[0],R&&de(z,1)&&!(R=1<=(me=de(z,4))&&11>=me)){j.a=3;break e}var Mt;if(Mt=R)t:{var Ot,ct,lr,hn=j,cr=$,fn=q,Pt=me,jn=S,kn=hn.m,br=hn.s,Er=[null],Jr=1,Vn=0,Ea=F5[Pt];r:for(;;){if(jn&&de(kn,1)){var yr=de(kn,3)+2,ls=Fe(cr,yr),bi=Fe(fn,yr),So=ls*bi;if(!ja(ls,bi,0,hn,Er))break r;for(Er=Er[0],br.xc=yr,Ot=0;Ot<So;++Ot){var Ds=Er[Ot]>>8&65535;Er[Ot]=Ds,Ds>=Jr&&(Jr=Ds+1)}}if(kn.h)break r;for(ct=0;5>ct;++ct){var Jt=M0[ct];!ct&&0<Pt&&(Jt+=1<<Pt),Vn<Jt&&(Vn=Jt)}var ip=i(Jr*Ea,P),W0=Jr,Y0=i(W0,I);if(Y0==null)var Ju=null;else t(65536>=W0),Ju=Y0;var Zl=s(Vn);if(Ju==null||Zl==null||ip==null){hn.a=1;break r}var Xu=ip;for(Ot=lr=0;Ot<Jr;++Ot){var ca=Ju[Ot],No=ca.G,_o=ca.H,G0=0,Qu=1,K0=0;for(ct=0;5>ct;++ct){Jt=M0[ct],No[ct]=Xu,_o[ct]=lr,!ct&&0<Pt&&(Jt+=1<<Pt);a:{var Zu,op=Jt,ed=hn,ec=Zl,iS=Xu,oS=lr,lp=0,Es=ed.m,lS=de(Es,1);if(a(ec,0,0,op),lS){var cS=de(Es,1)+1,uS=de(Es,1),J0=de(Es,uS==0?1:8);ec[J0]=1,cS==2&&(ec[J0=de(Es,8)]=1);var td=1}else{var X0=s(19),Q0=de(Es,4)+4;if(19<Q0){ed.a=3;var rd=0;break a}for(Zu=0;Zu<Q0;++Zu)X0[R5[Zu]]=de(Es,3);var cp=void 0,tc=void 0,Z0=ed,dS=X0,nd=op,ev=ec,up=0,Ps=Z0.m,tv=8,rv=i(128,P);n:for(;k(rv,0,7,dS,19);){if(de(Ps,1)){var hS=2+2*de(Ps,3);if((cp=2+de(Ps,hS))>nd)break n}else cp=nd;for(tc=0;tc<nd&&cp--;){ne(Ps);var nv=rv[0+(127&Y(Ps))];K(Ps,Ps.u+nv.g);var jo=nv.value;if(16>jo)ev[tc++]=jo,jo!=0&&(tv=jo);else{var fS=jo==16,av=jo-16,pS=M5[av],sv=de(Ps,T5[av])+pS;if(tc+sv>nd)break n;for(var mS=fS?tv:0;0<sv--;)ev[tc++]=mS}}up=1;break n}up||(Z0.a=3),td=up}(td=td&&!Es.h)&&(lp=k(iS,oS,8,ec,op)),td&&lp!=0?rd=lp:(ed.a=3,rd=0)}if(rd==0)break r;if(Qu&&I5[ct]==1&&(Qu=Xu[lr].g==0),G0+=Xu[lr].g,lr+=rd,3>=ct){var rc,dp=Zl[0];for(rc=1;rc<Jt;++rc)Zl[rc]>dp&&(dp=Zl[rc]);K0+=dp}}if(ca.nd=Qu,ca.Qb=0,Qu&&(ca.qb=(No[3][_o[3]+0].value<<24|No[1][_o[1]+0].value<<16|No[2][_o[2]+0].value)>>>0,G0==0&&256>No[0][_o[0]+0].value&&(ca.Qb=1,ca.qb+=No[0][_o[0]+0].value<<8)),ca.jc=!ca.Qb&&6>K0,ca.jc){var ad,cs=ca;for(ad=0;ad<Dr;++ad){var As=ad,Ls=cs.pd[As],sd=cs.G[0][cs.H[0]+As];256<=sd.value?(Ls.g=sd.g+256,Ls.value=sd.value):(Ls.g=0,Ls.value=0,As>>=fr(sd,8,Ls),As>>=fr(cs.G[1][cs.H[1]+As],16,Ls),As>>=fr(cs.G[2][cs.H[2]+As],0,Ls),fr(cs.G[3][cs.H[3]+As],24,Ls))}}}br.vc=Er,br.Wb=Jr,br.Ya=Ju,br.yc=ip,Mt=1;break t}Mt=0}if(!(R=Mt)){j.a=3;break e}if(0<me){if(G.ua=1<<me,!De(G.Wa,me)){j.a=1,R=0;break e}}else G.ua=0;var hp=j,iv=$,gS=q,fp=hp.s,pp=fp.xc;if(hp.c=iv,hp.i=gS,fp.md=Fe(iv,pp),fp.wc=pp==0?-1:(1<<pp)-1,S){j.xb=Y5;break e}if((ie=s($*q))==null){j.a=1,R=0;break e}R=(R=aa(j,ie,0,$,q,q,null))&&!z.h;break e}return R?(O!=null?O[0]=ie:(t(ie==null),t(S)),j.$=0,S||_a(G)):_a(G),R}function li(h,g){var S=h.c*h.i,j=S+g+16*g;return t(h.c<=g),h.V=s(j),h.V==null?(h.Ta=null,h.Ua=0,h.a=1,0):(h.Ta=h.V,h.Ua=h.Ba+S+g,1)}function Xi(h,g){var S=h.C,j=g-S,O=h.V,R=h.Ba+h.c*S;for(t(g<=h.l.o);0<j;){var $=16<j?16:j,q=h.l.ma,z=h.l.width,G=z*$,ie=q.ca,me=q.tb+z*S,ge=h.Ta,he=h.Ua;Sn(h,$,O,R),rr(ge,he,ie,me,G),ra(q,S,S+$,ie,me,z),j-=$,O+=$*h.c,S+=$}t(S==g),h.C=h.Ma=g}function Qi(){this.ub=this.yd=this.td=this.Rb=0}function Zi(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function eo(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function gu(){this.Yb=function(){var h=[];return function g(S,j,O){for(var R=O[j],$=0;$<R&&(S.push(O.length>j+1?[]:0),!(O.length<j+1));$++)g(S[$],j+1,O)}(h,0,[3,11]),h}()}function Cf(){this.jb=s(3),this.Wc=o([4,8],gu),this.Xc=o([4,17],gu)}function Df(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function to(){this.ld=this.La=this.dd=this.tc=0}function vu(){this.Na=this.la=0}function Ef(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Cl(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Pf(){this.uc=this.M=this.Nb=0,this.wa=Array(new to),this.Y=0,this.ya=Array(new Cl),this.aa=0,this.l=new ro}function bu(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Af(){this.cb=this.a=0,this.sc="",this.m=new Ce,this.Od=new Qi,this.Kc=new Zi,this.ed=new Df,this.Qa=new eo,this.Ic=this.$c=this.Aa=0,this.D=new Pf,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=i(8,Ce),this.ia=0,this.pb=i(4,Ef),this.Pa=new Cf,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new bu),this.Hd=0,this.rb=Array(new vu),this.sb=0,this.wa=Array(new to),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Cl),this.L=this.aa=0,this.gd=o([4,2],to),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ro(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Lf(){var h=new Af;return h!=null&&(h.a=0,h.sc="OK",h.cb=0,h.Xb=0,Xl||(Xl=wu)),h}function er(h,g,S){return h.a==0&&(h.a=g,h.sc=S,h.cb=0),0}function yu(h,g,S){return 3<=S&&h[g+0]==157&&h[g+1]==1&&h[g+2]==42}function xu(h,g){if(h==null)return 0;if(h.a=0,h.sc="OK",g==null)return er(h,2,"null VP8Io passed to VP8GetHeaders()");var S=g.data,j=g.w,O=g.ha;if(4>O)return er(h,7,"Truncated header.");var R=S[j+0]|S[j+1]<<8|S[j+2]<<16,$=h.Od;if($.Rb=!(1&R),$.td=R>>1&7,$.yd=R>>4&1,$.ub=R>>5,3<$.td)return er(h,3,"Incorrect keyframe parameters.");if(!$.yd)return er(h,4,"Frame not displayable.");j+=3,O-=3;var q=h.Kc;if($.Rb){if(7>O)return er(h,7,"cannot parse picture header");if(!yu(S,j,O))return er(h,3,"Bad code word");q.c=16383&(S[j+4]<<8|S[j+3]),q.Td=S[j+4]>>6,q.i=16383&(S[j+6]<<8|S[j+5]),q.Ud=S[j+6]>>6,j+=7,O-=7,h.za=q.c+15>>4,h.Ub=q.i+15>>4,g.width=q.c,g.height=q.i,g.Da=0,g.j=0,g.v=0,g.va=g.width,g.o=g.height,g.da=0,g.ib=g.width,g.hb=g.height,g.U=g.width,g.T=g.height,a((R=h.Pa).jb,0,255,R.jb.length),t((R=h.Qa)!=null),R.Cb=0,R.Bb=0,R.Fb=1,a(R.Zb,0,0,R.Zb.length),a(R.Lb,0,0,R.Lb)}if($.ub>O)return er(h,7,"bad partition length");ee(R=h.m,S,j,$.ub),j+=$.ub,O-=$.ub,$.Rb&&(q.Ld=ae(R),q.Kd=ae(R)),q=h.Qa;var z,G=h.Pa;if(t(R!=null),t(q!=null),q.Cb=ae(R),q.Cb){if(q.Bb=ae(R),ae(R)){for(q.Fb=ae(R),z=0;4>z;++z)q.Zb[z]=ae(R)?W(R,7):0;for(z=0;4>z;++z)q.Lb[z]=ae(R)?W(R,6):0}if(q.Bb)for(z=0;3>z;++z)G.jb[z]=ae(R)?re(R,8):255}else q.Bb=0;if(R.Ka)return er(h,3,"cannot parse segment header");if((q=h.ed).zd=ae(R),q.Tb=re(R,6),q.wb=re(R,3),q.Pc=ae(R),q.Pc&&ae(R)){for(G=0;4>G;++G)ae(R)&&(q.vd[G]=W(R,6));for(G=0;4>G;++G)ae(R)&&(q.od[G]=W(R,6))}if(h.L=q.Tb==0?0:q.zd?1:2,R.Ka)return er(h,3,"cannot parse filter header");var ie=O;if(O=z=j,j=z+ie,q=ie,h.Xb=(1<<re(h.m,2))-1,ie<3*(G=h.Xb))S=7;else{for(z+=3*G,q-=3*G,ie=0;ie<G;++ie){var me=S[O+0]|S[O+1]<<8|S[O+2]<<16;me>q&&(me=q),ee(h.Jc[+ie],S,z,me),z+=me,q-=me,O+=3}ee(h.Jc[+G],S,z,q),S=z<j?0:5}if(S!=0)return er(h,S,"cannot parse partitions");for(S=re(z=h.m,7),O=ae(z)?W(z,4):0,j=ae(z)?W(z,4):0,q=ae(z)?W(z,4):0,G=ae(z)?W(z,4):0,z=ae(z)?W(z,4):0,ie=h.Qa,me=0;4>me;++me){if(ie.Cb){var ge=ie.Zb[me];ie.Fb||(ge+=S)}else{if(0<me){h.pb[me]=h.pb[0];continue}ge=S}var he=h.pb[me];he.Sc[0]=np[Nn(ge+O,127)],he.Sc[1]=ap[Nn(ge+0,127)],he.Eb[0]=2*np[Nn(ge+j,127)],he.Eb[1]=101581*ap[Nn(ge+q,127)]>>16,8>he.Eb[1]&&(he.Eb[1]=8),he.Qc[0]=np[Nn(ge+G,117)],he.Qc[1]=ap[Nn(ge+z,127)],he.lc=ge+z}if(!$.Rb)return er(h,4,"Not a key frame.");for(ae(R),$=h.Pa,S=0;4>S;++S){for(O=0;8>O;++O)for(j=0;3>j;++j)for(q=0;11>q;++q)G=fe(R,H5[S][O][j][q])?re(R,8):V5[S][O][j][q],$.Wc[S][O].Yb[j][q]=G;for(O=0;17>O;++O)$.Xc[S][O]=$.Wc[S][W5[O]]}return h.kc=ae(R),h.kc&&(h.Bd=re(R,8)),h.cb=1}function wu(h,g,S,j,O,R,$){var q=g[O].Yb[S];for(S=0;16>O;++O){if(!fe(h,q[S+0]))return O;for(;!fe(h,q[S+1]);)if(q=g[++O].Yb[0],S=0,O==16)return 16;var z=g[O+1].Yb;if(fe(h,q[S+2])){var G=h,ie=0;if(fe(G,(ge=q)[(me=S)+3]))if(fe(G,ge[me+6])){for(q=0,me=2*(ie=fe(G,ge[me+8]))+(ge=fe(G,ge[me+9+ie])),ie=0,ge=q5[me];ge[q];++q)ie+=ie+fe(G,ge[q]);ie+=3+(8<<me)}else fe(G,ge[me+7])?(ie=7+2*fe(G,165),ie+=fe(G,145)):ie=5+fe(G,159);else ie=fe(G,ge[me+4])?3+fe(G,ge[me+5]):2;q=z[2]}else ie=1,q=z[1];z=$+U5[O],0>(G=h).b&&ue(G);var me,ge=G.b,he=(me=G.Ca>>1)-(G.I>>ge)>>31;--G.b,G.Ca+=he,G.Ca|=1,G.I-=(me+1&he)<<ge,R[z]=((ie^he)-he)*j[(0<O)+0]}return 16}function Dl(h){var g=h.rb[h.sb-1];g.la=0,g.Na=0,a(h.zc,0,0,h.zc.length),h.ja=0}function Of(h,g){if(h==null)return 0;if(g==null)return er(h,2,"NULL VP8Io parameter in VP8Decode().");if(!h.cb&&!xu(h,g))return 0;if(t(h.cb),g.ac==null||g.ac(g)){g.ob&&(h.L=0);var S=Ku[h.L];if(h.L==2?(h.yb=0,h.zb=0):(h.yb=g.v-S>>4,h.zb=g.j-S>>4,0>h.yb&&(h.yb=0),0>h.zb&&(h.zb=0)),h.Va=g.o+15+S>>4,h.Hb=g.va+15+S>>4,h.Hb>h.za&&(h.Hb=h.za),h.Va>h.Ub&&(h.Va=h.Ub),0<h.L){var j=h.ed;for(S=0;4>S;++S){var O;if(h.Qa.Cb){var R=h.Qa.Lb[S];h.Qa.Fb||(R+=j.Tb)}else R=j.Tb;for(O=0;1>=O;++O){var $=h.gd[S][O],q=R;if(j.Pc&&(q+=j.vd[0],O&&(q+=j.od[0])),0<(q=0>q?0:63<q?63:q)){var z=q;0<j.wb&&(z=4<j.wb?z>>2:z>>1)>9-j.wb&&(z=9-j.wb),1>z&&(z=1),$.dd=z,$.tc=2*q+z,$.ld=40<=q?2:15<=q?1:0}else $.tc=0;$.La=O}}}S=0}else er(h,6,"Frame setup failed"),S=h.a;if(S=S==0){if(S){h.$c=0,0<h.Aa||(h.Ic=sS);e:{S=h.Ic,j=4*(z=h.za);var G=32*z,ie=z+1,me=0<h.L?z*(0<h.Aa?2:1):0,ge=(h.Aa==2?2:1)*z;if(($=j+832+(O=3*(16*S+Ku[h.L])/2*G)+(R=h.Fa!=null&&0<h.Fa.length?h.Kc.c*h.Kc.i:0))!=$)S=0;else{if($>h.Vb){if(h.Vb=0,h.Ec=s($),h.Fc=0,h.Ec==null){S=er(h,1,"no memory during frame initialization.");break e}h.Vb=$}$=h.Ec,q=h.Fc,h.Ac=$,h.Bc=q,q+=j,h.Gd=i(G,bu),h.Hd=0,h.rb=i(ie+1,vu),h.sb=1,h.wa=me?i(me,to):null,h.Y=0,h.D.Nb=0,h.D.wa=h.wa,h.D.Y=h.Y,0<h.Aa&&(h.D.Y+=z),t(!0),h.oc=$,h.pc=q,q+=832,h.ya=i(ge,Cl),h.aa=0,h.D.ya=h.ya,h.D.aa=h.aa,h.Aa==2&&(h.D.aa+=z),h.R=16*z,h.B=8*z,z=(G=Ku[h.L])*h.R,G=G/2*h.B,h.sa=$,h.ta=q+z,h.qa=h.sa,h.ra=h.ta+16*S*h.R+G,h.Ha=h.qa,h.Ia=h.ra+8*S*h.B+G,h.$c=0,q+=O,h.mb=R?$:null,h.nb=R?q:null,t(q+R<=h.Fc+h.Vb),Dl(h),a(h.Ac,h.Bc,0,j),S=1}}if(S){if(g.ka=0,g.y=h.sa,g.O=h.ta,g.f=h.qa,g.N=h.ra,g.ea=h.Ha,g.Vd=h.Ia,g.fa=h.R,g.Rc=h.B,g.F=null,g.J=0,!Bu){for(S=-255;255>=S;++S)pr[255+S]=0>S?-S:S;for(S=-1020;1020>=S;++S)is[1020+S]=-128>S?-128:127<S?127:S;for(S=-112;112>=S;++S)Jl[112+S]=-16>S?-16:15<S?15:S;for(S=-255;510>=S;++S)wo[255+S]=0>S?0:255<S?255:S;Bu=1}bo=If,ss=Tf,Yl=Nu,Kr=Mf,$n=_u,tr=Su,yo=Tl,Fu=di,Gl=Kf,pi=Ml,mi=Gf,_s=lo,gi=Il,xo=Ou,vi=Lu,js=Ca,Kl=rs,Fn=Yf,la[0]=ka,la[1]=Rf,la[2]=qf,la[3]=Uf,la[4]=Cu,la[5]=io,la[6]=Du,la[7]=Al,la[8]=zf,la[9]=Vf,ks[0]=ju,ks[1]=Ff,ks[2]=ts,ks[3]=ao,ks[4]=Ir,ks[5]=Bf,ks[6]=ku,os[0]=ys,os[1]=$f,os[2]=Hf,os[3]=Ll,os[4]=ui,os[5]=Wf,os[6]=Ol,S=1}else S=0}S&&(S=function(he,Se){for(he.M=0;he.M<he.Va;++he.M){var be,oe=he.Jc[he.M&he.Xb],ce=he.m,xe=he;for(be=0;be<xe.za;++be){var je=ce,we=xe,Ue=we.Ac,Te=we.Bc+4*be,Je=we.zc,$e=we.ya[we.aa+be];if(we.Qa.Bb?$e.$b=fe(je,we.Pa.jb[0])?2+fe(je,we.Pa.jb[2]):fe(je,we.Pa.jb[1]):$e.$b=0,we.kc&&($e.Ad=fe(je,we.Bd)),$e.Za=!fe(je,145)+0,$e.Za){var Nt=$e.Ob,Et=0;for(we=0;4>we;++we){var xt,gt=Je[0+we];for(xt=0;4>xt;++xt){gt=z5[Ue[Te+xt]][gt];for(var Mt=I0[fe(je,gt[0])];0<Mt;)Mt=I0[2*Mt+fe(je,gt[Mt])];gt=-Mt,Ue[Te+xt]=gt}r(Nt,Et,Ue,Te,4),Et+=4,Je[0+we]=gt}}else gt=fe(je,156)?fe(je,128)?1:3:fe(je,163)?2:0,$e.Ob[0]=gt,a(Ue,Te,gt,4),a(Je,0,gt,4);$e.Dd=fe(je,142)?fe(je,114)?fe(je,183)?1:3:2:0}if(xe.m.Ka)return er(he,7,"Premature end-of-partition0 encountered.");for(;he.ja<he.za;++he.ja){if(xe=oe,je=(ce=he).rb[ce.sb-1],Ue=ce.rb[ce.sb+ce.ja],be=ce.ya[ce.aa+ce.ja],Te=ce.kc?be.Ad:0)je.la=Ue.la=0,be.Za||(je.Na=Ue.Na=0),be.Hc=0,be.Gc=0,be.ia=0;else{var Ot,ct;if(je=Ue,Ue=xe,Te=ce.Pa.Xc,Je=ce.ya[ce.aa+ce.ja],$e=ce.pb[Je.$b],we=Je.ad,Nt=0,Et=ce.rb[ce.sb-1],gt=xt=0,a(we,Nt,0,384),Je.Za)var lr=0,hn=Te[3];else{Mt=s(16);var cr=je.Na+Et.Na;if(cr=Xl(Ue,Te[1],cr,$e.Eb,0,Mt,0),je.Na=Et.Na=(0<cr)+0,1<cr)bo(Mt,0,we,Nt);else{var fn=Mt[0]+3>>3;for(Mt=0;256>Mt;Mt+=16)we[Nt+Mt]=fn}lr=1,hn=Te[0]}var Pt=15&je.la,jn=15&Et.la;for(Mt=0;4>Mt;++Mt){var kn=1&jn;for(fn=ct=0;4>fn;++fn)Pt=Pt>>1|(kn=(cr=Xl(Ue,hn,cr=kn+(1&Pt),$e.Sc,lr,we,Nt))>lr)<<7,ct=ct<<2|(3<cr?3:1<cr?2:we[Nt+0]!=0),Nt+=16;Pt>>=4,jn=jn>>1|kn<<7,xt=(xt<<8|ct)>>>0}for(hn=Pt,lr=jn>>4,Ot=0;4>Ot;Ot+=2){for(ct=0,Pt=je.la>>4+Ot,jn=Et.la>>4+Ot,Mt=0;2>Mt;++Mt){for(kn=1&jn,fn=0;2>fn;++fn)cr=kn+(1&Pt),Pt=Pt>>1|(kn=0<(cr=Xl(Ue,Te[2],cr,$e.Qc,0,we,Nt)))<<3,ct=ct<<2|(3<cr?3:1<cr?2:we[Nt+0]!=0),Nt+=16;Pt>>=2,jn=jn>>1|kn<<5}gt|=ct<<4*Ot,hn|=Pt<<4<<Ot,lr|=(240&jn)<<Ot}je.la=hn,Et.la=lr,Je.Hc=xt,Je.Gc=gt,Je.ia=43690&gt?0:$e.ia,Te=!(xt|gt)}if(0<ce.L&&(ce.wa[ce.Y+ce.ja]=ce.gd[be.$b][be.Za],ce.wa[ce.Y+ce.ja].La|=!Te),xe.Ka)return er(he,7,"Premature end-of-file encountered.")}if(Dl(he),ce=Se,xe=1,be=(oe=he).D,je=0<oe.L&&oe.M>=oe.zb&&oe.M<=oe.Va,oe.Aa==0)e:{if(be.M=oe.M,be.uc=je,Ul(oe,be),xe=1,be=(ct=oe.D).Nb,je=(gt=Ku[oe.L])*oe.R,Ue=gt/2*oe.B,Mt=16*be*oe.R,fn=8*be*oe.B,Te=oe.sa,Je=oe.ta-je+Mt,$e=oe.qa,we=oe.ra-Ue+fn,Nt=oe.Ha,Et=oe.Ia-Ue+fn,jn=(Pt=ct.M)==0,xt=Pt>=oe.Va-1,oe.Aa==2&&Ul(oe,ct),ct.uc)for(kn=(cr=oe).D.M,t(cr.D.uc),ct=cr.yb;ct<cr.Hb;++ct){lr=ct,hn=kn;var br=(Er=(Jt=cr).D).Nb;Ot=Jt.R;var Er=Er.wa[Er.Y+lr],Jr=Jt.sa,Vn=Jt.ta+16*br*Ot+16*lr,Ea=Er.dd,yr=Er.tc;if(yr!=0)if(t(3<=yr),Jt.L==1)0<lr&&js(Jr,Vn,Ot,yr+4),Er.La&&Fn(Jr,Vn,Ot,yr),0<hn&&vi(Jr,Vn,Ot,yr+4),Er.La&&Kl(Jr,Vn,Ot,yr);else{var ls=Jt.B,bi=Jt.qa,So=Jt.ra+8*br*ls+8*lr,Ds=Jt.Ha,Jt=Jt.Ia+8*br*ls+8*lr;br=Er.ld,0<lr&&(Fu(Jr,Vn,Ot,yr+4,Ea,br),pi(bi,So,Ds,Jt,ls,yr+4,Ea,br)),Er.La&&(_s(Jr,Vn,Ot,yr,Ea,br),xo(bi,So,Ds,Jt,ls,yr,Ea,br)),0<hn&&(yo(Jr,Vn,Ot,yr+4,Ea,br),Gl(bi,So,Ds,Jt,ls,yr+4,Ea,br)),Er.La&&(mi(Jr,Vn,Ot,yr,Ea,br),gi(bi,So,Ds,Jt,ls,yr,Ea,br))}}if(oe.ia&&alert("todo:DitherRow"),ce.put!=null){if(ct=16*Pt,Pt=16*(Pt+1),jn?(ce.y=oe.sa,ce.O=oe.ta+Mt,ce.f=oe.qa,ce.N=oe.ra+fn,ce.ea=oe.Ha,ce.W=oe.Ia+fn):(ct-=gt,ce.y=Te,ce.O=Je,ce.f=$e,ce.N=we,ce.ea=Nt,ce.W=Et),xt||(Pt-=gt),Pt>ce.o&&(Pt=ce.o),ce.F=null,ce.J=null,oe.Fa!=null&&0<oe.Fa.length&&ct<Pt&&(ce.J=Bl(oe,ce,ct,Pt-ct),ce.F=oe.mb,ce.F==null&&ce.F.length==0)){xe=er(oe,3,"Could not decode alpha data.");break e}ct<ce.j&&(gt=ce.j-ct,ct=ce.j,t(!(1&gt)),ce.O+=oe.R*gt,ce.N+=oe.B*(gt>>1),ce.W+=oe.B*(gt>>1),ce.F!=null&&(ce.J+=ce.width*gt)),ct<Pt&&(ce.O+=ce.v,ce.N+=ce.v>>1,ce.W+=ce.v>>1,ce.F!=null&&(ce.J+=ce.v),ce.ka=ct-ce.j,ce.U=ce.va-ce.v,ce.T=Pt-ct,xe=ce.put(ce))}be+1!=oe.Ic||xt||(r(oe.sa,oe.ta-je,Te,Je+16*oe.R,je),r(oe.qa,oe.ra-Ue,$e,we+8*oe.B,Ue),r(oe.Ha,oe.Ia-Ue,Nt,Et+8*oe.B,Ue))}if(!xe)return er(he,6,"Output aborted.")}return 1}(h,g)),g.bc!=null&&g.bc(g),S&=1}return S?(h.cb=0,S):0}function sa(h,g,S,j,O){O=h[g+S+32*j]+(O>>3),h[g+S+32*j]=-256&O?0>O?0:255:O}function no(h,g,S,j,O,R){sa(h,g,0,S,j+O),sa(h,g,1,S,j+R),sa(h,g,2,S,j-R),sa(h,g,3,S,j-O)}function cn(h){return(20091*h>>16)+h}function El(h,g,S,j){var O,R=0,$=s(16);for(O=0;4>O;++O){var q=h[g+0]+h[g+8],z=h[g+0]-h[g+8],G=(35468*h[g+4]>>16)-cn(h[g+12]),ie=cn(h[g+4])+(35468*h[g+12]>>16);$[R+0]=q+ie,$[R+1]=z+G,$[R+2]=z-G,$[R+3]=q-ie,R+=4,g++}for(O=R=0;4>O;++O)q=(h=$[R+0]+4)+$[R+8],z=h-$[R+8],G=(35468*$[R+4]>>16)-cn($[R+12]),sa(S,j,0,0,q+(ie=cn($[R+4])+(35468*$[R+12]>>16))),sa(S,j,1,0,z+G),sa(S,j,2,0,z-G),sa(S,j,3,0,q-ie),R++,j+=32}function Su(h,g,S,j){var O=h[g+0]+4,R=35468*h[g+4]>>16,$=cn(h[g+4]),q=35468*h[g+1]>>16;no(S,j,0,O+$,h=cn(h[g+1]),q),no(S,j,1,O+R,h,q),no(S,j,2,O-R,h,q),no(S,j,3,O-$,h,q)}function Tf(h,g,S,j,O){El(h,g,S,j),O&&El(h,g+16,S,j+4)}function Nu(h,g,S,j){ss(h,g+0,S,j,1),ss(h,g+32,S,j+128,1)}function Mf(h,g,S,j){var O;for(h=h[g+0]+4,O=0;4>O;++O)for(g=0;4>g;++g)sa(S,j,g,O,h)}function _u(h,g,S,j){h[g+0]&&Kr(h,g+0,S,j),h[g+16]&&Kr(h,g+16,S,j+4),h[g+32]&&Kr(h,g+32,S,j+128),h[g+48]&&Kr(h,g+48,S,j+128+4)}function If(h,g,S,j){var O,R=s(16);for(O=0;4>O;++O){var $=h[g+0+O]+h[g+12+O],q=h[g+4+O]+h[g+8+O],z=h[g+4+O]-h[g+8+O],G=h[g+0+O]-h[g+12+O];R[0+O]=$+q,R[8+O]=$-q,R[4+O]=G+z,R[12+O]=G-z}for(O=0;4>O;++O)$=(h=R[0+4*O]+3)+R[3+4*O],q=R[1+4*O]+R[2+4*O],z=R[1+4*O]-R[2+4*O],G=h-R[3+4*O],S[j+0]=$+q>>3,S[j+16]=G+z>>3,S[j+32]=$-q>>3,S[j+48]=G-z>>3,j+=64}function Pl(h,g,S){var j,O=g-32,R=_n,$=255-h[O-1];for(j=0;j<S;++j){var q,z=R,G=$+h[g-1];for(q=0;q<S;++q)h[g+q]=z[G+h[O+q]];g+=32}}function Rf(h,g){Pl(h,g,4)}function $f(h,g){Pl(h,g,8)}function Ff(h,g){Pl(h,g,16)}function ts(h,g){var S;for(S=0;16>S;++S)r(h,g+32*S,h,g-32,16)}function ao(h,g){var S;for(S=16;0<S;--S)a(h,g,h[g-1],16),g+=32}function so(h,g,S){var j;for(j=0;16>j;++j)a(g,S+32*j,h,16)}function ju(h,g){var S,j=16;for(S=0;16>S;++S)j+=h[g-1+32*S]+h[g+S-32];so(j>>5,h,g)}function Ir(h,g){var S,j=8;for(S=0;16>S;++S)j+=h[g-1+32*S];so(j>>4,h,g)}function Bf(h,g){var S,j=8;for(S=0;16>S;++S)j+=h[g+S-32];so(j>>4,h,g)}function ku(h,g){so(128,h,g)}function rt(h,g,S){return h+2*g+S+2>>2}function qf(h,g){var S,j=g-32;for(j=new Uint8Array([rt(h[j-1],h[j+0],h[j+1]),rt(h[j+0],h[j+1],h[j+2]),rt(h[j+1],h[j+2],h[j+3]),rt(h[j+2],h[j+3],h[j+4])]),S=0;4>S;++S)r(h,g+32*S,j,0,j.length)}function Uf(h,g){var S=h[g-1],j=h[g-1+32],O=h[g-1+64],R=h[g-1+96];Ne(h,g+0,16843009*rt(h[g-1-32],S,j)),Ne(h,g+32,16843009*rt(S,j,O)),Ne(h,g+64,16843009*rt(j,O,R)),Ne(h,g+96,16843009*rt(O,R,R))}function ka(h,g){var S,j=4;for(S=0;4>S;++S)j+=h[g+S-32]+h[g-1+32*S];for(j>>=3,S=0;4>S;++S)a(h,g+32*S,j,4)}function Cu(h,g){var S=h[g-1+0],j=h[g-1+32],O=h[g-1+64],R=h[g-1-32],$=h[g+0-32],q=h[g+1-32],z=h[g+2-32],G=h[g+3-32];h[g+0+96]=rt(j,O,h[g-1+96]),h[g+1+96]=h[g+0+64]=rt(S,j,O),h[g+2+96]=h[g+1+64]=h[g+0+32]=rt(R,S,j),h[g+3+96]=h[g+2+64]=h[g+1+32]=h[g+0+0]=rt($,R,S),h[g+3+64]=h[g+2+32]=h[g+1+0]=rt(q,$,R),h[g+3+32]=h[g+2+0]=rt(z,q,$),h[g+3+0]=rt(G,z,q)}function Du(h,g){var S=h[g+1-32],j=h[g+2-32],O=h[g+3-32],R=h[g+4-32],$=h[g+5-32],q=h[g+6-32],z=h[g+7-32];h[g+0+0]=rt(h[g+0-32],S,j),h[g+1+0]=h[g+0+32]=rt(S,j,O),h[g+2+0]=h[g+1+32]=h[g+0+64]=rt(j,O,R),h[g+3+0]=h[g+2+32]=h[g+1+64]=h[g+0+96]=rt(O,R,$),h[g+3+32]=h[g+2+64]=h[g+1+96]=rt(R,$,q),h[g+3+64]=h[g+2+96]=rt($,q,z),h[g+3+96]=rt(q,z,z)}function io(h,g){var S=h[g-1+0],j=h[g-1+32],O=h[g-1+64],R=h[g-1-32],$=h[g+0-32],q=h[g+1-32],z=h[g+2-32],G=h[g+3-32];h[g+0+0]=h[g+1+64]=R+$+1>>1,h[g+1+0]=h[g+2+64]=$+q+1>>1,h[g+2+0]=h[g+3+64]=q+z+1>>1,h[g+3+0]=z+G+1>>1,h[g+0+96]=rt(O,j,S),h[g+0+64]=rt(j,S,R),h[g+0+32]=h[g+1+96]=rt(S,R,$),h[g+1+32]=h[g+2+96]=rt(R,$,q),h[g+2+32]=h[g+3+96]=rt($,q,z),h[g+3+32]=rt(q,z,G)}function Al(h,g){var S=h[g+0-32],j=h[g+1-32],O=h[g+2-32],R=h[g+3-32],$=h[g+4-32],q=h[g+5-32],z=h[g+6-32],G=h[g+7-32];h[g+0+0]=S+j+1>>1,h[g+1+0]=h[g+0+64]=j+O+1>>1,h[g+2+0]=h[g+1+64]=O+R+1>>1,h[g+3+0]=h[g+2+64]=R+$+1>>1,h[g+0+32]=rt(S,j,O),h[g+1+32]=h[g+0+96]=rt(j,O,R),h[g+2+32]=h[g+1+96]=rt(O,R,$),h[g+3+32]=h[g+2+96]=rt(R,$,q),h[g+3+64]=rt($,q,z),h[g+3+96]=rt(q,z,G)}function Vf(h,g){var S=h[g-1+0],j=h[g-1+32],O=h[g-1+64],R=h[g-1+96];h[g+0+0]=S+j+1>>1,h[g+2+0]=h[g+0+32]=j+O+1>>1,h[g+2+32]=h[g+0+64]=O+R+1>>1,h[g+1+0]=rt(S,j,O),h[g+3+0]=h[g+1+32]=rt(j,O,R),h[g+3+32]=h[g+1+64]=rt(O,R,R),h[g+3+64]=h[g+2+64]=h[g+0+96]=h[g+1+96]=h[g+2+96]=h[g+3+96]=R}function zf(h,g){var S=h[g-1+0],j=h[g-1+32],O=h[g-1+64],R=h[g-1+96],$=h[g-1-32],q=h[g+0-32],z=h[g+1-32],G=h[g+2-32];h[g+0+0]=h[g+2+32]=S+$+1>>1,h[g+0+32]=h[g+2+64]=j+S+1>>1,h[g+0+64]=h[g+2+96]=O+j+1>>1,h[g+0+96]=R+O+1>>1,h[g+3+0]=rt(q,z,G),h[g+2+0]=rt($,q,z),h[g+1+0]=h[g+3+32]=rt(S,$,q),h[g+1+32]=h[g+3+64]=rt(j,S,$),h[g+1+64]=h[g+3+96]=rt(O,j,S),h[g+1+96]=rt(R,O,j)}function Hf(h,g){var S;for(S=0;8>S;++S)r(h,g+32*S,h,g-32,8)}function Ll(h,g){var S;for(S=0;8>S;++S)a(h,g,h[g-1],8),g+=32}function ci(h,g,S){var j;for(j=0;8>j;++j)a(g,S+32*j,h,8)}function ys(h,g){var S,j=8;for(S=0;8>S;++S)j+=h[g+S-32]+h[g-1+32*S];ci(j>>4,h,g)}function Wf(h,g){var S,j=4;for(S=0;8>S;++S)j+=h[g+S-32];ci(j>>3,h,g)}function ui(h,g){var S,j=4;for(S=0;8>S;++S)j+=h[g-1+32*S];ci(j>>3,h,g)}function Ol(h,g){ci(128,h,g)}function oo(h,g,S){var j=h[g-S],O=h[g+0],R=3*(O-j)+Qf[1020+h[g-2*S]-h[g+S]],$=qu[112+(R+4>>3)];h[g-S]=_n[255+j+qu[112+(R+3>>3)]],h[g+0]=_n[255+O-$]}function Eu(h,g,S,j){var O=h[g+0],R=h[g+S];return qn[255+h[g-2*S]-h[g-S]]>j||qn[255+R-O]>j}function Pu(h,g,S,j){return 4*qn[255+h[g-S]-h[g+0]]+qn[255+h[g-2*S]-h[g+S]]<=j}function Au(h,g,S,j,O){var R=h[g-3*S],$=h[g-2*S],q=h[g-S],z=h[g+0],G=h[g+S],ie=h[g+2*S],me=h[g+3*S];return 4*qn[255+q-z]+qn[255+$-G]>j?0:qn[255+h[g-4*S]-R]<=O&&qn[255+R-$]<=O&&qn[255+$-q]<=O&&qn[255+me-ie]<=O&&qn[255+ie-G]<=O&&qn[255+G-z]<=O}function Lu(h,g,S,j){var O=2*j+1;for(j=0;16>j;++j)Pu(h,g+j,S,O)&&oo(h,g+j,S)}function Ca(h,g,S,j){var O=2*j+1;for(j=0;16>j;++j)Pu(h,g+j*S,1,O)&&oo(h,g+j*S,1)}function rs(h,g,S,j){var O;for(O=3;0<O;--O)Lu(h,g+=4*S,S,j)}function Yf(h,g,S,j){var O;for(O=3;0<O;--O)Ca(h,g+=4,S,j)}function xs(h,g,S,j,O,R,$,q){for(R=2*R+1;0<O--;){if(Au(h,g,S,R,$))if(Eu(h,g,S,q))oo(h,g,S);else{var z=h,G=g,ie=S,me=z[G-2*ie],ge=z[G-ie],he=z[G+0],Se=z[G+ie],be=z[G+2*ie],oe=27*(xe=Qf[1020+3*(he-ge)+Qf[1020+me-Se]])+63>>7,ce=18*xe+63>>7,xe=9*xe+63>>7;z[G-3*ie]=_n[255+z[G-3*ie]+xe],z[G-2*ie]=_n[255+me+ce],z[G-ie]=_n[255+ge+oe],z[G+0]=_n[255+he-oe],z[G+ie]=_n[255+Se-ce],z[G+2*ie]=_n[255+be-xe]}g+=j}}function ia(h,g,S,j,O,R,$,q){for(R=2*R+1;0<O--;){if(Au(h,g,S,R,$))if(Eu(h,g,S,q))oo(h,g,S);else{var z=h,G=g,ie=S,me=z[G-ie],ge=z[G+0],he=z[G+ie],Se=qu[112+((be=3*(ge-me))+4>>3)],be=qu[112+(be+3>>3)],oe=Se+1>>1;z[G-2*ie]=_n[255+z[G-2*ie]+oe],z[G-ie]=_n[255+me+be],z[G+0]=_n[255+ge-Se],z[G+ie]=_n[255+he-oe]}g+=j}}function Tl(h,g,S,j,O,R){xs(h,g,S,1,16,j,O,R)}function di(h,g,S,j,O,R){xs(h,g,1,S,16,j,O,R)}function Gf(h,g,S,j,O,R){var $;for($=3;0<$;--$)ia(h,g+=4*S,S,1,16,j,O,R)}function lo(h,g,S,j,O,R){var $;for($=3;0<$;--$)ia(h,g+=4,1,S,16,j,O,R)}function Kf(h,g,S,j,O,R,$,q){xs(h,g,O,1,8,R,$,q),xs(S,j,O,1,8,R,$,q)}function Ml(h,g,S,j,O,R,$,q){xs(h,g,1,O,8,R,$,q),xs(S,j,1,O,8,R,$,q)}function Il(h,g,S,j,O,R,$,q){ia(h,g+4*O,O,1,8,R,$,q),ia(S,j+4*O,O,1,8,R,$,q)}function Ou(h,g,S,j,O,R,$,q){ia(h,g+4,1,O,8,R,$,q),ia(S,j+4,1,O,8,R,$,q)}function co(){this.ba=new ea,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Gt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Rl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function $l(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Tu(){this.ua=0,this.Wa=new te,this.vb=new te,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new I,this.yc=new P}function Jf(){this.xb=this.a=0,this.l=new ro,this.ca=new ea,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new M,this.Pb=0,this.wd=new M,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Tu,this.ab=0,this.gc=i(4,$l),this.Oc=0}function uo(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ro,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function hi(h,g,S,j,O,R,$){for(h=h==null?0:h[g+0],g=0;g<$;++g)O[R+g]=h+S[j+g]&255,h=O[R+g]}function Fl(h,g,S,j,O,R,$){var q;if(h==null)hi(null,null,S,j,O,R,$);else for(q=0;q<$;++q)O[R+q]=h[g+q]+S[j+q]&255}function ws(h,g,S,j,O,R,$){if(h==null)hi(null,null,S,j,O,R,$);else{var q,z=h[g+0],G=z,ie=z;for(q=0;q<$;++q)G=ie+(z=h[g+q])-G,ie=S[j+q]+(-256&G?0>G?0:255:G)&255,G=z,O[R+q]=ie}}function Bl(h,g,S,j){var O=g.width,R=g.o;if(t(h!=null&&g!=null),0>S||0>=j||S+j>R)return null;if(!h.Cc){if(h.ga==null){var $;if(h.ga=new uo,($=h.ga==null)||($=g.width*g.o,t(h.Gb.length==0),h.Gb=s($),h.Uc=0,h.Gb==null?$=0:(h.mb=h.Gb,h.nb=h.Uc,h.rc=null,$=1),$=!$),!$){$=h.ga;var q=h.Fa,z=h.P,G=h.qc,ie=h.mb,me=h.nb,ge=z+1,he=G-1,Se=$.l;if(t(q!=null&&ie!=null&&g!=null),Cs[0]=null,Cs[1]=hi,Cs[2]=Fl,Cs[3]=ws,$.ca=ie,$.tb=me,$.c=g.width,$.i=g.height,t(0<$.c&&0<$.i),1>=G)g=0;else if($.$a=q[z+0]>>0&3,$.Z=q[z+0]>>2&3,$.Lc=q[z+0]>>4&3,z=q[z+0]>>6&3,0>$.$a||1<$.$a||4<=$.Z||1<$.Lc||z)g=0;else if(Se.put=wa,Se.ac=Cr,Se.bc=Sa,Se.ma=$,Se.width=g.width,Se.height=g.height,Se.Da=g.Da,Se.v=g.v,Se.va=g.va,Se.j=g.j,Se.o=g.o,$.$a)e:{t($.$a==1),g=In();t:for(;;){if(g==null){g=0;break e}if(t($!=null),$.mc=g,g.c=$.c,g.i=$.i,g.l=$.l,g.l.ma=$,g.l.width=$.c,g.l.height=$.i,g.a=0,Z(g.m,q,ge,he),!ja($.c,$.i,1,g,null)||(g.ab==1&&g.gc[0].hc==3&&es(g.s)?($.ic=1,q=g.c*g.i,g.Ta=null,g.Ua=0,g.V=s(q),g.Ba=0,g.V==null?(g.a=1,g=0):g=1):($.ic=0,g=li(g,$.c)),!g))break t;g=1;break e}$.mc=null,g=0}else g=he>=$.c*$.i;$=!g}if($)return null;h.ga.Lc!=1?h.Ga=0:j=R-S}t(h.ga!=null),t(S+j<=R);e:{if(g=(q=h.ga).c,R=q.l.o,q.$a==0){if(ge=h.rc,he=h.Vc,Se=h.Fa,z=h.P+1+S*g,G=h.mb,ie=h.nb+S*g,t(z<=h.P+h.qc),q.Z!=0)for(t(Cs[q.Z]!=null),$=0;$<j;++$)Cs[q.Z](ge,he,Se,z,G,ie,g),ge=G,he=ie,ie+=g,z+=g;else for($=0;$<j;++$)r(G,ie,Se,z,g),ge=G,he=ie,ie+=g,z+=g;h.rc=ge,h.Vc=he}else{if(t(q.mc!=null),g=S+j,t(($=q.mc)!=null),t(g<=$.i),$.C>=g)g=1;else if(q.ic||pe(),q.ic){q=$.V,ge=$.Ba,he=$.c;var be=$.i,oe=(Se=1,z=$.$/he,G=$.$%he,ie=$.m,me=$.s,$.$),ce=he*be,xe=he*g,je=me.wc,we=oe<xe?ir(me,G,z):null;t(oe<=ce),t(g<=be),t(es(me));t:for(;;){for(;!ie.h&&oe<xe;){if(G&je||(we=ir(me,G,z)),t(we!=null),ne(ie),256>(be=ln(we.G[0],we.H[0],ie)))q[ge+oe]=be,++oe,++G>=he&&(G=0,++z<=g&&!(z%16)&&na($,z));else{if(!(280>be)){Se=0;break t}be=ta(be-256,ie);var Ue,Te=ln(we.G[4],we.H[4],ie);if(ne(ie),!(oe>=(Te=Na(he,Te=ta(Te,ie)))&&ce-oe>=be)){Se=0;break t}for(Ue=0;Ue<be;++Ue)q[ge+oe+Ue]=q[ge+oe+Ue-Te];for(oe+=be,G+=be;G>=he;)G-=he,++z<=g&&!(z%16)&&na($,z);oe<xe&&G&je&&(we=ir(me,G,z))}t(ie.h==X(ie))}na($,z>g?g:z);break t}!Se||ie.h&&oe<ce?(Se=0,$.a=ie.h?5:3):$.$=oe,g=Se}else g=aa($,$.V,$.Ba,$.c,$.i,g,Xi);if(!g){j=0;break e}}S+j>=R&&(h.Cc=1),j=1}if(!j)return null;if(h.Cc&&((j=h.ga)!=null&&(j.mc=null),h.ga=null,0<h.Ga))return alert("todo:WebPDequantizeLevels"),null}return h.nb+S*O}function b(h,g,S,j,O,R){for(;0<O--;){var $,q=h,z=g+(S?1:0),G=h,ie=g+(S?0:3);for($=0;$<j;++$){var me=G[ie+4*$];me!=255&&(me*=32897,q[z+4*$+0]=q[z+4*$+0]*me>>23,q[z+4*$+1]=q[z+4*$+1]*me>>23,q[z+4*$+2]=q[z+4*$+2]*me>>23)}g+=R}}function T(h,g,S,j,O){for(;0<j--;){var R;for(R=0;R<S;++R){var $=h[g+2*R+0],q=15&(G=h[g+2*R+1]),z=4369*q,G=(240&G|G>>4)*z>>16;h[g+2*R+0]=(240&$|$>>4)*z>>16&240|(15&$|$<<4)*z>>16>>4&15,h[g+2*R+1]=240&G|q}g+=O}}function Q(h,g,S,j,O,R,$,q){var z,G,ie=255;for(G=0;G<O;++G){for(z=0;z<j;++z){var me=h[g+z];R[$+4*z]=me,ie&=me}g+=S,$+=q}return ie!=255}function se(h,g,S,j,O){var R;for(R=0;R<O;++R)S[j+R]=h[g+R]>>8}function pe(){Bn=b,Rt=T,$t=Q,rr=se}function ye(h,g,S){E[h]=function(j,O,R,$,q,z,G,ie,me,ge,he,Se,be,oe,ce,xe,je){var we,Ue=je-1>>1,Te=q[z+0]|G[ie+0]<<16,Je=me[ge+0]|he[Se+0]<<16;t(j!=null);var $e=3*Te+Je+131074>>2;for(g(j[O+0],255&$e,$e>>16,be,oe),R!=null&&($e=3*Je+Te+131074>>2,g(R[$+0],255&$e,$e>>16,ce,xe)),we=1;we<=Ue;++we){var Nt=q[z+we]|G[ie+we]<<16,Et=me[ge+we]|he[Se+we]<<16,xt=Te+Nt+Je+Et+524296,gt=xt+2*(Nt+Je)>>3;$e=gt+Te>>1,Te=(xt=xt+2*(Te+Et)>>3)+Nt>>1,g(j[O+2*we-1],255&$e,$e>>16,be,oe+(2*we-1)*S),g(j[O+2*we-0],255&Te,Te>>16,be,oe+(2*we-0)*S),R!=null&&($e=xt+Je>>1,Te=gt+Et>>1,g(R[$+2*we-1],255&$e,$e>>16,ce,xe+(2*we-1)*S),g(R[$+2*we+0],255&Te,Te>>16,ce,xe+(2*we+0)*S)),Te=Nt,Je=Et}1&je||($e=3*Te+Je+131074>>2,g(j[O+je-1],255&$e,$e>>16,be,oe+(je-1)*S),R!=null&&($e=3*Je+Te+131074>>2,g(R[$+je-1],255&$e,$e>>16,ce,xe+(je-1)*S)))}}function ke(){Un[Uu]=G5,Un[Vu]=$0,Un[O0]=K5,Un[zu]=F0,Un[Hu]=B0,Un[Zf]=q0,Un[T0]=J5,Un[ep]=$0,Un[tp]=F0,Un[Wu]=B0,Un[rp]=q0}function qe(h){return h&~X5?0>h?0:255:h>>U0}function Ge(h,g){return qe((19077*h>>8)+(26149*g>>8)-14234)}function lt(h,g,S){return qe((19077*h>>8)-(6419*g>>8)-(13320*S>>8)+8708)}function it(h,g){return qe((19077*h>>8)+(33050*g>>8)-17685)}function yt(h,g,S,j,O){j[O+0]=Ge(h,S),j[O+1]=lt(h,g,S),j[O+2]=it(h,g)}function Wt(h,g,S,j,O){j[O+0]=it(h,g),j[O+1]=lt(h,g,S),j[O+2]=Ge(h,S)}function Kt(h,g,S,j,O){var R=lt(h,g,S);g=R<<3&224|it(h,g)>>3,j[O+0]=248&Ge(h,S)|R>>5,j[O+1]=g}function or(h,g,S,j,O){var R=240&it(h,g)|15;j[O+0]=240&Ge(h,S)|lt(h,g,S)>>4,j[O+1]=R}function Rr(h,g,S,j,O){j[O+0]=255,yt(h,g,S,j,O+1)}function vr(h,g,S,j,O){Wt(h,g,S,j,O),j[O+3]=255}function oa(h,g,S,j,O){yt(h,g,S,j,O),j[O+3]=255}function Nn(h,g){return 0>h?0:h>g?g:h}function Da(h,g,S){E[h]=function(j,O,R,$,q,z,G,ie,me){for(var ge=ie+(-2&me)*S;ie!=ge;)g(j[O+0],R[$+0],q[z+0],G,ie),g(j[O+1],R[$+0],q[z+0],G,ie+S),O+=2,++$,++z,ie+=2*S;1&me&&g(j[O+0],R[$+0],q[z+0],G,ie)}}function Mu(h,g,S){return S==0?h==0?g==0?6:5:g==0?4:0:S}function ql(h,g,S,j,O){switch(h>>>30){case 3:ss(g,S,j,O,0);break;case 2:tr(g,S,j,O);break;case 1:Kr(g,S,j,O)}}function Ul(h,g){var S,j,O=g.M,R=g.Nb,$=h.oc,q=h.pc+40,z=h.oc,G=h.pc+584,ie=h.oc,me=h.pc+600;for(S=0;16>S;++S)$[q+32*S-1]=129;for(S=0;8>S;++S)z[G+32*S-1]=129,ie[me+32*S-1]=129;for(0<O?$[q-1-32]=z[G-1-32]=ie[me-1-32]=129:(a($,q-32-1,127,21),a(z,G-32-1,127,9),a(ie,me-32-1,127,9)),j=0;j<h.za;++j){var ge=g.ya[g.aa+j];if(0<j){for(S=-1;16>S;++S)r($,q+32*S-4,$,q+32*S+12,4);for(S=-1;8>S;++S)r(z,G+32*S-4,z,G+32*S+4,4),r(ie,me+32*S-4,ie,me+32*S+4,4)}var he=h.Gd,Se=h.Hd+j,be=ge.ad,oe=ge.Hc;if(0<O&&(r($,q-32,he[Se].y,0,16),r(z,G-32,he[Se].f,0,8),r(ie,me-32,he[Se].ea,0,8)),ge.Za){var ce=$,xe=q-32+16;for(0<O&&(j>=h.za-1?a(ce,xe,he[Se].y[15],4):r(ce,xe,he[Se+1].y,0,4)),S=0;4>S;S++)ce[xe+128+S]=ce[xe+256+S]=ce[xe+384+S]=ce[xe+0+S];for(S=0;16>S;++S,oe<<=2)ce=$,xe=q+z0[S],la[ge.Ob[S]](ce,xe),ql(oe,be,16*+S,ce,xe)}else if(ce=Mu(j,O,ge.Ob[0]),ks[ce]($,q),oe!=0)for(S=0;16>S;++S,oe<<=2)ql(oe,be,16*+S,$,q+z0[S]);for(S=ge.Gc,ce=Mu(j,O,ge.Dd),os[ce](z,G),os[ce](ie,me),oe=be,ce=z,xe=G,255&(ge=S>>0)&&(170&ge?Yl(oe,256,ce,xe):$n(oe,256,ce,xe)),ge=ie,oe=me,255&(S>>=8)&&(170&S?Yl(be,320,ge,oe):$n(be,320,ge,oe)),O<h.Ub-1&&(r(he[Se].y,0,$,q+480,16),r(he[Se].f,0,z,G+224,8),r(he[Se].ea,0,ie,me+224,8)),S=8*R*h.B,he=h.sa,Se=h.ta+16*j+16*R*h.R,be=h.qa,ge=h.ra+8*j+S,oe=h.Ha,ce=h.Ia+8*j+S,S=0;16>S;++S)r(he,Se+S*h.R,$,q+32*S,16);for(S=0;8>S;++S)r(be,ge+S*h.B,z,G+32*S,8),r(oe,ce+S*h.B,ie,me+32*S,8)}}function ho(h,g,S,j,O,R,$,q,z){var G=[0],ie=[0],me=0,ge=z!=null?z.kd:0,he=z??new Rl;if(h==null||12>S)return 7;he.data=h,he.w=g,he.ha=S,g=[g],S=[S],he.gb=[he.gb];e:{var Se=g,be=S,oe=he.gb;if(t(h!=null),t(be!=null),t(oe!=null),oe[0]=0,12<=be[0]&&!e(h,Se[0],"RIFF")){if(e(h,Se[0]+8,"WEBP")){oe=3;break e}var ce=Pe(h,Se[0]+4);if(12>ce||4294967286<ce){oe=3;break e}if(ge&&ce>be[0]-8){oe=7;break e}oe[0]=ce,Se[0]+=12,be[0]-=12}oe=0}if(oe!=0)return oe;for(ce=0<he.gb[0],S=S[0];;){e:{var xe=h;be=g,oe=S;var je=G,we=ie,Ue=Se=[0];if(($e=me=[me])[0]=0,8>oe[0])oe=7;else{if(!e(xe,be[0],"VP8X")){if(Pe(xe,be[0]+4)!=10){oe=3;break e}if(18>oe[0]){oe=7;break e}var Te=Pe(xe,be[0]+8),Je=1+Oe(xe,be[0]+12);if(2147483648<=Je*(xe=1+Oe(xe,be[0]+15))){oe=3;break e}Ue!=null&&(Ue[0]=Te),je!=null&&(je[0]=Je),we!=null&&(we[0]=xe),be[0]+=18,oe[0]-=18,$e[0]=1}oe=0}}if(me=me[0],Se=Se[0],oe!=0)return oe;if(be=!!(2&Se),!ce&&me)return 3;if(R!=null&&(R[0]=!!(16&Se)),$!=null&&($[0]=be),q!=null&&(q[0]=0),$=G[0],Se=ie[0],me&&be&&z==null){oe=0;break}if(4>S){oe=7;break}if(ce&&me||!ce&&!me&&!e(h,g[0],"ALPH")){S=[S],he.na=[he.na],he.P=[he.P],he.Sa=[he.Sa];e:{Te=h,oe=g,ce=S;var $e=he.gb;je=he.na,we=he.P,Ue=he.Sa,Je=22,t(Te!=null),t(ce!=null),xe=oe[0];var Nt=ce[0];for(t(je!=null),t(Ue!=null),je[0]=null,we[0]=null,Ue[0]=0;;){if(oe[0]=xe,ce[0]=Nt,8>Nt){oe=7;break e}var Et=Pe(Te,xe+4);if(4294967286<Et){oe=3;break e}var xt=8+Et+1&-2;if(Je+=xt,0<$e&&Je>$e){oe=3;break e}if(!e(Te,xe,"VP8 ")||!e(Te,xe,"VP8L")){oe=0;break e}if(Nt[0]<xt){oe=7;break e}e(Te,xe,"ALPH")||(je[0]=Te,we[0]=xe+8,Ue[0]=Et),xe+=xt,Nt-=xt}}if(S=S[0],he.na=he.na[0],he.P=he.P[0],he.Sa=he.Sa[0],oe!=0)break}S=[S],he.Ja=[he.Ja],he.xa=[he.xa];e:if($e=h,oe=g,ce=S,je=he.gb[0],we=he.Ja,Ue=he.xa,Te=oe[0],xe=!e($e,Te,"VP8 "),Je=!e($e,Te,"VP8L"),t($e!=null),t(ce!=null),t(we!=null),t(Ue!=null),8>ce[0])oe=7;else{if(xe||Je){if($e=Pe($e,Te+4),12<=je&&$e>je-12){oe=3;break e}if(ge&&$e>ce[0]-8){oe=7;break e}we[0]=$e,oe[0]+=8,ce[0]-=8,Ue[0]=Je}else Ue[0]=5<=ce[0]&&$e[Te+0]==47&&!($e[Te+4]>>5),we[0]=ce[0];oe=0}if(S=S[0],he.Ja=he.Ja[0],he.xa=he.xa[0],g=g[0],oe!=0)break;if(4294967286<he.Ja)return 3;if(q==null||be||(q[0]=he.xa?2:1),$=[$],Se=[Se],he.xa){if(5>S){oe=7;break}q=$,ge=Se,be=R,h==null||5>S?h=0:5<=S&&h[g+0]==47&&!(h[g+4]>>5)?(ce=[0],$e=[0],je=[0],Z(we=new M,h,g,S),Xe(we,ce,$e,je)?(q!=null&&(q[0]=ce[0]),ge!=null&&(ge[0]=$e[0]),be!=null&&(be[0]=je[0]),h=1):h=0):h=0}else{if(10>S){oe=7;break}q=Se,h==null||10>S||!yu(h,g+3,S-3)?h=0:(ge=h[g+0]|h[g+1]<<8|h[g+2]<<16,be=16383&(h[g+7]<<8|h[g+6]),h=16383&(h[g+9]<<8|h[g+8]),1&ge||3<(ge>>1&7)||!(ge>>4&1)||ge>>5>=he.Ja||!be||!h?h=0:($&&($[0]=be),q&&(q[0]=h),h=1))}if(!h||($=$[0],Se=Se[0],me&&(G[0]!=$||ie[0]!=Se)))return 3;z!=null&&(z[0]=he,z.offset=g-z.w,t(4294967286>g-z.w),t(z.offset==z.ha-S));break}return oe==0||oe==7&&me&&z==null?(R!=null&&(R[0]|=he.na!=null&&0<he.na.length),j!=null&&(j[0]=$),O!=null&&(O[0]=Se),0):oe}function Vl(h,g,S){var j=g.width,O=g.height,R=0,$=0,q=j,z=O;if(g.Da=h!=null&&0<h.Da,g.Da&&(q=h.cd,z=h.bd,R=h.v,$=h.j,11>S||(R&=-2,$&=-2),0>R||0>$||0>=q||0>=z||R+q>j||$+z>O))return 0;if(g.v=R,g.j=$,g.va=R+q,g.o=$+z,g.U=q,g.T=z,g.da=h!=null&&0<h.da,g.da){if(!He(q,z,S=[h.ib],R=[h.hb]))return 0;g.ib=S[0],g.hb=R[0]}return g.ob=h!=null&&h.ob,g.Kb=h==null||!h.Sd,g.da&&(g.ob=g.ib<3*j/4&&g.hb<3*O/4,g.Kb=0),1}function zl(h){if(h==null)return 2;if(11>h.S){var g=h.f.RGBA;g.fb+=(h.height-1)*g.A,g.A=-g.A}else g=h.f.kb,h=h.height,g.O+=(h-1)*g.fa,g.fa=-g.fa,g.N+=(h-1>>1)*g.Ab,g.Ab=-g.Ab,g.W+=(h-1>>1)*g.Db,g.Db=-g.Db,g.F!=null&&(g.J+=(h-1)*g.lb,g.lb=-g.lb);return 0}function fo(h,g,S,j){if(j==null||0>=h||0>=g)return 2;if(S!=null){if(S.Da){var O=S.cd,R=S.bd,$=-2&S.v,q=-2&S.j;if(0>$||0>q||0>=O||0>=R||$+O>h||q+R>g)return 2;h=O,g=R}if(S.da){if(!He(h,g,O=[S.ib],R=[S.hb]))return 2;h=O[0],g=R[0]}}j.width=h,j.height=g;e:{var z=j.width,G=j.height;if(h=j.S,0>=z||0>=G||!(h>=Uu&&13>h))h=2;else{if(0>=j.Rd&&j.sd==null){$=R=O=g=0;var ie=(q=z*H0[h])*G;if(11>h||(R=(G+1)/2*(g=(z+1)/2),h==12&&($=(O=z)*G)),(G=s(ie+2*R+$))==null){h=1;break e}j.sd=G,11>h?((z=j.f.RGBA).eb=G,z.fb=0,z.A=q,z.size=ie):((z=j.f.kb).y=G,z.O=0,z.fa=q,z.Fd=ie,z.f=G,z.N=0+ie,z.Ab=g,z.Cd=R,z.ea=G,z.W=0+ie+R,z.Db=g,z.Ed=R,h==12&&(z.F=G,z.J=0+ie+2*R),z.Tc=$,z.lb=O)}if(g=1,O=j.S,R=j.width,$=j.height,O>=Uu&&13>O)if(11>O)h=j.f.RGBA,g&=(q=Math.abs(h.A))*($-1)+R<=h.size,g&=q>=R*H0[O],g&=h.eb!=null;else{h=j.f.kb,q=(R+1)/2,ie=($+1)/2,z=Math.abs(h.fa),G=Math.abs(h.Ab);var me=Math.abs(h.Db),ge=Math.abs(h.lb),he=ge*($-1)+R;g&=z*($-1)+R<=h.Fd,g&=G*(ie-1)+q<=h.Cd,g=(g&=me*(ie-1)+q<=h.Ed)&z>=R&G>=q&me>=q,g&=h.y!=null,g&=h.f!=null,g&=h.ea!=null,O==12&&(g&=ge>=R,g&=he<=h.Tc,g&=h.F!=null)}else g=0;h=g?0:2}}return h!=0||S!=null&&S.fd&&(h=zl(j)),h}var Dr=64,po=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],mo=24,go=32,Hl=8,un=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ae("Predictor0","PredictorAdd0"),E.Predictor0=function(){return 4278190080},E.Predictor1=function(h){return h},E.Predictor2=function(h,g,S){return g[S+0]},E.Predictor3=function(h,g,S){return g[S+1]},E.Predictor4=function(h,g,S){return g[S-1]},E.Predictor5=function(h,g,S){return Ie(Ie(h,g[S+1]),g[S+0])},E.Predictor6=function(h,g,S){return Ie(h,g[S-1])},E.Predictor7=function(h,g,S){return Ie(h,g[S+0])},E.Predictor8=function(h,g,S){return Ie(g[S-1],g[S+0])},E.Predictor9=function(h,g,S){return Ie(g[S+0],g[S+1])},E.Predictor10=function(h,g,S){return Ie(Ie(h,g[S-1]),Ie(g[S+0],g[S+1]))},E.Predictor11=function(h,g,S){var j=g[S+0];return 0>=at(j>>24&255,h>>24&255,(g=g[S-1])>>24&255)+at(j>>16&255,h>>16&255,g>>16&255)+at(j>>8&255,h>>8&255,g>>8&255)+at(255&j,255&h,255&g)?j:h},E.Predictor12=function(h,g,S){var j=g[S+0];return(Ye((h>>24&255)+(j>>24&255)-((g=g[S-1])>>24&255))<<24|Ye((h>>16&255)+(j>>16&255)-(g>>16&255))<<16|Ye((h>>8&255)+(j>>8&255)-(g>>8&255))<<8|Ye((255&h)+(255&j)-(255&g)))>>>0},E.Predictor13=function(h,g,S){var j=g[S-1];return(et((h=Ie(h,g[S+0]))>>24&255,j>>24&255)<<24|et(h>>16&255,j>>16&255)<<16|et(h>>8&255,j>>8&255)<<8|et(h>>0&255,j>>0&255))>>>0};var Xf=E.PredictorAdd0;E.PredictorAdd1=ut,Ae("Predictor2","PredictorAdd2"),Ae("Predictor3","PredictorAdd3"),Ae("Predictor4","PredictorAdd4"),Ae("Predictor5","PredictorAdd5"),Ae("Predictor6","PredictorAdd6"),Ae("Predictor7","PredictorAdd7"),Ae("Predictor8","PredictorAdd8"),Ae("Predictor9","PredictorAdd9"),Ae("Predictor10","PredictorAdd10"),Ae("Predictor11","PredictorAdd11"),Ae("Predictor12","PredictorAdd12"),Ae("Predictor13","PredictorAdd13");var Wl=E.PredictorAdd2;ft("ColorIndexInverseTransform","MapARGB","32b",function(h){return h>>8&255},function(h){return h}),ft("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(h){return h},function(h){return h>>8&255});var Iu,Rn=E.ColorIndexInverseTransform,vo=E.MapARGB,Ru=E.VP8LColorIndexInverseTransformAlpha,$u=E.MapAlpha,Ss=E.VP8LPredictorsAdd=[];Ss.length=16,(E.VP8LPredictors=[]).length=16,(E.VP8LPredictorsAdd_C=[]).length=16,(E.VP8LPredictors_C=[]).length=16;var fi,dn,Gr,Ns,ns,as,bo,ss,tr,Yl,Kr,$n,yo,Fu,Gl,pi,mi,_s,gi,xo,vi,js,Kl,Fn,Bn,Rt,$t,rr,pr=s(511),is=s(2041),Jl=s(225),wo=s(767),Bu=0,Qf=is,qu=Jl,_n=wo,qn=pr,Uu=0,Vu=1,O0=2,zu=3,Hu=4,Zf=5,T0=6,ep=7,tp=8,Wu=9,rp=10,T5=[2,3,7],M5=[3,3,11],M0=[280,256,256,256,40],I5=[0,1,1,1,0],R5=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],$5=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],F5=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],B5=8,np=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ap=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Xl=null,q5=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],U5=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],I0=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],V5=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],z5=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],H5=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],W5=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ks=[],la=[],os=[],Y5=1,R0=2,Cs=[],Un=[];ye("UpsampleRgbLinePair",yt,3),ye("UpsampleBgrLinePair",Wt,3),ye("UpsampleRgbaLinePair",oa,4),ye("UpsampleBgraLinePair",vr,4),ye("UpsampleArgbLinePair",Rr,4),ye("UpsampleRgba4444LinePair",or,2),ye("UpsampleRgb565LinePair",Kt,2);var G5=E.UpsampleRgbLinePair,K5=E.UpsampleBgrLinePair,$0=E.UpsampleRgbaLinePair,F0=E.UpsampleBgraLinePair,B0=E.UpsampleArgbLinePair,q0=E.UpsampleRgba4444LinePair,J5=E.UpsampleRgb565LinePair,Yu=16,Gu=1<<Yu-1,Ql=-227,sp=482,U0=6,X5=(256<<U0)-1,V0=0,Q5=s(256),Z5=s(256),eS=s(256),tS=s(256),rS=s(sp-Ql),nS=s(sp-Ql);Da("YuvToRgbRow",yt,3),Da("YuvToBgrRow",Wt,3),Da("YuvToRgbaRow",oa,4),Da("YuvToBgraRow",vr,4),Da("YuvToArgbRow",Rr,4),Da("YuvToRgba4444Row",or,2),Da("YuvToRgb565Row",Kt,2);var z0=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ku=[0,2,8],aS=[8,7,6,4,4,2,2,2,1,1,1,1],sS=1;this.WebPDecodeRGBA=function(h,g,S,j,O){var R=Vu,$=new co,q=new ea;$.ba=q,q.S=R,q.width=[q.width],q.height=[q.height];var z=q.width,G=q.height,ie=new Za;if(ie==null||h==null)var me=2;else t(ie!=null),me=ho(h,g,S,ie.width,ie.height,ie.Pd,ie.Qd,ie.format,null);if(me!=0?z=0:(z!=null&&(z[0]=ie.width[0]),G!=null&&(G[0]=ie.height[0]),z=1),z){q.width=q.width[0],q.height=q.height[0],j!=null&&(j[0]=q.width),O!=null&&(O[0]=q.height);e:{if(j=new ro,(O=new Rl).data=h,O.w=g,O.ha=S,O.kd=1,g=[0],t(O!=null),((h=ho(O.data,O.w,O.ha,null,null,null,g,null,O))==0||h==7)&&g[0]&&(h=4),(g=h)==0){if(t($!=null),j.data=O.data,j.w=O.w+O.offset,j.ha=O.ha-O.offset,j.put=wa,j.ac=Cr,j.bc=Sa,j.ma=$,O.xa){if((h=In())==null){$=1;break e}if(function(ge,he){var Se=[0],be=[0],oe=[0];t:for(;;){if(ge==null)return 0;if(he==null)return ge.a=2,0;if(ge.l=he,ge.a=0,Z(ge.m,he.data,he.w,he.ha),!Xe(ge.m,Se,be,oe)){ge.a=3;break t}if(ge.xb=R0,he.width=Se[0],he.height=be[0],!ja(Se[0],be[0],1,ge,null))break t;return 1}return t(ge.a!=0),0}(h,j)){if(j=(g=fo(j.width,j.height,$.Oa,$.ba))==0){t:{j=h;r:for(;;){if(j==null){j=0;break t}if(t(j.s.yc!=null),t(j.s.Ya!=null),t(0<j.s.Wb),t((S=j.l)!=null),t((O=S.ma)!=null),j.xb!=0){if(j.ca=O.ba,j.tb=O.tb,t(j.ca!=null),!Vl(O.Oa,S,zu)){j.a=2;break r}if(!li(j,S.width)||S.da)break r;if((S.da||Ct(j.ca.S))&&pe(),11>j.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),j.ca.f.kb.F!=null&&pe()),j.Pb&&0<j.s.ua&&j.s.vb.X==null&&!De(j.s.vb,j.s.Wa.Xa)){j.a=1;break r}j.xb=0}if(!aa(j,j.V,j.Ba,j.c,j.i,S.o,Ji))break r;O.Dc=j.Ma,j=1;break t}t(j.a!=0),j=0}j=!j}j&&(g=h.a)}else g=h.a}else{if((h=new Lf)==null){$=1;break e}if(h.Fa=O.na,h.P=O.P,h.qc=O.Sa,xu(h,j)){if((g=fo(j.width,j.height,$.Oa,$.ba))==0){if(h.Aa=0,S=$.Oa,t((O=h)!=null),S!=null){if(0<(z=0>(z=S.Md)?0:100<z?255:255*z/100)){for(G=ie=0;4>G;++G)12>(me=O.pb[G]).lc&&(me.ia=z*aS[0>me.lc?0:me.lc]>>3),ie|=me.ia;ie&&(alert("todo:VP8InitRandom"),O.ia=1)}O.Ga=S.Id,100<O.Ga?O.Ga=100:0>O.Ga&&(O.Ga=0)}Of(h,j)||(g=h.a)}}else g=h.a}g==0&&$.Oa!=null&&$.Oa.fd&&(g=zl($.ba))}$=g}R=$!=0?null:11>R?q.f.RGBA.eb:q.f.kb.y}else R=null;return R};var H0=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(E,U){for(var L="",k=0;k<4;k++)L+=String.fromCharCode(E[U++]);return L}function d(E,U){return(E[U+0]<<0|E[U+1]<<8|E[U+2]<<16)>>>0}function f(E,U){return(E[U+0]<<0|E[U+1]<<8|E[U+2]<<16|E[U+3]<<24)>>>0}new l;var m=[0],p=[0],y=[],v=new l,x=n,w=function(E,U){var L={},k=0,P=!1,F=0,I=0;if(L.frames=[],!function(Y,X,K,ne){for(var ue=0;ue<ne;ue++)if(Y[X+ue]!=K.charCodeAt(ue))return!0;return!1}(E,U,"RIFF",4)){var ee,re;for(f(E,U+=4),U+=8;U<E.length;){var W=u(E,U),Z=f(E,U+=4);U+=4;var le=Z+(1&Z);switch(W){case"VP8 ":case"VP8L":L.frames[k]===void 0&&(L.frames[k]={}),(M=L.frames[k]).src_off=P?I:U-8,M.src_size=F+Z+8,k++,P&&(P=!1,F=0,I=0);break;case"VP8X":(M=L.header={}).feature_flags=E[U];var de=U+4;M.canvas_width=1+d(E,de),de+=3,M.canvas_height=1+d(E,de),de+=3;break;case"ALPH":P=!0,F=le+8,I=U-8;break;case"ANIM":(M=L.header).bgcolor=f(E,U),de=U+4,M.loop_count=(ee=E)[(re=de)+0]<<0|ee[re+1]<<8,de+=2;break;case"ANMF":var Ce,M;(M=L.frames[k]={}).offset_x=2*d(E,U),U+=3,M.offset_y=2*d(E,U),U+=3,M.width=1+d(E,U),U+=3,M.height=1+d(E,U),U+=3,M.duration=d(E,U),U+=3,Ce=E[U++],M.dispose=1&Ce,M.blend=Ce>>1&1}W!="ANMF"&&(U+=le)}return L}}(x,0);w.response=x,w.rgbaoutput=!0,w.dataurl=!1;var N=w.header?w.header:null,_=w.frames?w.frames:null;if(N){N.loop_counter=N.loop_count,m=[N.canvas_height],p=[N.canvas_width];for(var C=0;C<_.length&&_[C].blend!=0;C++);}var A=_[0],B=v.WebPDecodeRGBA(x,A.src_off,A.src_size,p,m);A.rgba=B,A.imgwidth=p[0],A.imgheight=m[0];for(var D=0;D<p[0]*m[0]*4;D++)y[D]=B[D];return this.width=p,this.height=m,this.data=y,this}(function(n){var t=function(){return typeof Mm=="function"},e=function(m,p,y,v){var x=4,w=i;switch(v){case n.image_compression.FAST:x=1,w=s;break;case n.image_compression.MEDIUM:x=6,w=o;break;case n.image_compression.SLOW:x=9,w=l}m=r(m,p,y,w);var N=Mm(m,{level:x});return n.__addimage__.arrayBufferToBinaryString(N)},r=function(m,p,y,v){for(var x,w,N,_=m.length/p,C=new Uint8Array(m.length+_),A=d(),B=0;B<_;B+=1){if(N=B*p,x=m.subarray(N,N+p),v)C.set(v(x,y,w),N+B);else{for(var D,E=A.length,U=[];D<E;D+=1)U[D]=A[D](x,y,w);var L=f(U.concat());C.set(U[L],N+B)}w=x}return C},a=function(m){var p=Array.apply([],m);return p.unshift(0),p},s=function(m,p){var y,v=[],x=m.length;v[0]=1;for(var w=0;w<x;w+=1)y=m[w-p]||0,v[w+1]=m[w]-y+256&255;return v},i=function(m,p,y){var v,x=[],w=m.length;x[0]=2;for(var N=0;N<w;N+=1)v=y&&y[N]||0,x[N+1]=m[N]-v+256&255;return x},o=function(m,p,y){var v,x,w=[],N=m.length;w[0]=3;for(var _=0;_<N;_+=1)v=m[_-p]||0,x=y&&y[_]||0,w[_+1]=m[_]+256-(v+x>>>1)&255;return w},l=function(m,p,y){var v,x,w,N,_=[],C=m.length;_[0]=4;for(var A=0;A<C;A+=1)v=m[A-p]||0,x=y&&y[A]||0,w=y&&y[A-p]||0,N=u(v,x,w),_[A+1]=m[A]-N+256&255;return _},u=function(m,p,y){if(m===p&&p===y)return m;var v=Math.abs(p-y),x=Math.abs(m-y),w=Math.abs(m+p-y-y);return v<=x&&v<=w?m:x<=w?p:y},d=function(){return[a,s,i,o,l]},f=function(m){var p=m.map(function(y){return y.reduce(function(v,x){return v+Math.abs(x)},0)});return p.indexOf(Math.min.apply(null,p))};n.processPNG=function(m,p,y,v){var x,w,N,_,C,A,B,D,E,U,L,k,P,F,I,ee=this.decode.FLATE_DECODE,re="";if(this.__addimage__.isArrayBuffer(m)&&(m=new Uint8Array(m)),this.__addimage__.isArrayBufferView(m)){if(m=(N=new Q6(m)).imgData,w=N.bits,x=N.colorSpace,C=N.colors,[4,6].indexOf(N.colorType)!==-1){if(N.bits===8){E=(D=N.pixelBitlength==32?new Uint32Array(N.decodePixels().buffer):N.pixelBitlength==16?new Uint16Array(N.decodePixels().buffer):new Uint8Array(N.decodePixels().buffer)).length,L=new Uint8Array(E*N.colors),U=new Uint8Array(E);var W,Z=N.pixelBitlength-N.bits;for(F=0,I=0;F<E;F++){for(P=D[F],W=0;W<Z;)L[I++]=P>>>W&255,W+=N.bits;U[F]=P>>>W&255}}if(N.bits===16){E=(D=new Uint32Array(N.decodePixels().buffer)).length,L=new Uint8Array(E*(32/N.pixelBitlength)*N.colors),U=new Uint8Array(E*(32/N.pixelBitlength)),k=N.colors>1,F=0,I=0;for(var le=0;F<E;)P=D[F++],L[I++]=P>>>0&255,k&&(L[I++]=P>>>16&255,P=D[F++],L[I++]=P>>>0&255),U[le++]=P>>>16&255;w=8}v!==n.image_compression.NONE&&t()?(m=e(L,N.width*N.colors,N.colors,v),B=e(U,N.width,1,v)):(m=L,B=U,ee=void 0)}if(N.colorType===3&&(x=this.color_spaces.INDEXED,A=N.palette,N.transparency.indexed)){var de=N.transparency.indexed,Ce=0;for(F=0,E=de.length;F<E;++F)Ce+=de[F];if((Ce/=255)===E-1&&de.indexOf(0)!==-1)_=[de.indexOf(0)];else if(Ce!==E){for(D=N.decodePixels(),U=new Uint8Array(D.length),F=0,E=D.length;F<E;F++)U[F]=de[D[F]];B=e(U,N.width,1)}}var M=function(Y){var X;switch(Y){case n.image_compression.FAST:X=11;break;case n.image_compression.MEDIUM:X=13;break;case n.image_compression.SLOW:X=14;break;default:X=12}return X}(v);return ee===this.decode.FLATE_DECODE&&(re="/Predictor "+M+" "),re+="/Colors "+C+" /BitsPerComponent "+w+" /Columns "+N.width,(this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),(B&&this.__addimage__.isArrayBuffer(B)||this.__addimage__.isArrayBufferView(B))&&(B=this.__addimage__.arrayBufferToBinaryString(B)),{alias:y,data:m,index:p,filter:ee,decodeParameters:re,transparency:_,palette:A,sMask:B,predictor:M,width:N.width,height:N.height,bitsPerComponent:w,colorSpace:x}}}})(Qe.API),function(n){n.processGIF89A=function(t,e,r,a){var s=new Z6(t),i=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:i,height:o},d=new Bp(100).encode(u,100);return n.processJPEG.call(this,d,e,r,a)},n.processGIF87A=n.processGIF89A}(Qe.API),da.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var t=0;t<n;t++){var e=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:r,blue:e,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},da.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[n]()}catch(e){It.log("bit decode error:"+e)}},da.prototype.bit1=function(){var n,t=Math.ceil(this.width/8),e=t%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,a=0;a<t;a++)for(var s=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[i+4*o]=l.blue,this.data[i+4*o+1]=l.green,this.data[i+4*o+2]=l.red,this.data[i+4*o+3]=255}e!==0&&(this.pos+=4-e)}},da.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),t=n%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,a=0;a<n;a++){var s=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+2*a*4,o=s>>4,l=15&s,u=this.palette[o];if(this.data[i]=u.blue,this.data[i+1]=u.green,this.data[i+2]=u.red,this.data[i+3]=255,2*a+1>=this.width)break;u=this.palette[l],this.data[i+4]=u.blue,this.data[i+4+1]=u.green,this.data[i+4+2]=u.red,this.data[i+4+3]=255}t!==0&&(this.pos+=4-t)}},da.prototype.bit8=function(){for(var n=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*r;if(a<this.palette.length){var i=this.palette[a];this.data[s]=i.red,this.data[s+1]=i.green,this.data[s+2]=i.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}n!==0&&(this.pos+=4-n)}},da.prototype.bit15=function(){for(var n=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var i=(s&t)/t*255|0,o=(s>>5&t)/t*255|0,l=(s>>10&t)/t*255|0,u=s>>15?255:0,d=r*this.width*4+4*a;this.data[d]=l,this.data[d+1]=o,this.data[d+2]=i,this.data[d+3]=u}this.pos+=n}},da.prototype.bit16=function(){for(var n=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,l=(i>>5&e)/e*255|0,u=(i>>11)/t*255|0,d=a*this.width*4+4*s;this.data[d]=u,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=255}this.pos+=n}},da.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=t*this.width*4+4*e;this.data[i]=s,this.data[i+1]=a,this.data[i+2]=r,this.data[i+3]=255}this.pos+=this.width%4}},da.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var t=this.bottom_up?n:this.height-1-n,e=0;e<this.width;e++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*e;this.data[o]=s,this.data[o+1]=a,this.data[o+2]=r,this.data[o+3]=i}},da.prototype.getData=function(){return this.data},function(n){n.processBMP=function(t,e,r,a){var s=new da(t,!1),i=s.width,o=s.height,l={data:s.getData(),width:i,height:o},u=new Bp(100).encode(l,100);return n.processJPEG.call(this,u,e,r,a)}}(Qe.API),k1.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(t,e,r,a){var s=new k1(t),i=s.width,o=s.height,l={data:s.getData(),width:i,height:o},u=new Bp(100).encode(l,100);return n.processJPEG.call(this,u,e,r,a)}}(Qe.API),Qe.API.processRGBA=function(n,t,e){for(var r=n.data,a=r.length,s=new Uint8Array(a/4*3),i=new Uint8Array(a/4),o=0,l=0,u=0;u<a;u+=4){var d=r[u],f=r[u+1],m=r[u+2],p=r[u+3];s[o++]=d,s[o++]=f,s[o++]=m,i[l++]=p}var y=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(i),data:y,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Qe.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Po=Qe.API,yd=Po.getCharWidthsArray=function(n,t){var e,r,a=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),i=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:a.metadata.Unicode.widths,l=o.fof?o.fof:1,u=t.kerning?t.kerning:a.metadata.Unicode.kerning,d=u.fof?u.fof:1,f=t.doKerning!==!1,m=0,p=n.length,y=0,v=o[0]||l,x=[];for(e=0;e<p;e++)r=n.charCodeAt(e),typeof a.metadata.widthOfString=="function"?x.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(r))+i*(1e3/s)||0)/1e3):(m=f&&pt(u[r])==="object"&&!isNaN(parseInt(u[r][y],10))?u[r][y]/d:0,x.push((o[r]||v)/l+m)),y=r;return x},S1=Po.getStringUnitWidth=function(n,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return Po.processArabic&&(n=Po.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,e,a)/e:yd.apply(this,arguments).reduce(function(s,i){return s+i},0)},N1=function(n,t,e,r){for(var a=[],s=0,i=n.length,o=0;s!==i&&o+t[s]<e;)o+=t[s],s++;a.push(n.slice(0,s));var l=s;for(o=0;s!==i;)o+t[s]>r&&(a.push(n.slice(l,s)),o=0,l=s),o+=t[s],s++;return l!==s&&a.push(n.slice(l,s)),a},_1=function(n,t,e){e||(e={});var r,a,s,i,o,l,u,d=[],f=[d],m=e.textIndent||0,p=0,y=0,v=n.split(" "),x=yd.apply(this,[" ",e])[0];if(l=e.lineIndent===-1?v[0].length+2:e.lineIndent||0){var w=Array(l).join(" "),N=[];v.map(function(C){(C=C.split(/\s*\n/)).length>1?N=N.concat(C.map(function(A,B){return(B&&A.length?`
`:"")+A})):N.push(C[0])}),v=N,l=S1.apply(this,[w,e])}for(s=0,i=v.length;s<i;s++){var _=0;if(r=v[s],l&&r[0]==`
`&&(r=r.substr(1),_=1),m+p+(y=(a=yd.apply(this,[r,e])).reduce(function(C,A){return C+A},0))>t||_){if(y>t){for(o=N1.apply(this,[r,a,t-(m+p),t]),d.push(o.shift()),d=[o.pop()];o.length;)f.push([o.shift()]);y=a.slice(r.length-(d[0]?d[0].length:0)).reduce(function(C,A){return C+A},0)}else d=[r];f.push(d),m=y+l,p=x}else d.push(r),m+=p+y,p=x}return u=l?function(C,A){return(A?w:"")+C.join(" ")}:function(C){return C.join(" ")},f.map(u)},Po.splitTextToSize=function(n,t,e){var r,a=(e=e||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var f=this.internal.getFont(d.fontName,d.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var i=1*this.internal.scaleFactor*t/a;s.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/a:0,s.lineIndent=e.lineIndent;var o,l,u=[];for(o=0,l=r.length;o<l;o++)u=u.concat(_1.apply(this,[r[o],i,s]));return u},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",e={},r={},a=0;a<t.length;a++)e[t[a]]="0123456789abcdef"[a],r["0123456789abcdef"[a]]=t[a];var s=function(f){return"0x"+parseInt(f,10).toString(16)},i=n.__fontmetrics__.compress=function(f){var m,p,y,v,x=["{"];for(var w in f){if(m=f[w],isNaN(parseInt(w,10))?p="'"+w+"'":(w=parseInt(w,10),p=(p=s(w).slice(2)).slice(0,-1)+r[p.slice(-1)]),typeof m=="number")m<0?(y=s(m).slice(3),v="-"):(y=s(m).slice(2),v=""),y=v+y.slice(0,-1)+r[y.slice(-1)];else{if(pt(m)!=="object")throw new Error("Don't know what to do with value type "+pt(m)+".");y=i(m)}x.push(p+y)}return x.push("}"),x.join("")},o=n.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,p,y,v,x={},w=1,N=x,_=[],C="",A="",B=f.length-1,D=1;D<B;D+=1)(v=f[D])=="'"?m?(y=m.join(""),m=void 0):m=[]:m?m.push(v):v=="{"?(_.push([N,y]),N={},y=void 0):v=="}"?((p=_.pop())[0][p[1]]=N,y=void 0,N=p[0]):v=="-"?w=-1:y===void 0?e.hasOwnProperty(v)?(C+=e[v],y=parseInt(C,16)*w,w=1,C=""):C+=v:e.hasOwnProperty(v)?(A+=e[v],N[y]=parseInt(A,16)*w,w=1,y=void 0,A=""):A+=v;return x},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},d={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(f){var m=f.font,p=d.Unicode[m.postScriptName];p&&(m.metadata.Unicode={},m.metadata.Unicode.widths=p.widths,m.metadata.Unicode.kerning=p.kerning);var y=u.Unicode[m.postScriptName];y&&(m.metadata.Unicode.encoding=y,m.encoding=y.codePages[0])}])}(Qe.API),function(n){var t=function(e){for(var r=e.length,a=new Uint8Array(r),s=0;s<r;s++)a[s]=e.charCodeAt(s);return a};n.API.events.push(["addFont",function(e){var r=void 0,a=e.font,s=e.instance;if(!a.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(r=s.existsFileInVFS(a.postScriptName)===!1?s.loadFile(a.postScriptName):s.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(i,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(Nc(o)),i.metadata=n.API.TTFFont.open(o),i.metadata.Unicode=i.metadata.Unicode||{encoding:{},kerning:{},widths:[]},i.metadata.glyIdsUsed=[0]})(a,r)}}])}(Qe),function(n){function t(){return(Ze.canvg?Promise.resolve(Ze.canvg):ga(()=>import("./index.es-D_mWTjhN.js"),__vite__mapDeps([2,1,3,4,5]))).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e})}Qe.API.addSvgAsImage=function(e,r,a,s,i,o,l,u){if(isNaN(r)||isNaN(a))throw It.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(i))throw It.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=s,d.height=i;var f=d.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,d.width,d.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return t().then(function(y){return y.fromString(f,e,m)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(m)}).then(function(){p.addImage(d.toDataURL("image/jpeg",1),r,a,s,i,l,u)})}}(),Qe.API.putTotalPages=function(n){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(n,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var a=0;a<this.internal.pages[r].length;a++)this.internal.pages[r][a]=this.internal.pages[r][a].replace(t,e);return this},Qe.API.viewerPreferences=function(n,t){var e;n=n||{},t=t||!1;var r,a,s,i={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(i),l=[],u=0,d=0,f=0;function m(y,v){var x,w=!1;for(x=0;x<y.length;x+=1)y[x]===v&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(i)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,n==="reset"||t===!0){var p=o.length;for(f=0;f<p;f+=1)e[o[f]].value=e[o[f]].defaultValue,e[o[f]].explicitSet=!1}if(pt(n)==="object"){for(a in n)if(s=n[a],m(o,a)&&s!==void 0){if(e[a].type==="boolean"&&typeof s=="boolean")e[a].value=s;else if(e[a].type==="name"&&m(e[a].valueSet,s))e[a].value=s;else if(e[a].type==="integer"&&Number.isInteger(s))e[a].value=s;else if(e[a].type==="array"){for(u=0;u<s.length;u+=1)if(r=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(d=0;d<s[u].length;d+=1)typeof s[u][d]!="number"&&(r=!1);r===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}e[a].value="["+l.join(" ")+"]"}else e[a].value=e[a].defaultValue;e[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,v=[];for(y in e)e[y].explicitSet===!0&&(e[y].type==="name"?v.push("/"+y+" /"+e[y].value):v.push("/"+y+" "+e[y].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},function(n){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),i=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+i.length+o.length+a.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+s+i+o+l),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}}(Qe.API),function(n){var t=n.API,e=t.pdfEscape16=function(s,i){for(var o,l=i.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],f=0,m=s.length;f<m;++f){if(o=i.metadata.characterToGlyph(s.charCodeAt(f)),i.metadata.glyIdsUsed.push(o),i.metadata.toUnicode[o]=s.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(i.metadata.widthOfGlyph(o),10)])),o=="0")return d.join("");o=o.toString(16),d.push(u[4-o.length],o)}return d.join("")},r=function(s){var i,o,l,u,d,f,m;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,m=(o=Object.keys(s).sort(function(p,y){return p-y})).length;f<m;f++)i=o[f],l.length>=100&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[i]!==void 0&&s[i]!==null&&typeof s[i].toString=="function"&&(u=("0000"+s[i].toString(16)).slice(-4),i=("0000"+(+i).toString(16)).slice(-4),l.push("<"+i+"><"+u+">"));return l.length&&(d+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(i){var o=i.font,l=i.out,u=i.newObject,d=i.putStream;if(o.metadata instanceof n.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,m=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),p="",y=0;y<m.length;y++)p+=String.fromCharCode(m[y]);var v=u();d({data:p,addLength1:!0,objectId:v}),l("endobj");var x=u();d({data:r(o.metadata.toUnicode),addLength1:!0,objectId:x}),l("endobj");var w=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Mo(o.fontName)),l("/FontFile2 "+v+" 0 R"),l("/FontBBox "+n.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var N=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+Mo(o.fontName)),l("/FontDescriptor "+w+" 0 R"),l("/W "+n.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+x+" 0 R"),l("/BaseFont /"+Mo(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+N+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(i){var o=i.font,l=i.out,u=i.newObject,d=i.putStream;if(o.metadata instanceof n.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,m="",p=0;p<f.length;p++)m+=String.fromCharCode(f[p]);var y=u();d({data:m,addLength1:!0,objectId:y}),l("endobj");var v=u();d({data:r(o.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var x=u();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+y+" 0 R"),l("/Flags 96"),l("/FontBBox "+n.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Mo(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=u();for(var w=0;w<o.metadata.hmtx.widths.length;w++)o.metadata.hmtx.widths[w]=parseInt(o.metadata.hmtx.widths[w]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+Mo(o.fontName)+"/FontDescriptor "+x+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var a=function(s){var i,o=s.text||"",l=s.x,u=s.y,d=s.options||{},f=s.mutex||{},m=f.pdfEscape,p=f.activeFontKey,y=f.fonts,v=p,x="",w=0,N="",_=y[v].encoding;if(y[v].encoding!=="Identity-H")return{text:o,x:l,y:u,options:d,mutex:f};for(N=o,v=p,Array.isArray(o)&&(N=o[0]),w=0;w<N.length;w+=1)y[v].metadata.hasOwnProperty("cmap")&&(i=y[v].metadata.cmap.unicode.codeMap[N[w].charCodeAt(0)]),i||N[w].charCodeAt(0)<256&&y[v].metadata.hasOwnProperty("Unicode")?x+=N[w]:x+="";var C="";return parseInt(v.slice(1))<14||_==="WinAnsiEncoding"?C=m(x,v).split("").map(function(A){return A.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(C=e(x,y[v])),f.isHex=!0,{text:C,x:l,y:u,options:d,mutex:f}};t.events.push(["postProcessText",function(s){var i=s.text||"",o=[],l={text:i,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(i)){var u=0;for(u=0;u<i.length;u+=1)Array.isArray(i[u])&&i[u].length===3?o.push([a(Object.assign({},l,{text:i[u][0]})).text,i[u][1],i[u][2]]):o.push(a(Object.assign({},l,{text:i[u]})).text);s.text=o}else s.text=a(Object.assign({},l,{text:i})).text}])}(Qe),function(n){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},n.addFileToVFS=function(e,r){return t.call(this),this.internal.vFS[e]=r,this},n.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}}(Qe.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var a,s,i,o,l,u,d,f=t,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},x=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),N=!1,_=0;this.__bidiEngine__={};var C=function(k){var P=k.charCodeAt(),F=P>>8,I=v[F];return I!==void 0?f[256*I+(255&P)]:F===252||F===253?"AL":w.test(F)?"L":F===8?"R":"N"},A=function(k){for(var P,F=0;F<k.length;F++){if((P=C(k.charAt(F)))==="L")return!1;if(P==="R")return!0}return!1},B=function(k,P,F,I){var ee,re,W,Z,le=P[I];switch(le){case"L":case"R":N=!1;break;case"N":case"AN":break;case"EN":N&&(le="AN");break;case"AL":N=!0,le="R";break;case"WS":le="N";break;case"CS":I<1||I+1>=P.length||(ee=F[I-1])!=="EN"&&ee!=="AN"||(re=P[I+1])!=="EN"&&re!=="AN"?le="N":N&&(re="AN"),le=re===ee?re:"N";break;case"ES":le=(ee=I>0?F[I-1]:"B")==="EN"&&I+1<P.length&&P[I+1]==="EN"?"EN":"N";break;case"ET":if(I>0&&F[I-1]==="EN"){le="EN";break}if(N){le="N";break}for(W=I+1,Z=P.length;W<Z&&P[W]==="ET";)W++;le=W<Z&&P[W]==="EN"?"EN":"N";break;case"NSM":if(i&&!o){for(Z=P.length,W=I+1;W<Z&&P[W]==="NSM";)W++;if(W<Z){var de=k[I],Ce=de>=1425&&de<=2303||de===64286;if(ee=P[W],Ce&&(ee==="R"||ee==="AL")){le="R";break}}}le=I<1||(ee=P[I-1])==="B"?"N":F[I-1];break;case"B":N=!1,a=!0,le=_;break;case"S":s=!0,le="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":N=!1;break;case"BN":le="N"}return le},D=function(k,P,F){var I=k.split("");return F&&E(I,F,{hiLevel:_}),I.reverse(),P&&P.reverse(),I.join("")},E=function(k,P,F){var I,ee,re,W,Z,le=-1,de=k.length,Ce=0,M=[],Y=_?p:m,X=[];for(N=!1,a=!1,s=!1,ee=0;ee<de;ee++)X[ee]=C(k[ee]);for(re=0;re<de;re++){if(Z=Ce,M[re]=B(k,X,M,re),I=240&(Ce=Y[Z][y[M[re]]]),Ce&=15,P[re]=W=Y[Ce][5],I>0)if(I===16){for(ee=le;ee<re;ee++)P[ee]=1;le=-1}else le=-1;if(Y[Ce][6])le===-1&&(le=re);else if(le>-1){for(ee=le;ee<re;ee++)P[ee]=W;le=-1}X[re]==="B"&&(P[re]=0),F.hiLevel|=W}s&&function(K,ne,ue){for(var ae=0;ae<ue;ae++)if(K[ae]==="S"){ne[ae]=_;for(var fe=ae-1;fe>=0&&K[fe]==="WS";fe--)ne[fe]=_}}(X,P,de)},U=function(k,P,F,I,ee){if(!(ee.hiLevel<k)){if(k===1&&_===1&&!a)return P.reverse(),void(F&&F.reverse());for(var re,W,Z,le,de=P.length,Ce=0;Ce<de;){if(I[Ce]>=k){for(Z=Ce+1;Z<de&&I[Z]>=k;)Z++;for(le=Ce,W=Z-1;le<W;le++,W--)re=P[le],P[le]=P[W],P[W]=re,F&&(re=F[le],F[le]=F[W],F[W]=re);Ce=Z}Ce++}}},L=function(k,P,F){var I=k.split(""),ee={hiLevel:_};return F||(F=[]),E(I,F,ee),function(re,W,Z){if(Z.hiLevel!==0&&d)for(var le,de=0;de<re.length;de++)W[de]===1&&(le=x.indexOf(re[de]))>=0&&(re[de]=x[le+1])}(I,F,ee),U(2,I,P,F,ee),U(1,I,P,F,ee),I.join("")};return this.__bidiEngine__.doBidiReorder=function(k,P,F){if(function(ee,re){if(re)for(var W=0;W<ee.length;W++)re[W]=W;o===void 0&&(o=A(ee)),u===void 0&&(u=A(ee))}(k,P),i||!l||u)if(i&&l&&o^u)_=o?1:0,k=D(k,P,F);else if(!i&&l&&u)_=o?1:0,k=L(k,P,F),k=D(k,P);else if(!i||o||l||u){if(i&&!l&&o^u)k=D(k,P),o?(_=0,k=L(k,P,F)):(_=1,k=L(k,P,F),k=D(k,P));else if(i&&o&&!l&&u)_=1,k=L(k,P,F),k=D(k,P);else if(!i&&!l&&o^u){var I=d;o?(_=1,k=L(k,P,F),_=0,d=!1,k=L(k,P,F),d=I):(_=0,k=L(k,P,F),k=D(k,P),_=1,d=!1,k=L(k,P,F),d=I,k=D(k,P))}}else _=0,k=L(k,P,F);else _=o?1:0,k=L(k,P,F);return k},this.__bidiEngine__.setOptions=function(k){k&&(i=k.isInputVisual,l=k.isOutputVisual,o=k.isInputRtl,u=k.isOutputRtl,d=k.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var a=r.text,s=(r.x,r.y,r.options||{}),i=(r.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,e.setOptions(s),Object.prototype.toString.call(a)==="[object Array]"){var o=0;for(i=[],o=0;o<a.length;o+=1)Object.prototype.toString.call(a[o])==="[object Array]"?i.push([e.doBidiReorder(a[o][0]),a[o][1],a[o][2]]):i.push([e.doBidiReorder(a[o])]);r.text=i}else r.text=e.doBidiReorder(a);e.setOptions({isInputVisual:!0})}])}(Qe),Qe.API.TTFFont=function(){function n(t){var e;if(this.rawData=t,e=this.contents=new Qs(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new pD(this),this.registerTTF()}return n.open=function(t){return new n(t)},n.prototype.parse=function(){return this.directory=new eD(this.contents),this.head=new rD(this),this.name=new oD(this),this.cmap=new lx(this),this.toUnicode={},this.hhea=new nD(this),this.maxp=new lD(this),this.hmtx=new cD(this),this.post=new sD(this),this.os2=new aD(this),this.loca=new fD(this),this.glyf=new uD(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var t,e,r,a,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var i,o,l,u;for(u=[],i=0,o=(l=this.bbox).length;i<o;i++)t=l[i],u.push(Math.round(t*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(r=255&(a=this.post.italic_angle),32768&(e=a>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},n.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},n.prototype.widthOfString=function(t,e,r){var a,s,i,o;for(i=0,s=0,o=(t=""+t).length;0<=o?s<o:s>o;s=0<=o?++s:--s)a=t.charCodeAt(s),i+=this.widthOfGlyph(this.characterToGlyph(a))+r*(1e3/e)||0;return i*(e/1e3)},n.prototype.lineHeight=function(t,e){var r;return e==null&&(e=!1),r=e?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},n}();var ya,Qs=function(){function n(t){this.data=t??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(t){return this.data[this.pos++]=t},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},n.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},n.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},n.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},n.prototype.readString=function(t){var e,r;for(r=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)r[e]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(t){var e,r,a;for(a=[],e=0,r=t.length;0<=r?e<r:e>r;e=0<=r?++e:--e)a.push(this.writeByte(t.charCodeAt(e)));return a},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(t){return this.writeInt16(t)},n.prototype.readLongLong=function(){var t,e,r,a,s,i,o,l;return t=this.readByte(),e=this.readByte(),r=this.readByte(),a=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^r)+4294967296*(255^a)+16777216*(255^s)+65536*(255^i)+256*(255^o)+(255^l)+1):72057594037927940*t+281474976710656*e+1099511627776*r+4294967296*a+16777216*s+65536*i+256*o+l},n.prototype.writeLongLong=function(t){var e,r;return e=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(t){return this.writeInt32(t)},n.prototype.read=function(t){var e,r;for(e=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)e.push(this.readByte());return e},n.prototype.write=function(t){var e,r,a,s;for(s=[],r=0,a=t.length;r<a;r++)e=t[r],s.push(this.writeByte(e));return s},n}(),eD=function(){var n;function t(e){var r,a,s;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},a=0,s=this.tableCount;0<=s?a<s:a>s;a=0<=s?++a:--a)r={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(e){var r,a,s,i,o,l,u,d,f,m,p,y,v;for(v in p=Object.keys(e).length,l=Math.log(2),f=16*Math.floor(Math.log(p)/l),i=Math.floor(f/l),d=16*p-f,(a=new Qs).writeInt(this.scalarType),a.writeShort(p),a.writeShort(f),a.writeShort(i),a.writeShort(d),s=16*p,u=a.pos+s,o=null,y=[],e)for(m=e[v],a.writeString(v),a.writeInt(n(m)),a.writeInt(u),a.writeInt(m.length),y=y.concat(m),v==="head"&&(o=u),u+=m.length;u%4;)y.push(0),u++;return a.write(y),r=2981146554-n(a.data),a.pos=o+8,a.writeUInt32(r),a.data},n=function(e){var r,a,s,i;for(e=cx.call(e);e.length%4;)e.push(0);for(s=new Qs(e),a=0,r=0,i=e.length;r<i;r=r+=4)a+=s.readUInt32();return 4294967295&a},t}(),tD={}.hasOwnProperty,Xa=function(n,t){for(var e in t)tD.call(t,e)&&(n[e]=t[e]);function r(){this.constructor=n}return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n};ya=function(){function n(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var rD=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Xa(t,ya),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new Qs).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t}(),C1=function(){function n(t,e){var r,a,s,i,o,l,u,d,f,m,p,y,v,x,w,N,_;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(p=t.readUInt16(),m=p/2,t.pos+=6,s=function(){var C,A;for(A=[],l=C=0;0<=m?C<m:C>m;l=0<=m?++C:--C)A.push(t.readUInt16());return A}(),t.pos+=2,v=function(){var C,A;for(A=[],l=C=0;0<=m?C<m:C>m;l=0<=m?++C:--C)A.push(t.readUInt16());return A}(),u=function(){var C,A;for(A=[],l=C=0;0<=m?C<m:C>m;l=0<=m?++C:--C)A.push(t.readUInt16());return A}(),d=function(){var C,A;for(A=[],l=C=0;0<=m?C<m:C>m;l=0<=m?++C:--C)A.push(t.readUInt16());return A}(),a=(this.length-t.pos+this.offset)/2,o=function(){var C,A;for(A=[],l=C=0;0<=a?C<a:C>a;l=0<=a?++C:--C)A.push(t.readUInt16());return A}(),l=w=0,_=s.length;w<_;l=++w)for(x=s[l],r=N=y=v[l];y<=x?N<=x:N>=x;r=y<=x?++N:--N)d[l]===0?i=r+u[l]:(i=o[d[l]/2+(r-y)-(m-l)]||0)!==0&&(i+=u[l]),this.codeMap[r]=65535&i}t.pos=f}return n.encode=function(t,e){var r,a,s,i,o,l,u,d,f,m,p,y,v,x,w,N,_,C,A,B,D,E,U,L,k,P,F,I,ee,re,W,Z,le,de,Ce,M,Y,X,K,ne,ue,ae,fe,Ne,_e,Oe;switch(I=new Qs,i=Object.keys(t).sort(function(Pe,De){return Pe-De}),e){case"macroman":for(v=0,x=function(){var Pe=[];for(y=0;y<256;++y)Pe.push(0);return Pe}(),N={0:0},s={},ee=0,le=i.length;ee<le;ee++)N[fe=t[a=i[ee]]]==null&&(N[fe]=++v),s[a]={old:t[a],new:N[t[a]]},x[a]=N[t[a]];return I.writeUInt16(1),I.writeUInt16(0),I.writeUInt32(12),I.writeUInt16(0),I.writeUInt16(262),I.writeUInt16(0),I.write(x),{charMap:s,subtable:I.data,maxGlyphID:v+1};case"unicode":for(P=[],f=[],_=0,N={},r={},w=u=null,re=0,de=i.length;re<de;re++)N[A=t[a=i[re]]]==null&&(N[A]=++_),r[a]={old:A,new:N[A]},o=N[A]-a,w!=null&&o===u||(w&&f.push(w),P.push(a),u=o),w=a;for(w&&f.push(w),f.push(65535),P.push(65535),L=2*(U=P.length),E=2*Math.pow(Math.log(U)/Math.LN2,2),m=Math.log(E/2)/Math.LN2,D=2*U-E,l=[],B=[],p=[],y=W=0,Ce=P.length;W<Ce;y=++W){if(k=P[y],d=f[y],k===65535){l.push(0),B.push(0);break}if(k-(F=r[k].new)>=32768)for(l.push(0),B.push(2*(p.length+U-y)),a=Z=k;k<=d?Z<=d:Z>=d;a=k<=d?++Z:--Z)p.push(r[a].new);else l.push(F-k),B.push(0)}for(I.writeUInt16(3),I.writeUInt16(1),I.writeUInt32(12),I.writeUInt16(4),I.writeUInt16(16+8*U+2*p.length),I.writeUInt16(0),I.writeUInt16(L),I.writeUInt16(E),I.writeUInt16(m),I.writeUInt16(D),ue=0,M=f.length;ue<M;ue++)a=f[ue],I.writeUInt16(a);for(I.writeUInt16(0),ae=0,Y=P.length;ae<Y;ae++)a=P[ae],I.writeUInt16(a);for(Ne=0,X=l.length;Ne<X;Ne++)o=l[Ne],I.writeUInt16(o);for(_e=0,K=B.length;_e<K;_e++)C=B[_e],I.writeUInt16(C);for(Oe=0,ne=p.length;Oe<ne;Oe++)v=p[Oe],I.writeUInt16(v);return{charMap:r,subtable:I.data,maxGlyphID:_+1}}},n}(),lx=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Xa(t,ya),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,a,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=s?a<s:a>s;a=0<=s?++a:--a)r=new C1(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var a,s;return r==null&&(r="macroman"),a=C1.encode(e,r),(s=new Qs).writeUInt16(0),s.writeUInt16(1),a.table=s.data.concat(a.subtable),a},t}(),nD=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Xa(t,ya),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),aD=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Xa(t,ya),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var r,a;for(a=[],r=0;r<10;++r)a.push(e.readByte());return a}(),this.charRange=function(){var r,a;for(a=[],r=0;r<4;++r)a.push(e.readInt());return a}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var r,a;for(a=[],r=0;r<2;r=++r)a.push(e.readInt());return a}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),sD=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Xa(t,ya),t.prototype.tag="post",t.prototype.parse=function(e){var r,a,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:break;case 131072:var i;for(a=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)r=e.readByte(),s.push(this.names.push(e.readString(r)));return s;case 151552:return a=e.readUInt16(),this.offsets=e.read(a);case 196608:break;case 262144:return this.map=(function(){var o,l,u;for(u=[],i=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;i=0<=l?++o:--o)u.push(e.readUInt32());return u}).call(this)}},t}(),iD=function(n,t){this.raw=n,this.length=n.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},oD=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Xa(t,ya),t.prototype.tag="name",t.prototype.parse=function(e){var r,a,s,i,o,l,u,d,f,m,p;for(e.pos=this.offset,e.readShort(),r=e.readShort(),l=e.readShort(),a=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)a.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(u={},i=f=0,m=a.length;f<m;i=++f)s=a[i],e.pos=s.offset,d=e.readString(s.length),o=new iD(d,s),u[p=s.nameID]==null&&(u[p]=[]),u[s.nameID].push(o);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t}(),lD=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Xa(t,ya),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),cD=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Xa(t,ya),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,a,s,i,o,l,u;for(e.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,f;for(f=[],r=d=0;0<=s?d<s:d>s;r=0<=s?++d:--d)f.push(e.readInt16());return f}(),this.widths=(function(){var d,f,m,p;for(p=[],d=0,f=(m=this.metrics).length;d<f;d++)i=m[d],p.push(i.advance);return p}).call(this),a=this.widths[this.widths.length-1],u=[],r=o=0;0<=s?o<s:o>s;r=0<=s?++o:--o)u.push(this.widths.push(a));return u},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),cx=[].slice,uD=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Xa(t,ya),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,a,s,i,o,l,u,d,f,m;return e in this.cache?this.cache[e]:(i=this.file.loca,r=this.file.contents,a=i.indexOf(e),(s=i.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+a,o=(l=new Qs(r.read(s))).readShort(),d=l.readShort(),m=l.readShort(),u=l.readShort(),f=l.readShort(),this.cache[e]=o===-1?new hD(l,d,m,u,f):new dD(l,o,d,m,u,f),this.cache[e]))},t.prototype.encode=function(e,r,a){var s,i,o,l,u;for(o=[],i=[],l=0,u=r.length;l<u;l++)s=e[r[l]],i.push(o.length),s&&(o=o.concat(s.encode(a)));return i.push(o.length),{table:o,offsets:i}},t}(),dD=function(){function n(t,e,r,a,s,i){this.raw=t,this.numberOfContours=e,this.xMin=r,this.yMin=a,this.xMax=s,this.yMax=i,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),hD=function(){function n(t,e,r,a,s){var i,o;for(this.raw=t,this.xMin=e,this.yMin=r,this.xMax=a,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],i=this.raw;o=i.readShort(),this.glyphOffsets.push(i.pos),this.glyphIDs.push(i.readUInt16()),32&o;)i.pos+=1&o?4:2,128&o?i.pos+=8:64&o?i.pos+=4:8&o&&(i.pos+=2)}return n.prototype.encode=function(){var t,e,r;for(e=new Qs(cx.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)e.pos=this.glyphOffsets[t];return e.data},n}(),fD=function(n){function t(){return t.__super__.constructor.apply(this,arguments)}return Xa(t,ya),t.prototype.tag="loca",t.prototype.parse=function(e){var r,a;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,i;for(i=[],a=0,s=this.length;a<s;a+=2)i.push(2*e.readUInt16());return i}).call(this):(function(){var s,i;for(i=[],a=0,s=this.length;a<s;a+=4)i.push(e.readUInt32());return i}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var a=new Uint32Array(this.offsets.length),s=0,i=0,o=0;o<a.length;++o)if(a[o]=s,i<r.length&&r[i]==o){++i,a[o]=s;var l=this.offsets[o],u=this.offsets[o+1]-l;u>0&&(s+=u)}for(var d=new Array(4*a.length),f=0;f<a.length;++f)d[4*f+3]=255&a[f],d[4*f+2]=(65280&a[f])>>8,d[4*f+1]=(16711680&a[f])>>16,d[4*f]=(4278190080&a[f])>>24;return d},t}(),pD=function(){function n(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var t,e,r,a,s;for(e in a=this.font.cmap.tables[0].codeMap,t={},s=this.subset)r=s[e],t[e]=a[r];return t},n.prototype.glyphsFor=function(t){var e,r,a,s,i,o,l;for(a={},i=0,o=t.length;i<o;i++)a[s=t[i]]=this.font.glyf.glyphFor(s);for(s in e=[],a)(r=a[s])!=null&&r.compound&&e.push.apply(e,r.glyphIDs);if(e.length>0)for(s in l=this.glyphsFor(e))r=l[s],a[s]=r;return a},n.prototype.encode=function(t,e){var r,a,s,i,o,l,u,d,f,m,p,y,v,x,w;for(a in r=lx.encode(this.generateCmap(),"unicode"),i=this.glyphsFor(t),p={0:0},w=r.charMap)p[(l=w[a]).old]=l.new;for(y in m=r.maxGlyphID,i)y in p||(p[y]=m++);return d=function(N){var _,C;for(_ in C={},N)C[N[_]]=_;return C}(p),f=Object.keys(d).sort(function(N,_){return N-_}),v=function(){var N,_,C;for(C=[],N=0,_=f.length;N<_;N++)o=f[N],C.push(d[o]);return C}(),s=this.font.glyf.encode(i,v,p),u=this.font.loca.encode(s.offsets,v),x={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(x["OS/2"]=this.font.os2.raw()),this.font.directory.encode(x)},n}();Qe.API.PDFObject=function(){var n;function t(){}return n=function(e,r){return(Array(r+1).join("0")+e).slice(-r)},t.convert=function(e){var r,a,s,i;if(Array.isArray(e))return"["+function(){var o,l,u;for(u=[],o=0,l=e.length;o<l;o++)r=e[o],u.push(t.convert(r));return u}().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e!=null&&e.isString)return"("+e+")";if(e instanceof Date)return"(D:"+n(e.getUTCFullYear(),4)+n(e.getUTCMonth(),2)+n(e.getUTCDate(),2)+n(e.getUTCHours(),2)+n(e.getUTCMinutes(),2)+n(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(a in s=["<<"],e)i=e[a],s.push("/"+a+" "+t.convert(i));return s.push(">>"),s.join(`
`)}return""+e},t}();async function ux(n){const t=new Qe,e=t.internal.pageSize.getWidth();t.internal.pageSize.getHeight();const r=[14,165,233],a=[239,246,255],s=[30,41,59],i=[100,116,139];let o=20;t.setFillColor(...r),t.rect(0,0,e,70,"F");try{const _="/Imagem do WhatsApp de 2025-06-07 (s) 14.47.51_4a694503 (1).png",C=()=>new Promise((A,B)=>{const D=new Image;D.crossOrigin="anonymous",D.onload=()=>A(D),D.onerror=()=>B(new Error("Failed to load logo")),D.src=_});try{const A=await C(),B=document.createElement("canvas"),D=B.getContext("2d");if(D){const E=A.width,U=A.height,L=E/U,k=20,P=k*L;B.width=E,B.height=U,D.drawImage(A,0,0);const F=B.toDataURL("image/png");t.addImage(F,"PNG",15,25,P,k)}else throw new Error("Canvas context not available")}catch(A){console.warn("Could not load HidroMineral logo, using placeholder:",A);const B=40,D=20;t.setFillColor(255,255,255),t.rect(15,25,B,D,"F"),t.setDrawColor(14,165,233),t.setLineWidth(1),t.rect(15,25,B,D),t.setTextColor(14,165,233),t.setFontSize(8),t.setFont("helvetica","bold"),t.text("HidroMineral",15+B/2,32,{align:"center"}),t.setFontSize(6),t.text("Mineralizador",15+B/2,40,{align:"center"})}}catch(_){console.warn("Error handling logo:",_);const C=40,A=20;t.setFillColor(255,255,255),t.rect(15,25,C,A,"F"),t.setDrawColor(200,200,200),t.setLineWidth(1),t.rect(15,25,C,A),t.setTextColor(100,100,100),t.setFontSize(7),t.setFont("helvetica","bold"),t.text("LOGO",15+C/2,37,{align:"center"})}const l=105;t.setTextColor(255,255,255),t.setFontSize(20),t.setFont("helvetica","bold"),t.text("COMPROVANTE DE VENDA",l,25);const u=105;t.setTextColor(255,255,255),t.setFontSize(9),t.setFont("helvetica","normal"),t.text("CNPJ: 24.395.398/0001-70",u,37),t.text("Tel: (66) 2102-5000",u,45),t.text("Rua dos Cajueiros, 1366",u,53),t.text("Setor Residencial Norte - Sinop-MT",u,61),t.setTextColor(255,255,255),t.setFontSize(9),t.setFont("helvetica","normal"),t.text(`N ${n.id.substring(0,8)}`,e-15,30,{align:"right"}),t.text(`Data: ${new Date(n.date).toLocaleDateString("pt-BR")}`,e-15,38,{align:"right"}),t.text(`Vendedor: ${n.vendor}`,e-15,46,{align:"right"}),o=85,t.setFillColor(...a),t.rect(15,o,e-30,35,"F"),t.setDrawColor(...r),t.setLineWidth(.5),t.rect(15,o,e-30,35),t.setTextColor(...s),t.setFontSize(14),t.setFont("helvetica","bold"),t.text("DADOS DO CLIENTE",20,o+10),t.setFontSize(12),t.setFont("helvetica","normal"),t.text(`${n.client.name}`,20,o+22);let d=o+29;n.client.email&&(t.setFontSize(10),t.setTextColor(...i),t.text(`Email: ${n.client.email}`,20,d)),n.client.phone&&(t.setFontSize(10),t.setTextColor(...i),t.text(`Telefone: ${n.client.phone}`,e/2,d)),o+=55,t.setTextColor(...s),t.setFontSize(14),t.setFont("helvetica","bold"),t.text("ITENS VENDIDOS",20,o),o+=15,t.setFillColor(...r),t.rect(15,o,e-30,15,"F"),t.setTextColor(255,255,255),t.setFontSize(10),t.setFont("helvetica","bold"),t.text("DESCRIO",20,o+10),t.text("TIPO",e-150,o+10,{align:"center"}),t.text("QTD",e-110,o+10,{align:"center"}),t.text("VALOR UNIT.",e-70,o+10,{align:"center"}),t.text("TOTAL",e-20,o+10,{align:"right"}),o+=15,t.setTextColor(...s),t.setFont("helvetica","normal"),n.items.forEach((_,C)=>{C%2===0&&(t.setFillColor(248,250,252),t.rect(15,o,e-30,12,"F")),t.setDrawColor(226,232,240),t.setLineWidth(.1),t.line(15,o+12,e-15,o+12),t.setFontSize(10),t.text(_.name,20,o+8),t.text(_.type==="product"?"Produto":"Servio",e-150,o+8,{align:"center"}),t.text(_.quantity.toString(),e-110,o+8,{align:"center"}),t.text(`R$ ${_.price.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,e-70,o+8,{align:"center"}),t.text(`R$ ${_.total.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,e-20,o+8,{align:"right"}),o+=12}),o+=10;const f=o,m=n.discount>0?45:30;t.setFillColor(241,245,249),t.rect(e-150,f,135,m,"F"),t.setDrawColor(...r),t.setLineWidth(1),t.rect(e-150,f,135,m),t.setTextColor(...s),t.setFontSize(11),t.setFont("helvetica","normal");let p=f+12;if(t.text("Subtotal:",e-145,p),t.text(`R$ ${n.subtotal.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,e-25,p,{align:"right"}),n.discount>0&&(p+=12,t.setTextColor(220,38,38),t.text("Desconto:",e-145,p),t.text(`- R$ ${n.discount.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,e-25,p,{align:"right"})),p+=12,t.setTextColor(...s),t.setFont("helvetica","bold"),t.setFontSize(14),t.text("TOTAL:",e-145,p),t.setTextColor(...r),t.text(`R$ ${n.total.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,e-25,p,{align:"right"}),o+=m+20,n.observations&&n.observations.trim()){t.setTextColor(...s),t.setFontSize(12),t.setFont("helvetica","bold"),t.text("OBSERVAES",20,o),o+=10;const _=Math.max(25,Math.ceil(n.observations.length/80)*5+10);t.setFillColor(249,250,251),t.rect(15,o,e-30,_,"F"),t.setDrawColor(209,213,219),t.setLineWidth(.5),t.rect(15,o,e-30,_),t.setFontSize(10),t.setFont("helvetica","normal"),t.setTextColor(...i);const C=t.splitTextToSize(n.observations,e-40);let A=o+8;C.forEach(B=>{t.text(B,20,A),A+=5}),o+=_+20}const y=_=>({money:"Dinheiro",credit:"Carto de Crdito",debit:"Carto de Dbito",pix:"PIX",transfer:"Transferncia",check:"Cheque"})[_]||_,v=n.paymentMethod==="credit"&&n.installments>1?35:25;t.setFillColor(249,250,251),t.rect(15,o,e-30,v,"F"),t.setDrawColor(209,213,219),t.setLineWidth(.5),t.rect(15,o,e-30,v),t.setFontSize(12),t.setFont("helvetica","bold"),t.setTextColor(...s),t.text(`Forma de Pagamento: ${y(n.paymentMethod)}`,20,o+15),n.paymentMethod==="credit"&&n.installments>1&&(t.setFont("helvetica","normal"),t.setFontSize(10),t.setTextColor(...i),t.text(`Parcelamento: ${n.installments}x de R$ ${(n.total/n.installments).toLocaleString("pt-BR",{minimumFractionDigits:2})}`,20,o+25),t.text(`Valor total parcelado: R$ ${n.total.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,20,o+32)),o+=v+20,t.setFontSize(12),t.setFont("helvetica","bold"),t.setTextColor(...r),t.text("Obrigado pela confiana!",e/2,o,{align:"center"});const x=o+10;t.setFontSize(9),t.setFont("helvetica","italic"),t.setTextColor(...i),t.text("Este documento comprova a realizao da venda.",e/2,x,{align:"center"}),t.text("Valores sujeitos a alterao sem aviso prvio.",e/2,x+5,{align:"center"});const w=x+15;return t.setFontSize(8),t.setTextColor(...i),t.text("HidroMineral - Mineralizador de gua",e/2,w,{align:"center"}),t.text("Rua dos Cajueiros, 1366 - Setor Residencial Norte - Sinop-MT",e/2,w+5,{align:"center"}),t.output("blob")}function bt(n){return n.toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2,maximumFractionDigits:2})}function Lg(n){const t=n.replace(/[^\d.,]/g,"");if(!t.includes(",")){const s=parseInt(t)||0;return s<100?s:s/100}const e=t.split(","),r=e[0].replace(/\./g,""),a=e[1]?e[1].slice(0,2):"00";return parseFloat(`${r}.${a}`)}function Og(n){let t=n.replace(/\D/g,"");return t?(parseInt(t)/100).toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}):""}function dx({open:n,onOpenChange:t}){const{profile:e}=Jn(),[r,a]=V.useState("items"),[s,i]=V.useState([]),[o,l]=V.useState(null),[u,d]=V.useState(!1),[f,m]=V.useState("money"),[p,y]=V.useState(1),[v,x]=V.useState(0),[w,N]=V.useState(""),_=ri(W=>W.products),C=Ii(W=>W.services),A=Hn(W=>W.clients),B=yg(W=>W.addSale),D=(W,Z)=>{if(s.find(de=>de.id===W.id&&de.type===Z))i(s.map(de=>de.id===W.id&&de.type===Z?{...de,quantity:de.quantity+1,total:(de.quantity+1)*de.price}:de));else{const de={id:W.id,type:Z,name:W.name,price:W.price,quantity:1,total:W.price,imageUrl:Z==="product"?W.imageUrl:void 0};i([...s,de])}},E=(W,Z)=>{i(s.filter(le=>!(le.id===W&&le.type===Z)))},U=(W,Z,le)=>{if(le<=0){E(W,Z);return}i(s.map(de=>de.id===W&&de.type===Z?{...de,quantity:le,total:le*de.price}:de))},L=()=>s.reduce((W,Z)=>W+Z.total,0),k=()=>L()-v,P=async()=>{if(!o||s.length===0){alert("Selecione um cliente e adicione itens  venda");return}const W={client:o,items:s,subtotal:L(),discount:v,total:k(),paymentMethod:f,installments:p,observations:w,vendor:(e==null?void 0:e.full_name)||"Vendedor",vendorId:(e==null?void 0:e.id)||"",status:"completed",date:new Date().toISOString()};try{await B(W),I(),t(!1)}catch(Z){console.error("Error finalizing sale:",Z);const le=Z instanceof Error?Z.message:"Erro desconhecido ao finalizar venda";alert(`Erro ao finalizar venda: ${le}`)}},F=async()=>{if(!o||s.length===0){alert("Selecione um cliente e adicione itens  venda");return}const W={id:crypto.randomUUID(),client:o,items:s,subtotal:L(),discount:v,total:k(),paymentMethod:f,installments:p,observations:w,vendor:(e==null?void 0:e.full_name)||"Vendedor",company:{name:"HidroMineral",cnpj:"24.395.398/0001-70",phone:"(66) 2102-5000",address:"Rua dos Cajueiros, 1366 - Bairro Setor Residencial Norte - Sinop-MT"},date:new Date().toISOString()};try{const Z=await ux(W),le=URL.createObjectURL(Z),de=document.createElement("a");de.href=le,de.download=`Venda_${o.name.replace(/\s+/g,"_")}_${new Date().toLocaleDateString("pt-BR").replace(/\//g,"-")}.pdf`,document.body.appendChild(de),de.click(),document.body.removeChild(de),URL.revokeObjectURL(le)}catch(Z){console.error("Erro ao gerar PDF:",Z),alert("Erro ao gerar PDF da venda")}},I=()=>{a("items"),i([]),l(null),m("money"),y(1),x(0),N("")},ee=()=>{d(!1)},re=W=>({money:"Dinheiro",credit:"Carto de Crdito",debit:"Carto de Dbito",pix:"PIX",transfer:"Transferncia",check:"Cheque"})[W]||W;return c.jsxs(c.Fragment,{children:[c.jsx(en,{open:n,onOpenChange:t,children:c.jsxs(tn,{children:[c.jsx(rn,{className:"fixed inset-0 bg-black/50"}),c.jsxs(nn,{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white rounded-lg p-6 w-[95vw] max-w-[1200px] max-h-[90vh] overflow-y-auto",children:[c.jsxs(an,{className:"text-2xl font-semibold mb-6 flex items-center",children:[c.jsx(Ec,{className:"h-6 w-6 mr-2 text-blue-600"}),"Sistema de Vendas"]}),c.jsx("div",{className:"flex items-center justify-center mb-8",children:c.jsx("div",{className:"flex items-center space-x-4",children:[{key:"items",label:"Itens",icon:Mi},{key:"client",label:"Cliente",icon:hj},{key:"payment",label:"Pagamento",icon:Od},{key:"summary",label:"Resumo",icon:wc}].map((W,Z)=>{const le=W.icon,de=r===W.key,Ce=["items","client","payment","summary"].indexOf(r)>Z;return c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${de?"bg-blue-600 text-white":Ce?"bg-blue-100 text-blue-600":"bg-gray-100 text-gray-400"}`,children:c.jsx(le,{className:"h-5 w-5"})}),c.jsx("span",{className:`ml-2 text-sm font-medium ${de?"text-blue-600":"text-gray-500"}`,children:W.label}),Z<3&&c.jsx("div",{className:`w-8 h-0.5 mx-4 ${Ce?"bg-blue-600":"bg-gray-200"}`})]},W.key)})})}),r==="items"&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[c.jsx(Mi,{className:"h-5 w-5 mr-2 text-blue-600"}),"Produtos"]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:_.map(W=>c.jsxs("div",{className:"bg-white border rounded-lg p-4 hover:shadow-md transition-shadow",children:[W.imageUrl&&c.jsx("img",{src:W.imageUrl,alt:W.name,className:"w-full h-32 object-cover rounded-md mb-3"}),c.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:W.name}),c.jsx("p",{className:"text-sm text-gray-600 mb-2",children:W.description}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-lg font-semibold text-blue-600",children:bt(W.price)}),c.jsx("button",{onClick:()=>D(W,"product"),className:"px-3 py-1 bg-blue-600 text-white rounded-md hover:bg-blue-700 text-sm",children:"Vender"})]})]},W.id))})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[c.jsx(Ec,{className:"h-5 w-5 mr-2 text-cyan-600"}),"Servios"]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:C.map(W=>c.jsxs("div",{className:"bg-white border rounded-lg p-4 hover:shadow-md transition-shadow",children:[c.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:W.name}),c.jsx("p",{className:"text-sm text-gray-600 mb-3",children:W.description}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-lg font-semibold text-cyan-600",children:bt(W.price)}),c.jsx("button",{onClick:()=>D(W,"service"),className:"px-3 py-1 bg-cyan-600 text-white rounded-md hover:bg-cyan-700 text-sm",children:"Vender"})]})]},W.id))})]})]}),c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Carrinho de Vendas"}),s.length===0?c.jsx("p",{className:"text-gray-500 text-center py-8",children:"Nenhum item selecionado"}):c.jsxs("div",{className:"space-y-3",children:[s.map(W=>c.jsxs("div",{className:"bg-white rounded-lg p-3",children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:W.name}),c.jsx("button",{onClick:()=>E(W.id,W.type),className:"text-red-500 hover:text-red-700",children:c.jsx(Lr,{className:"h-4 w-4"})})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{onClick:()=>U(W.id,W.type,W.quantity-1),className:"w-6 h-6 bg-gray-200 rounded text-sm hover:bg-gray-300",children:"-"}),c.jsx("span",{className:"text-sm font-medium",children:W.quantity}),c.jsx("button",{onClick:()=>U(W.id,W.type,W.quantity+1),className:"w-6 h-6 bg-gray-200 rounded text-sm hover:bg-gray-300",children:"+"})]}),c.jsxs("span",{className:"text-sm font-semibold",children:["R$ ",W.total.toFixed(2)]})]})]},`${W.type}-${W.id}`)),c.jsx("div",{className:"border-t pt-3 mt-3",children:c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{className:"font-semibold",children:"Total:"}),c.jsx("span",{className:"text-lg font-bold text-blue-600",children:bt(L())})]})})]})]})]}),c.jsx("div",{className:"flex justify-end",children:c.jsx("button",{onClick:()=>a("client"),disabled:s.length===0,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:"Prximo: Selecionar Cliente"})})]}),r==="client"&&c.jsxs("div",{className:"space-y-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Selecionar Cliente"}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("p",{className:"text-gray-600",children:"Escolha um cliente existente ou adicione um novo"}),c.jsxs("button",{onClick:()=>d(!0),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[c.jsx(On,{className:"h-4 w-4 mr-2"}),"Adicionar Cliente"]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:A.map(W=>c.jsxs("div",{onClick:()=>l(W),className:`border rounded-lg p-4 cursor-pointer transition-colors ${(o==null?void 0:o.id)===W.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[c.jsx("h4",{className:"font-medium text-gray-900",children:W.name}),W.email&&c.jsx("p",{className:"text-sm text-gray-600",children:W.email}),W.phone&&c.jsx("p",{className:"text-sm text-gray-600",children:W.phone})]},W.id))}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("button",{onClick:()=>a("items"),className:"px-6 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:"Voltar"}),c.jsx("button",{onClick:()=>a("payment"),disabled:!o,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:"Prximo: Pagamento"})]})]}),r==="payment"&&c.jsxs("div",{className:"space-y-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Forma de Pagamento"}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[{value:"money",label:"Dinheiro",icon:ji},{value:"credit",label:"Carto de Crdito",icon:Od},{value:"debit",label:"Carto de Dbito",icon:Od},{value:"pix",label:"PIX",icon:ji},{value:"transfer",label:"Transferncia",icon:ji},{value:"check",label:"Cheque",icon:wc}].map(W=>{const Z=W.icon;return c.jsxs("button",{onClick:()=>m(W.value),className:`p-4 border rounded-lg flex flex-col items-center space-y-2 transition-colors ${f===W.value?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"}`,children:[c.jsx(Z,{className:"h-6 w-6"}),c.jsx("span",{className:"text-sm font-medium",children:W.label})]},W.value)})}),f==="credit"&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nmero de Parcelas"}),c.jsx("select",{value:p,onChange:W=>y(Number(W.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:Array.from({length:12},(W,Z)=>Z+1).map(W=>c.jsxs("option",{value:W,children:[W,"x ",W===1?" vista":`de R$ ${(k()/W).toFixed(2)}`]},W))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Desconto (R$)"}),c.jsx("input",{type:"number",value:v,onChange:W=>x(Number(W.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md",min:"0",max:L(),step:"0.01"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Observaes"}),c.jsx("textarea",{value:w,onChange:W=>N(W.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md",rows:3,placeholder:"Observaes sobre a venda..."})]}),c.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Subtotal:"}),c.jsx("span",{children:bt(L())})]}),v>0&&c.jsxs("div",{className:"flex justify-between text-red-600",children:[c.jsx("span",{children:"Desconto:"}),c.jsxs("span",{children:["- ",bt(v)]})]}),c.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[c.jsx("span",{children:"Total:"}),c.jsx("span",{children:bt(k())})]})]})}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("button",{onClick:()=>a("client"),className:"px-6 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:"Voltar"}),c.jsx("button",{onClick:()=>a("summary"),className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Prximo: Resumo"})]})]}),r==="summary"&&c.jsxs("div",{className:"space-y-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Resumo da Venda"}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[c.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Cliente"}),c.jsx("p",{className:"text-gray-700",children:o==null?void 0:o.name}),(o==null?void 0:o.email)&&c.jsx("p",{className:"text-sm text-gray-600",children:o.email}),(o==null?void 0:o.phone)&&c.jsx("p",{className:"text-sm text-gray-600",children:o.phone})]}),c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[c.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Pagamento"}),c.jsx("p",{className:"text-gray-700",children:re(f)}),f==="credit"&&p>1&&c.jsxs("p",{className:"text-sm text-gray-600",children:[p,"x de R$ ",(k()/p).toFixed(2)]})]})]}),c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[c.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Itens"}),c.jsx("div",{className:"space-y-2",children:s.map(W=>c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsxs("span",{children:[W.quantity,"x ",W.name]}),c.jsx("span",{children:bt(W.total)})]},`${W.type}-${W.id}`))}),c.jsxs("div",{className:"border-t mt-3 pt-3 space-y-1",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Subtotal:"}),c.jsx("span",{children:bt(L())})]}),v>0&&c.jsxs("div",{className:"flex justify-between text-red-600",children:[c.jsx("span",{children:"Desconto:"}),c.jsxs("span",{children:["- ",bt(v)]})]}),c.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[c.jsx("span",{children:"Total:"}),c.jsx("span",{children:bt(k())})]})]})]})]}),w&&c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[c.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Observaes"}),c.jsx("p",{className:"text-gray-700",children:w})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("button",{onClick:()=>a("payment"),className:"px-6 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:"Voltar"}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsxs("button",{onClick:F,className:"flex items-center px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[c.jsx(wc,{className:"h-4 w-4 mr-2"}),"Gerar PDF"]}),c.jsxs("button",{onClick:P,className:"flex items-center px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[c.jsx(ji,{className:"h-4 w-4 mr-2"}),"Finalizar Venda"]})]})]})]}),c.jsx(sn,{className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:c.jsx(Lr,{size:20})})]})]})}),c.jsx(Dg,{open:u,onOpenChange:ee})]})}const mD=[{id:"1",name:"Carlos Oliveira",phone:"(11) 98888-7777",email:"carlos@example.com",address:"Rua das Vendas, 123",photoUrl:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?q=80&w=200",commissionRate:10,totalSales:75e3,receivedCommissions:5250,pendingCommissions:2250,level:"gold",createdAt:"2025-03-18T08:00:00.000Z"},{id:"2",name:"Ana Silva",phone:"(11) 97777-6666",email:"ana@example.com",address:"Avenida do Comrcio, 456",photoUrl:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?q=80&w=200",commissionRate:10,totalSales:12e4,receivedCommissions:8400,pendingCommissions:3600,level:"diamond",createdAt:"2025-03-18T08:30:00.000Z"},{id:"3",name:"Roberto Santos",phone:"(11) 96666-5555",email:"roberto@example.com",address:"Rua do Sucesso, 789",photoUrl:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?q=80&w=200",commissionRate:10,totalSales:35e3,receivedCommissions:2450,pendingCommissions:1050,level:"silver",createdAt:"2025-03-18T09:00:00.000Z"}],D1=n=>n>=1e5?"diamond":n>=5e4?"gold":n>=25e3?"silver":"bronze",nl=Ya()(Ka((n,t)=>({vendors:mD,addVendor:async e=>{const r={...e,id:crypto.randomUUID(),totalSales:0,receivedCommissions:0,pendingCommissions:0,level:"bronze",createdAt:new Date().toISOString()};n(a=>({vendors:[...a.vendors,r]}))},getVendors:()=>t().vendors,updateVendor:(e,r)=>{n(a=>({vendors:a.vendors.map(s=>s.id===e?{...s,...r}:s)}))},deleteVendor:e=>{n(r=>({vendors:r.vendors.filter(a=>a.id!==e)}))},addSale:(e,r)=>{n(a=>({vendors:a.vendors.map(s=>{if(s.id===e){const i=s.totalSales+r,o=r*(s.commissionRate/100);return{...s,totalSales:i,pendingCommissions:s.pendingCommissions+o,level:D1(i)}}return s})}))},payCommission:(e,r)=>{n(a=>({vendors:a.vendors.map(s=>s.id===e?{...s,receivedCommissions:s.receivedCommissions+r,pendingCommissions:s.pendingCommissions-r}:s)}))},calculateLevel:D1}),{name:"vendors-storage"}));function gD(){const{profile:n,signOut:t}=Jn(),e=on(),[r,a]=V.useState(!1),[s,i]=V.useState(!1),[o,l]=V.useState(!1);ri(N=>N.products),Ii(N=>N.services);const u=Hn(N=>N.clients),d=nl(N=>N.vendors),f=Ri(N=>N.visits),{getTotalSales:m,getTotalRevenue:p}=yg(),y=p();d.reduce((N,_)=>N+_.pendingCommissions,0),V.useEffect(()=>{const N=()=>{u.filter(A=>{if(!A.dueDate)return!1;const B=new Date(A.dueDate),D=new Date;return D.setDate(D.getDate()+1),B.toDateString()===D.toDateString()}).length>0&&a(!0)};N();const _=setInterval(N,18e5);return()=>clearInterval(_)},[u]);const v=async()=>{await t(),e("/login")},x=[{icon:Mi,label:"Produtos",color:"bg-emerald-500 hover:bg-emerald-600",onClick:()=>e("/admin/products"),gradient:"from-emerald-500 to-emerald-600"},{icon:Ec,label:"Servios",color:"bg-blue-500 hover:bg-blue-600",onClick:()=>e("/admin/services"),gradient:"from-blue-500 to-blue-600"},{icon:vg,label:"Clientes",color:"bg-purple-500 hover:bg-purple-600",onClick:()=>e("/admin/clients"),gradient:"from-purple-500 to-purple-600"},{icon:dj,label:"Vendedores",color:"bg-orange-500 hover:bg-orange-600",onClick:()=>e("/admin/vendors"),gradient:"from-orange-500 to-orange-600"},{icon:p2,label:"Financeiro",color:"bg-cyan-500 hover:bg-cyan-600",onClick:()=>e("/admin/financial"),gradient:"from-cyan-500 to-cyan-600"},{icon:Qo,label:"Vendas",color:"bg-green-500 hover:bg-green-600",onClick:()=>l(!0),gradient:"from-green-500 to-green-600"},{icon:lj,label:"Gesto de Vendas",color:"bg-teal-500 hover:bg-teal-600",onClick:()=>e("/admin/sales"),gradient:"from-teal-500 to-teal-600"},{icon:i2,label:"Relatrios",color:"bg-indigo-500 hover:bg-indigo-600",onClick:()=>e("/admin/reports"),gradient:"from-indigo-500 to-indigo-600"},{icon:eu,label:"Agendamentos",color:"bg-pink-500 hover:bg-pink-600",onClick:()=>e("/admin/schedule"),gradient:"from-pink-500 to-pink-600"},{icon:wc,label:"Oramentos",color:"bg-yellow-500 hover:bg-yellow-600",onClick:()=>e("/admin/quotations"),gradient:"from-yellow-500 to-yellow-600"},{icon:Sm,label:"Manuteno",color:"bg-red-500 hover:bg-red-600",onClick:()=>e("/admin/maintenance"),gradient:"from-red-500 to-red-600"},{icon:ij,label:"Empresa",color:"bg-gray-500 hover:bg-gray-600",onClick:()=>i(!0),gradient:"from-gray-500 to-gray-600"},{icon:o2,label:"Verificar BD",color:"bg-red-500 hover:bg-red-600",onClick:()=>e("/admin/database-check"),gradient:"from-red-500 to-red-600"}],w=[{icon:f2,title:"Cadastros Iniciados",value:u.length.toString(),growth:"+25%",color:"bg-green-100",iconColor:"text-green-600"},{icon:Qo,title:"Vendas Realizadas",value:m().toString(),growth:"+32%",color:"bg-blue-100",iconColor:"text-blue-600"},{icon:Gs,title:"Receita Total",value:bt(y),growth:"+28%",color:"bg-purple-100",iconColor:"text-purple-600"},{icon:Xo,title:"Visitas Realizadas",value:f.length.toString(),growth:"+40%",color:"bg-orange-100",iconColor:"text-orange-600"}];return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-cyan-50 to-cyan-100",children:[c.jsx("div",{className:"bg-white bg-opacity-90 shadow backdrop-blur-sm",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex flex-col items-center py-6",children:[c.jsx("div",{className:"flex items-center",children:c.jsx(th,{})}),c.jsx("p",{className:"text-xl text-cyan-600 font-medium mt-2",children:"Sistema Oficial"})]})})}),c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"bg-white bg-opacity-90 rounded-lg shadow-lg p-6 backdrop-blur-sm mb-8",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("span",{className:"text-xl text-gray-700",children:["Bem-vindo, ",n==null?void 0:n.full_name]}),c.jsxs("button",{onClick:v,className:"flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 transition-colors duration-200",children:[c.jsx(ym,{className:"h-4 w-4 mr-2"}),"Sair do Sistema"]})]})}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 md:gap-6 mb-8",children:x.map((N,_)=>{const C=N.icon;return c.jsxs("button",{onClick:N.onClick,className:`flex flex-col items-center justify-center p-4 md:p-8 rounded-xl shadow-lg transform hover:scale-105 transition-all duration-200 bg-gradient-to-br ${N.gradient} text-white`,children:[c.jsx(C,{className:"h-8 w-8 md:h-12 md:w-12 mb-2 md:mb-4"}),c.jsx("span",{className:"text-sm md:text-xl font-medium text-center",children:N.label})]},_)})}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:w.map((N,_)=>{const C=N.icon;return c.jsxs("div",{className:`${N.color} rounded-xl shadow-lg p-6 transform hover:scale-105 transition-all duration-200`,children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("div",{className:`${N.iconColor} bg-white rounded-full p-3`,children:c.jsx(C,{className:"h-6 w-6"})}),c.jsx("span",{className:"text-green-600 font-semibold",children:N.growth})]}),c.jsx("h3",{className:"text-gray-800 font-medium mb-2",children:N.title}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:N.value})]},_)})})]}),c.jsx(Vj,{open:r,onOpenChange:a,duePayments:u.filter(N=>{if(!N.dueDate)return!1;const _=new Date(N.dueDate),C=new Date;return C.setDate(C.getDate()+1),_.toDateString()===C.toDateString()}).map(N=>({clientName:N.name,dueDate:N.dueDate||"",value:N.totalValue}))}),c.jsx(Kj,{open:s,onOpenChange:i}),c.jsx(dx,{open:o,onOpenChange:l})]})}const vD=[{value:"scheduled",label:"Agendado"},{value:"in_negotiation",label:"Em Negociao"},{value:"completed_purchase",label:"Finalizado - Comprou"},{value:"completed_no_purchase",label:"Finalizado - No Comprou"},{value:"rescheduled",label:"Reagendado"},{value:"absent",label:"Cliente Ausente"},{value:"thinking",label:"Cliente vai Pensar"}];function Um({open:n,onOpenChange:t,visit:e,mode:r="create"}){const{profile:a}=Jn(),[s,i]=V.useState((e==null?void 0:e.clientName)||""),[o,l]=V.useState(e!=null&&e.scheduledDate?new Date(e.scheduledDate):null),[u,d]=V.useState((e==null?void 0:e.status)||"scheduled"),[f,m]=V.useState((e==null?void 0:e.notes)||""),[p,y]=V.useState(e!=null&&e.followUpDate?new Date(e.followUpDate):null),[v,x]=V.useState((e==null?void 0:e.rejectionReason)||""),[w,N]=V.useState((e==null?void 0:e.maintenanceType)||""),[_,C]=V.useState((e==null?void 0:e.location)||""),A=Ri(U=>U.addVisit),B=Ri(U=>U.updateVisit),D=U=>{if(U.preventDefault(),!o||!(a!=null&&a.id))return;const L={clientName:s,vendorId:a.id,scheduledDate:o.toISOString(),status:u,notes:f,followUpDate:p==null?void 0:p.toISOString(),rejectionReason:v,maintenanceType:w,location:_};e?B(e.id,L):A(L),t(!1),E()},E=()=>{i(""),l(null),d("scheduled"),m(""),y(null),x(""),N(""),C("")};return c.jsx(en,{open:n,onOpenChange:t,children:c.jsxs(tn,{children:[c.jsx(rn,{className:"fixed inset-0 bg-black/50"}),c.jsxs(nn,{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white rounded-lg p-6 w-[90vw] max-w-[500px] max-h-[85vh] overflow-y-auto",children:[c.jsx(an,{className:"text-xl font-semibold mb-4",children:r==="create"?"Nova Visita":r==="edit"?"Editar Visita":"Detalhes da Visita"}),c.jsxs("form",{onSubmit:D,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome do Cliente"}),c.jsx("input",{type:"text",value:s,onChange:U=>i(U.target.value),className:"w-full px-3 py-2 border rounded-md",required:!0,disabled:r==="view"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data da Visita"}),c.jsx(rl,{selected:o,onChange:U=>l(U),showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,dateFormat:"dd/MM/yyyy HH:mm",className:"w-full px-3 py-2 border rounded-md",disabled:r==="view",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Status"}),c.jsx("select",{value:u,onChange:U=>d(U.target.value),className:"w-full px-3 py-2 border rounded-md",disabled:r==="view",required:!0,children:vD.map(U=>c.jsx("option",{value:U.value,children:U.label},U.value))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Localizao"}),c.jsx("input",{type:"text",value:_,onChange:U=>C(U.target.value),className:"w-full px-3 py-2 border rounded-md",placeholder:"Endereo da visita",disabled:r==="view",required:!0})]}),u==="thinking"&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data de Retorno"}),c.jsx(rl,{selected:p,onChange:U=>y(U),showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:15,dateFormat:"dd/MM/yyyy HH:mm",className:"w-full px-3 py-2 border rounded-md",disabled:r==="view"})]}),u==="completed_no_purchase"&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Motivo da No Compra"}),c.jsx("textarea",{value:v,onChange:U=>x(U.target.value),className:"w-full px-3 py-2 border rounded-md",rows:3,disabled:r==="view"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tipo de Manuteno"}),c.jsxs("select",{value:w,onChange:U=>N(U.target.value),className:"w-full px-3 py-2 border rounded-md",disabled:r==="view",children:[c.jsx("option",{value:"",children:"Selecione o tipo"}),c.jsx("option",{value:"preventive",children:"Preventiva"}),c.jsx("option",{value:"corrective",children:"Corretiva"}),c.jsx("option",{value:"installation",children:"Instalao"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Observaes"}),c.jsx("textarea",{value:f,onChange:U=>m(U.target.value),className:"w-full px-3 py-2 border rounded-md",rows:3,disabled:r==="view"})]}),r!=="view"&&c.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[c.jsx("button",{type:"button",onClick:()=>t(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-md",children:"Cancelar"}),c.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md",children:"Salvar"})]})]}),c.jsx(sn,{className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:c.jsx(Lr,{size:20})})]})]})})}const Bd=n=>({refil_30:"Troca de Refil (30 dias)",refil_90:"Troca de Refil (90 dias)",refil_120:"Troca de Refil (120 dias)",preventiva:"Manuteno Preventiva",corretiva:"Manuteno Corretiva"})[n],bD=n=>{const t=new Date,e={refil_30:30,refil_90:90,refil_120:120,preventiva:180,corretiva:90};return new Date(t.getTime()+e[n]*24*60*60*1e3).toISOString()},hx=Ya()(Ka((n,t)=>({maintenances:[],loading:!1,error:null,clearError:()=>n({error:null}),syncWithSupabase:async()=>{try{const{data:e,error:r}=await We.from("maintenances").select("*").order("created_at",{ascending:!1});if(r){console.error("Sync error:",r);return}n({maintenances:e||[]})}catch(e){console.error("Sync failed:",e)}},addMaintenance:async e=>{n({loading:!0,error:null});try{const r={client_id:e.client_id,client_name:e.client_name,client_phone:e.client_phone,product_name:e.product_name,maintenance_type:e.maintenance_type,scheduled_date:e.scheduled_date,status:e.status,notes:e.notes,vendor_id:e.vendor_id,vendor_name:e.vendor_name,next_maintenance_date:bD(e.maintenance_type)},{data:a,error:s}=await We.from("maintenances").insert([r]).select().single();if(s)throw s;n(i=>({maintenances:[a,...i.maintenances],loading:!1}))}catch(r){throw console.error("Error adding maintenance:",r),n({loading:!1,error:r instanceof Error?r.message:"Erro ao agendar manuteno"}),r}},updateMaintenance:async(e,r)=>{n({loading:!0,error:null});try{const{error:a}=await We.from("maintenances").update(r).eq("id",e);if(a)throw a;n(s=>({maintenances:s.maintenances.map(i=>i.id===e?{...i,...r}:i),loading:!1}))}catch(a){throw console.error("Error updating maintenance:",a),n({loading:!1,error:a instanceof Error?a.message:"Erro ao atualizar manuteno"}),a}},deleteMaintenance:async e=>{n({loading:!0,error:null});try{const{error:r}=await We.from("maintenances").delete().eq("id",e);if(r)throw r;n(a=>({maintenances:a.maintenances.filter(s=>s.id!==e),loading:!1}))}catch(r){throw console.error("Error deleting maintenance:",r),n({loading:!1,error:r instanceof Error?r.message:"Erro ao excluir manuteno"}),r}},getMaintenances:async()=>{n({loading:!0,error:null});try{const{data:e,error:r}=await We.from("maintenances").select("*").order("created_at",{ascending:!1});if(r)throw r;n({maintenances:e||[],loading:!1})}catch(e){console.error("Error getting maintenances:",e),n({loading:!1,error:e instanceof Error?e.message:"Erro ao carregar manutenes"})}},getMaintenancesByVendor:e=>t().maintenances.filter(r=>r.vendor_id===e),getUpcomingMaintenances:()=>{const e=new Date;return t().maintenances.filter(r=>r.status==="agendado"&&new Date(r.scheduled_date)>=e).sort((r,a)=>new Date(r.scheduled_date).getTime()-new Date(a.scheduled_date).getTime())},completeMaintenance:async(e,r)=>{n({loading:!0,error:null});try{const a=t().maintenances.find(i=>i.id===e);if(!a)throw new Error("Manuteno no encontrada");const s={status:"concluido",completed_at:new Date().toISOString(),notes:r||a.notes};await t().updateMaintenance(e,s)}catch(a){throw console.error("Error completing maintenance:",a),n({loading:!1,error:a instanceof Error?a.message:"Erro ao concluir manuteno"}),a}}}),{name:"maintenance-storage",partialize:n=>({maintenances:n.maintenances}),onRehydrateStorage:()=>n=>{n&&n.syncWithSupabase()}}));function fx({open:n,onOpenChange:t,maintenance:e,clientId:r}){const{profile:a}=Jn(),[s,i]=V.useState(r||(e==null?void 0:e.client_id)||""),[o,l]=V.useState((e==null?void 0:e.product_name)||""),[u,d]=V.useState((e==null?void 0:e.maintenance_type)||"refil_30"),[f,m]=V.useState(e!=null&&e.scheduled_date?new Date(e.scheduled_date):new Date),[p,y]=V.useState((e==null?void 0:e.notes)||""),[v,x]=V.useState((e==null?void 0:e.status)||"agendado"),w=Hn(L=>L.clients),N=ri(L=>L.products),{addMaintenance:_,updateMaintenance:C}=hx(),A=w.find(L=>L.id===s),B=[{value:"refil_30",label:"Refil 30 dias",description:"Troca de refil com validade de 30 dias"},{value:"refil_90",label:"Refil 90 dias",description:"Troca de refil com validade de 90 dias"},{value:"refil_120",label:"Refil 120 dias",description:"Troca de refil com validade de 120 dias"},{value:"preventiva",label:"Manuteno Preventiva",description:"Verificao geral do equipamento"},{value:"corretiva",label:"Manuteno Corretiva",description:"Reparo de problemas identificados"}],D=async L=>{if(L.preventDefault(),!s||!o||!(a!=null&&a.id)){alert("Por favor, preencha todos os campos obrigatrios");return}const k=w.find(F=>F.id===s);if(!k){alert("Cliente no encontrado");return}const P={client_id:s,client_name:k.name,client_phone:k.phone,product_name:o,maintenance_type:u,scheduled_date:f.toISOString(),status:v,notes:p,vendor_id:a.id,vendor_name:a.full_name};try{e?await C(e.id,P):await _(P),t(!1),E()}catch(F){console.error("Error saving maintenance:",F),alert("Erro ao salvar agendamento de manuteno")}},E=()=>{i(r||""),l(""),d("refil_30"),m(new Date),y(""),x("agendado")},U=()=>{if(!(A!=null&&A.phone)){alert("Cliente no possui telefone cadastrado");return}const L=`Ol ${A.name}! 

 *Agendamento de Manuteno - HidroMineral*

Estamos entrando em contato para agendar a manuteno do seu equipamento:

 *Tipo:* ${Bd(u)}
 *Data Agendada:* ${f.toLocaleDateString("pt-BR")} s ${f.toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}
 *Produto:* ${o}

${p?` *Observaes:* ${p}`:""}

Por favor, confirme se a data e horrio esto adequados para voc.

Atenciosamente,
Equipe HidroMineral `,k=encodeURIComponent(L),P=A.phone.replace(/\D/g,""),I=`https://wa.me/${P.startsWith("55")?P:`55${P}`}?text=${k}`;window.open(I,"_blank")};return c.jsx(en,{open:n,onOpenChange:t,children:c.jsxs(tn,{children:[c.jsx(rn,{className:"fixed inset-0 bg-black/50"}),c.jsxs(nn,{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white rounded-lg p-4 md:p-6 w-[95vw] max-w-[600px] max-h-[85vh] overflow-y-auto",children:[c.jsxs(an,{className:"text-xl font-semibold mb-4 flex items-center",children:[" ",e?"Editar Manuteno":"Agendar Manuteno"]}),c.jsxs("form",{onSubmit:D,className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Cliente *"}),c.jsxs("select",{value:s,onChange:L=>i(L.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[c.jsx("option",{value:"",children:"Selecione um cliente"}),w.map(L=>c.jsxs("option",{value:L.id,children:[L.name," ",L.phone?`- ${L.phone}`:""]},L.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Produto/Equipamento *"}),c.jsxs("select",{value:o,onChange:L=>l(L.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[c.jsx("option",{value:"",children:"Selecione um produto"}),N.map(L=>c.jsx("option",{value:L.name,children:L.name},L.id))]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tipo de Manuteno *"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:B.map(L=>c.jsxs("label",{className:`flex items-start p-3 border rounded-lg cursor-pointer transition-colors ${u===L.value?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[c.jsx("input",{type:"radio",name:"maintenanceType",value:L.value,checked:u===L.value,onChange:k=>d(k.target.value),className:"mt-1 mr-3"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-sm",children:L.label}),c.jsx("div",{className:"text-xs text-gray-500",children:L.description})]})]},L.value))})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data e Hora *"}),c.jsx(rl,{selected:f,onChange:L=>m(L||new Date),showTimeSelect:!0,timeFormat:"HH:mm",timeIntervals:30,dateFormat:"dd/MM/yyyy HH:mm",className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",minDate:new Date,required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Status"}),c.jsxs("select",{value:v,onChange:L=>x(L.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[c.jsx("option",{value:"agendado",children:"Agendado"}),c.jsx("option",{value:"em_andamento",children:"Em Andamento"}),c.jsx("option",{value:"concluido",children:"Concludo"}),c.jsx("option",{value:"cancelado",children:"Cancelado"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Observaes"}),c.jsx("textarea",{value:p,onChange:L=>y(L.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:3,placeholder:"Detalhes sobre a manuteno, problemas identificados, etc..."})]}),(A==null?void 0:A.phone)&&c.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-3",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-green-800",children:"Contato Direto"}),c.jsxs("p",{className:"text-sm text-green-600",children:["Envie uma mensagem diretamente para ",A.name]})]}),c.jsxs("button",{type:"button",onClick:U,className:"flex items-center justify-center px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors w-full md:w-auto",children:[c.jsx(xm,{className:"h-4 w-4 mr-2"}),"WhatsApp"]})]})}),c.jsxs("div",{className:"flex flex-col md:flex-row justify-end gap-2 mt-6",children:[c.jsx("button",{type:"button",onClick:()=>t(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-md transition-colors w-full md:w-auto",children:"Cancelar"}),c.jsxs("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md transition-colors w-full md:w-auto",children:[e?"Atualizar":"Agendar"," Manuteno"]})]})]}),c.jsx(sn,{className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:c.jsx(Lr,{size:20})})]})]})})}function yD(n,t){if(pt(n)!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var r=e.call(n,t||"default");if(pt(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function px(n){var t=yD(n,"string");return pt(t)=="symbol"?t:t+""}function pa(n,t,e){return(t=px(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function E1(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),e.push.apply(e,r)}return e}function Me(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?E1(Object(e),!0).forEach(function(r){pa(n,r,e[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):E1(Object(e)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))})}return n}function zh(n,t){if(n==null)return{};var e={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(t.indexOf(r)!==-1)continue;e[r]=n[r]}return e}function gr(n,t){if(n==null)return{};var e,r,a=zh(n,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)e=s[r],t.indexOf(e)===-1&&{}.propertyIsEnumerable.call(n,e)&&(a[e]=n[e])}return a}function dr(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function P1(n,t){for(var e=0;e<t.length;e++){var r=t[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,px(r.key),r)}}function hr(n,t,e){return t&&P1(n.prototype,t),e&&P1(n,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function al(n){return al=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},al(n)}function Tg(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Tg=function(){return!!n})()}function xD(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function mx(n,t){if(t&&(pt(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xD(n)}function Yr(n,t,e){return t=al(t),mx(n,Tg()?Reflect.construct(t,e||[],al(n).constructor):t.apply(n,e))}function dh(n,t){return dh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e},dh(n,t)}function Tr(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&dh(n,t)}function gx(n){if(Array.isArray(n))return n}function wD(n,t){var e=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(e!=null){var r,a,s,i,o=[],l=!0,u=!1;try{if(s=(e=e.call(n)).next,t===0){if(Object(e)!==e)return;l=!1}else for(;!(l=(r=s.call(e)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(d){u=!0,a=d}finally{try{if(!l&&e.return!=null&&(i=e.return(),Object(i)!==i))return}finally{if(u)throw a}}return o}}function Vm(n,t){(t==null||t>n.length)&&(t=n.length);for(var e=0,r=Array(t);e<t;e++)r[e]=n[e];return r}function Mg(n,t){if(n){if(typeof n=="string")return Vm(n,t);var e={}.toString.call(n).slice(8,-1);return e==="Object"&&n.constructor&&(e=n.constructor.name),e==="Map"||e==="Set"?Array.from(n):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?Vm(n,t):void 0}}function vx(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wr(n,t){return gx(n)||wD(n,t)||Mg(n,t)||vx()}function bx(n){var t,e,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n))for(t=0;t<n.length;t++)n[t]&&(e=bx(n[t]))&&(r&&(r+=" "),r+=e);else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Qt(){for(var n,t,e=0,r="";e<arguments.length;)(n=arguments[e++])&&(t=bx(n))&&(r&&(r+=" "),r+=t);return r}function Ve(){return Ve=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)({}).hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},Ve.apply(null,arguments)}var SD=function(n,t,e,r,a,s,i,o){if(!n){var l;if(t===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[e,r,a,s,i,o],d=0;l=new Error(t.replace(/%s/g,function(){return u[d++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},ND=SD;const Mc=Kn(ND);var _D=function(){};function jD(n,t){var e={};return Object.keys(n).forEach(function(r){e[qd(r)]=_D}),e}function A1(n,t){return n[t]!==void 0}function qd(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function kD(n){return!!n&&(typeof n!="function"||n.prototype&&n.prototype.isReactComponent)}function CD(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n,dh(n,t)}function yx(){var n=this.constructor.getDerivedStateFromProps(this.props,this.state);n!=null&&this.setState(n)}function xx(n){function t(e){var r=this.constructor.getDerivedStateFromProps(n,e);return r??null}this.setState(t.bind(this))}function wx(n,t){try{var e=this.props,r=this.state;this.props=n,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(e,r)}finally{this.props=e,this.state=r}}yx.__suppressDeprecationWarning=!0;xx.__suppressDeprecationWarning=!0;wx.__suppressDeprecationWarning=!0;function DD(n){var t=n.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof n.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return n;var e=null,r=null,a=null;if(typeof t.componentWillMount=="function"?e="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(e="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?a="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(a="UNSAFE_componentWillUpdate"),e!==null||r!==null||a!==null){var s=n.displayName||n.name,i=typeof n.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+s+" uses "+i+" but also contains the following legacy lifecycles:"+(e!==null?`
  `+e:"")+(r!==null?`
  `+r:"")+(a!==null?`
  `+a:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof n.getDerivedStateFromProps=="function"&&(t.componentWillMount=yx,t.componentWillReceiveProps=xx),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=wx;var o=t.componentDidUpdate;t.componentDidUpdate=function(u,d,f){var m=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:f;o.call(this,u,d,m)}}return n}var ED="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function Sx(n,t,e){e===void 0&&(e=[]);var r=n.displayName||n.name||"Component",a=kD(n),s=Object.keys(t),i=s.map(qd);a||!e.length||Mc(!1);var o=function(u){CD(d,u);function d(){for(var m,p=arguments.length,y=new Array(p),v=0;v<p;v++)y[v]=arguments[v];m=u.call.apply(u,[this].concat(y))||this,m.handlers=Object.create(null),s.forEach(function(w){var N=t[w],_=function(A){if(m.props[N]){var B;m._notifying=!0;for(var D=arguments.length,E=new Array(D>1?D-1:0),U=1;U<D;U++)E[U-1]=arguments[U];(B=m.props)[N].apply(B,[A].concat(E)),m._notifying=!1}m.unmounted||m.setState(function(L){var k,P=L.values;return{values:Ve(Object.create(null),P,(k={},k[w]=A,k))}})};m.handlers[N]=_}),e.length&&(m.attachRef=function(w){m.inner=w});var x=Object.create(null);return s.forEach(function(w){x[w]=m.props[qd(w)]}),m.state={values:x,prevProps:{}},m}var f=d.prototype;return f.shouldComponentUpdate=function(){return!this._notifying},d.getDerivedStateFromProps=function(p,y){var v=y.values,x=y.prevProps,w={values:Ve(Object.create(null),v),prevProps:{}};return s.forEach(function(N){w.prevProps[N]=p[N],!A1(p,N)&&A1(x,N)&&(w.values[N]=p[qd(N)])}),w},f.componentWillUnmount=function(){this.unmounted=!0},f.render=function(){var p=this,y=this.props,v=y.innerRef,x=zh(y,["innerRef"]);i.forEach(function(N){delete x[N]});var w={};return s.forEach(function(N){var _=p.props[N];w[N]=_!==void 0?_:p.state.values[N]}),H.createElement(n,Ve({},x,w,this.handlers,{ref:v||this.attachRef}))},d}(H.Component);DD(o),o.displayName="Uncontrolled("+r+")",o.propTypes=Ve({innerRef:function(){}},jD(t)),e.forEach(function(u){o.prototype[u]=function(){var f;return(f=this.inner)[u].apply(f,arguments)}});var l=o;return H.forwardRef&&(l=H.forwardRef(function(u,d){return H.createElement(o,Ve({},u,{innerRef:d,__source:{fileName:ED,lineNumber:128},__self:this}))}),l.propTypes=o.propTypes),l.ControlledComponent=n,l.deferControlTo=function(u,d,f){return d===void 0&&(d={}),Sx(u,Ve({},t,d),f)},l}var hh="milliseconds",Ic="seconds",Rc="minutes",$c="hours",Fi="day",sl="week",Fc="month",Bi="year",qi="decade",Ui="century",Nx={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},PD={month:1,year:12,decade:10*12,century:100*12};function AD(n){return[31,LD(n),31,30,31,30,31,31,30,31,30,31]}function LD(n){return n%4===0&&n%100!==0||n%400===0?29:28}function va(n,t,e){switch(n=new Date(n),e){case hh:case Ic:case Rc:case $c:case Fi:case sl:return OD(n,t*Nx[e]);case Fc:case Bi:case qi:case Ui:return TD(n,t*PD[e])}throw new TypeError('Invalid units: "'+e+'"')}function OD(n,t){var e=new Date(+n+t);return MD(n,e)}function TD(n,t){var e=n.getFullYear(),r=n.getMonth(),a=n.getDate(),s=e*12+r+t,i=Math.trunc(s/12),o=s%12,l=Math.min(a,AD(i)[o]),u=new Date(n);return u.setFullYear(i),u.setDate(1),u.setMonth(o),u.setDate(l),u}function MD(n,t){var e=n.getTimezoneOffset(),r=t.getTimezoneOffset(),a=r-e;return new Date(+t+a*Nx.minutes)}function Bc(n,t,e){return va(n,-t,e)}function Or(n,t,e){switch(n=new Date(n),t){case Ui:case qi:case Bi:n=ph(n,0);case Fc:n=Dx(n,1);case sl:case Fi:n=Vc(n,0);case $c:n=il(n,0);case Rc:n=Uc(n,0);case Ic:n=qc(n,0)}return t===qi&&(n=Bc(n,Vi(n)%10,"year")),t===Ui&&(n=Bc(n,Vi(n)%100,"year")),t===sl&&(n=Ex(n,0,e)),n}function fh(n,t,e){switch(n=new Date(n),n=Or(n,t,e),t){case Ui:case qi:case Bi:case Fc:case sl:n=va(n,1,t),n=Bc(n,1,Fi),n.setHours(23,59,59,999);break;case Fi:n.setHours(23,59,59,999);break;case $c:case Rc:case Ic:n=va(n,1,t),n=Bc(n,1,hh)}return n}var ml=vl(function(n,t){return n===t}),Ig=vl(function(n,t){return n!==t}),Hh=vl(function(n,t){return n>t}),au=vl(function(n,t){return n>=t}),Rg=vl(function(n,t){return n<t}),gl=vl(function(n,t){return n<=t});function _x(){return new Date(Math.min.apply(Math,arguments))}function jx(){return new Date(Math.max.apply(Math,arguments))}function kx(n,t,e,r){return r=r||"day",(!t||au(n,t,r))&&(!e||gl(n,e,r))}var qc=ni("Milliseconds"),Uc=ni("Seconds"),il=ni("Minutes"),Vc=ni("Hours"),Cx=ni("Day"),Dx=ni("Date"),ph=ni("Month"),Vi=ni("FullYear");function ID(n,t){return t===void 0?Vi(Or(n,qi)):va(n,t+10,Bi)}function RD(n,t){return t===void 0?Vi(Or(n,Ui)):va(n,t+100,Bi)}function Ex(n,t,e){var r=(Cx(n)+7-(e||0))%7;return t===void 0?r:va(n,t-r,Fi)}function $D(n,t,e,r){var a,s,i;switch(e){case hh:case Ic:case Rc:case $c:case Fi:case sl:a=t.getTime()-n.getTime();break;case Fc:case Bi:case qi:case Ui:a=(Vi(t)-Vi(n))*12+ph(t)-ph(n);break;default:throw new TypeError('Invalid units: "'+e+'"')}switch(e){case hh:s=1;break;case Ic:s=1e3;break;case Rc:s=1e3*60;break;case $c:s=1e3*60*60;break;case Fi:s=1e3*60*60*24;break;case sl:s=1e3*60*60*24*7;break;case Fc:s=1;break;case Bi:s=12;break;case qi:s=120;break;case Ui:s=1200;break;default:throw new TypeError('Invalid units: "'+e+'"')}return i=a/s,r?i:Math.round(i)}function ni(n){var t=function(e){switch(e){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(n);return function(e,r){if(r===void 0)return e["get"+n]();var a=new Date(e);return a["set"+n](r),t&&a["get"+n]()!=r&&(n==="Hours"||r>=t&&a.getHours()-e.getHours()<Math.floor(r/t))&&a["set"+n](r+t),a}}function vl(n){return function(t,e,r){return n(+Or(t,r),+Or(e,r))}}const L1=Object.freeze(Object.defineProperty({__proto__:null,add:va,century:RD,date:Dx,day:Cx,decade:ID,diff:$D,endOf:fh,eq:ml,gt:Hh,gte:au,hours:Vc,inRange:kx,lt:Rg,lte:gl,max:jx,milliseconds:qc,min:_x,minutes:il,month:ph,neq:Ig,seconds:Uc,startOf:Or,subtract:Bc,weekday:Ex,year:Vi},Symbol.toStringTag,{value:"Module"}));function FD(n){if(Array.isArray(n))return Vm(n)}function Px(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function BD(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ai(n){return FD(n)||Px(n)||Mg(n)||BD()}function qD(n,t,e){var r=-1,a=n.length;t<0&&(t=-t>a?0:a+t),e=e>a?a:e,e<0&&(e+=a),a=t>e?0:e-t>>>0,t>>>=0;for(var s=Array(a);++r<a;)s[r]=n[r+t];return s}var Ax=qD;function UD(n,t){return n===t||n!==n&&t!==t}var su=UD,VD=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,Lx=VD,zD=Lx,HD=typeof self=="object"&&self&&self.Object===Object&&self,WD=zD||HD||Function("return this")(),Qa=WD,YD=Qa,GD=YD.Symbol,bl=GD,O1=bl,Ox=Object.prototype,KD=Ox.hasOwnProperty,JD=Ox.toString,lc=O1?O1.toStringTag:void 0;function XD(n){var t=KD.call(n,lc),e=n[lc];try{n[lc]=void 0;var r=!0}catch{}var a=JD.call(n);return r&&(t?n[lc]=e:delete n[lc]),a}var QD=XD,ZD=Object.prototype,eE=ZD.toString;function tE(n){return eE.call(n)}var rE=tE,T1=bl,nE=QD,aE=rE,sE="[object Null]",iE="[object Undefined]",M1=T1?T1.toStringTag:void 0;function oE(n){return n==null?n===void 0?iE:sE:M1&&M1 in Object(n)?nE(n):aE(n)}var yl=oE;function lE(n){var t=typeof n;return n!=null&&(t=="object"||t=="function")}var bs=lE,cE=yl,uE=bs,dE="[object AsyncFunction]",hE="[object Function]",fE="[object GeneratorFunction]",pE="[object Proxy]";function mE(n){if(!uE(n))return!1;var t=cE(n);return t==hE||t==fE||t==dE||t==pE}var $g=mE,gE=9007199254740991;function vE(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=gE}var Fg=vE,bE=$g,yE=Fg;function xE(n){return n!=null&&yE(n.length)&&!bE(n)}var iu=xE,wE=9007199254740991,SE=/^(?:0|[1-9]\d*)$/;function NE(n,t){var e=typeof n;return t=t??wE,!!t&&(e=="number"||e!="symbol"&&SE.test(n))&&n>-1&&n%1==0&&n<t}var Bg=NE,_E=su,jE=iu,kE=Bg,CE=bs;function DE(n,t,e){if(!CE(e))return!1;var r=typeof t;return(r=="number"?jE(e)&&kE(t,e.length):r=="string"&&t in e)?_E(e[t],n):!1}var Wh=DE,EE=/\s/;function PE(n){for(var t=n.length;t--&&EE.test(n.charAt(t)););return t}var AE=PE,LE=AE,OE=/^\s+/;function TE(n){return n&&n.slice(0,LE(n)+1).replace(OE,"")}var ME=TE;function IE(n){return n!=null&&typeof n=="object"}var ai=IE,RE=yl,$E=ai,FE="[object Symbol]";function BE(n){return typeof n=="symbol"||$E(n)&&RE(n)==FE}var ou=BE,qE=ME,I1=bs,UE=ou,R1=NaN,VE=/^[-+]0x[0-9a-f]+$/i,zE=/^0b[01]+$/i,HE=/^0o[0-7]+$/i,WE=parseInt;function YE(n){if(typeof n=="number")return n;if(UE(n))return R1;if(I1(n)){var t=typeof n.valueOf=="function"?n.valueOf():n;n=I1(t)?t+"":t}if(typeof n!="string")return n===0?n:+n;n=qE(n);var e=zE.test(n);return e||HE.test(n)?WE(n.slice(2),e?2:8):VE.test(n)?R1:+n}var GE=YE,KE=GE,$1=1/0,JE=17976931348623157e292;function XE(n){if(!n)return n===0?n:0;if(n=KE(n),n===$1||n===-$1){var t=n<0?-1:1;return t*JE}return n===n?n:0}var Tx=XE,QE=Tx;function ZE(n){var t=QE(n),e=t%1;return t===t?e?t-e:t:0}var Mx=ZE,eP=Ax,tP=Wh,rP=Mx,nP=Math.ceil,aP=Math.max;function sP(n,t,e){(e?tP(n,t,e):t===void 0)?t=1:t=aP(rP(t),0);var r=n==null?0:n.length;if(!r||t<1)return[];for(var a=0,s=0,i=Array(nP(r/t));a<r;)i[s++]=eP(n,a,a+=t);return i}var iP=sP;const oP=Kn(iP);function lu(n){return n&&n.ownerDocument||document}function lP(n){var t=lu(n);return t&&t.defaultView||window}function cP(n,t){return lP(n).getComputedStyle(n,t)}var uP=/([A-Z])/g;function dP(n){return n.replace(uP,"-$1").toLowerCase()}var hP=/^ms-/;function xd(n){return dP(n).replace(hP,"-ms-")}var fP=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function pP(n){return!!(n&&fP.test(n))}function Io(n,t){var e="",r="";if(typeof t=="string")return n.style.getPropertyValue(xd(t))||cP(n).getPropertyValue(xd(t));Object.keys(t).forEach(function(a){var s=t[a];!s&&s!==0?n.style.removeProperty(xd(a)):pP(a)?r+=a+"("+s+") ":e+=xd(a)+": "+s+";"}),r&&(e+="transform: "+r+";"),n.style.cssText+=";"+e}function zc(n,t){if(n.contains)return n.contains(t);if(n.compareDocumentPosition)return n===t||!!(n.compareDocumentPosition(t)&16)}function mP(n){return"nodeType"in n&&n.nodeType===document.DOCUMENT_NODE}function qg(n){return"window"in n&&n.window===n?n:mP(n)&&n.defaultView||!1}function Ix(n){var t=n==="pageXOffset"?"scrollLeft":"scrollTop";function e(r,a){var s=qg(r);if(a===void 0)return s?s[n]:r[t];s?s.scrollTo(s[n],a):r[t]=a}return e}const Rx=Ix("pageXOffset"),$x=Ix("pageYOffset");function Li(n){var t=lu(n),e={top:0,left:0,height:0,width:0},r=t&&t.documentElement;return!r||!zc(r,n)||(n.getBoundingClientRect!==void 0&&(e=n.getBoundingClientRect()),e={top:e.top+$x(r)-(r.clientTop||0),left:e.left+Rx(r)-(r.clientLeft||0),width:e.width,height:e.height}),e}var gP=function(t){return!!t&&"offsetParent"in t};function vP(n){for(var t=lu(n),e=n&&n.offsetParent;gP(e)&&e.nodeName!=="HTML"&&Io(e,"position")==="static";)e=e.offsetParent;return e||t.documentElement}var bP=function(t){return t.nodeName&&t.nodeName.toLowerCase()};function Fx(n,t){var e={top:0,left:0},r;if(Io(n,"position")==="fixed")r=n.getBoundingClientRect();else{var a=t||vP(n);r=Li(n),bP(a)!=="html"&&(e=Li(a));var s=String(Io(a,"borderTopWidth")||0);e.top+=parseInt(s,10)-$x(a)||0;var i=String(Io(a,"borderLeftWidth")||0);e.left+=parseInt(i,10)-Rx(a)||0}var o=String(Io(n,"marginTop")||0),l=String(Io(n,"marginLeft")||0);return Ve({},r,{top:r.top-e.top-(parseInt(o,10)||0),left:r.left-e.left-(parseInt(l,10)||0)})}const Ug=!!(typeof window<"u"&&window.document&&window.document.createElement);var F1=new Date().getTime();function yP(n){var t=new Date().getTime(),e=Math.max(0,16-(t-F1)),r=setTimeout(n,e);return F1=t,r}var xP=["","webkit","moz","o","ms"],zm="clearTimeout",Hm=yP,B1=function(t,e){return t+(t?e[0].toUpperCase()+e.substr(1):e)+"AnimationFrame"};Ug&&xP.some(function(n){var t=B1(n,"request");return t in window&&(zm=B1(n,"cancel"),Hm=function(r){return window[t](r)}),!!Hm});var q1=function(t){typeof window[zm]=="function"&&window[zm](t)},Bx=Hm,qp;function wP(n,t){if(!qp){var e=document.body,r=e.matches||e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;qp=function(s,i){return r.call(s,i)}}return qp(n,t)}var SP=Function.prototype.bind.call(Function.prototype.call,[].slice);function NP(n,t){return SP(n.querySelectorAll(t))}var Wm=!1,Ym=!1;try{var Up={get passive(){return Wm=!0},get once(){return Ym=Wm=!0}};Ug&&(window.addEventListener("test",Up,Up),window.removeEventListener("test",Up,!0))}catch{}function _P(n,t,e,r){if(r&&typeof r!="boolean"&&!Ym){var a=r.once,s=r.capture,i=e;!Ym&&a&&(i=e.__once||function o(l){this.removeEventListener(t,o,s),e.call(this,l)},e.__once=i),n.addEventListener(t,i,Wm?r:s)}n.addEventListener(t,e,r)}function jP(n){const t=V.useRef(n);return V.useEffect(()=>{t.current=n},[n]),t}function U1(n){const t=jP(n);return V.useCallback(function(...e){return t.current&&t.current(...e)},[t])}function V1(){return V.useState(null)}function kP(){const n=V.useRef(!0),t=V.useRef(()=>n.current);return V.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),t.current}function CP(n){const t=kP();return[n[0],V.useCallback(e=>{if(t())return n[1](e)},[t,n[1]])]}var vn="top",Yn="bottom",Gn="right",bn="left",Vg="auto",cu=[vn,Yn,Gn,bn],ol="start",Hc="end",DP="clippingParents",qx="viewport",cc="popper",EP="reference",z1=cu.reduce(function(n,t){return n.concat([t+"-"+ol,t+"-"+Hc])},[]),zg=[].concat(cu,[Vg]).reduce(function(n,t){return n.concat([t,t+"-"+ol,t+"-"+Hc])},[]),PP="beforeRead",AP="read",LP="afterRead",OP="beforeMain",TP="main",MP="afterMain",IP="beforeWrite",RP="write",$P="afterWrite",FP=[PP,AP,LP,OP,TP,MP,IP,RP,$P];function Va(n){return n.split("-")[0]}function Tn(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var t=n.ownerDocument;return t&&t.defaultView||window}return n}function zi(n){var t=Tn(n).Element;return n instanceof t||n instanceof Element}function za(n){var t=Tn(n).HTMLElement;return n instanceof t||n instanceof HTMLElement}function Hg(n){if(typeof ShadowRoot>"u")return!1;var t=Tn(n).ShadowRoot;return n instanceof t||n instanceof ShadowRoot}var Oi=Math.max,mh=Math.min,ll=Math.round;function Gm(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Ux(){return!/^((?!chrome|android).)*safari/i.test(Gm())}function cl(n,t,e){t===void 0&&(t=!1),e===void 0&&(e=!1);var r=n.getBoundingClientRect(),a=1,s=1;t&&za(n)&&(a=n.offsetWidth>0&&ll(r.width)/n.offsetWidth||1,s=n.offsetHeight>0&&ll(r.height)/n.offsetHeight||1);var i=zi(n)?Tn(n):window,o=i.visualViewport,l=!Ux()&&e,u=(r.left+(l&&o?o.offsetLeft:0))/a,d=(r.top+(l&&o?o.offsetTop:0))/s,f=r.width/a,m=r.height/s;return{width:f,height:m,top:d,right:u+f,bottom:d+m,left:u,x:u,y:d}}function Wg(n){var t=cl(n),e=n.offsetWidth,r=n.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:n.offsetLeft,y:n.offsetTop,width:e,height:r}}function Vx(n,t){var e=t.getRootNode&&t.getRootNode();if(n.contains(t))return!0;if(e&&Hg(e)){var r=t;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Zs(n){return n?(n.nodeName||"").toLowerCase():null}function vs(n){return Tn(n).getComputedStyle(n)}function BP(n){return["table","td","th"].indexOf(Zs(n))>=0}function si(n){return((zi(n)?n.ownerDocument:n.document)||window.document).documentElement}function Yh(n){return Zs(n)==="html"?n:n.assignedSlot||n.parentNode||(Hg(n)?n.host:null)||si(n)}function H1(n){return!za(n)||vs(n).position==="fixed"?null:n.offsetParent}function qP(n){var t=/firefox/i.test(Gm()),e=/Trident/i.test(Gm());if(e&&za(n)){var r=vs(n);if(r.position==="fixed")return null}var a=Yh(n);for(Hg(a)&&(a=a.host);za(a)&&["html","body"].indexOf(Zs(a))<0;){var s=vs(a);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||t&&s.willChange==="filter"||t&&s.filter&&s.filter!=="none")return a;a=a.parentNode}return null}function uu(n){for(var t=Tn(n),e=H1(n);e&&BP(e)&&vs(e).position==="static";)e=H1(e);return e&&(Zs(e)==="html"||Zs(e)==="body"&&vs(e).position==="static")?t:e||qP(n)||t}function Yg(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function _c(n,t,e){return Oi(n,mh(t,e))}function UP(n,t,e){var r=_c(n,t,e);return r>e?e:r}function zx(){return{top:0,right:0,bottom:0,left:0}}function Hx(n){return Object.assign({},zx(),n)}function Wx(n,t){return t.reduce(function(e,r){return e[r]=n,e},{})}var VP=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,Hx(typeof t!="number"?t:Wx(t,cu))};function zP(n){var t,e=n.state,r=n.name,a=n.options,s=e.elements.arrow,i=e.modifiersData.popperOffsets,o=Va(e.placement),l=Yg(o),u=[bn,Gn].indexOf(o)>=0,d=u?"height":"width";if(!(!s||!i)){var f=VP(a.padding,e),m=Wg(s),p=l==="y"?vn:bn,y=l==="y"?Yn:Gn,v=e.rects.reference[d]+e.rects.reference[l]-i[l]-e.rects.popper[d],x=i[l]-e.rects.reference[l],w=uu(s),N=w?l==="y"?w.clientHeight||0:w.clientWidth||0:0,_=v/2-x/2,C=f[p],A=N-m[d]-f[y],B=N/2-m[d]/2+_,D=_c(C,B,A),E=l;e.modifiersData[r]=(t={},t[E]=D,t.centerOffset=D-B,t)}}function HP(n){var t=n.state,e=n.options,r=e.element,a=r===void 0?"[data-popper-arrow]":r;a!=null&&(typeof a=="string"&&(a=t.elements.popper.querySelector(a),!a)||Vx(t.elements.popper,a)&&(t.elements.arrow=a))}const WP={name:"arrow",enabled:!0,phase:"main",fn:zP,effect:HP,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ul(n){return n.split("-")[1]}var YP={top:"auto",right:"auto",bottom:"auto",left:"auto"};function GP(n,t){var e=n.x,r=n.y,a=t.devicePixelRatio||1;return{x:ll(e*a)/a||0,y:ll(r*a)/a||0}}function W1(n){var t,e=n.popper,r=n.popperRect,a=n.placement,s=n.variation,i=n.offsets,o=n.position,l=n.gpuAcceleration,u=n.adaptive,d=n.roundOffsets,f=n.isFixed,m=i.x,p=m===void 0?0:m,y=i.y,v=y===void 0?0:y,x=typeof d=="function"?d({x:p,y:v}):{x:p,y:v};p=x.x,v=x.y;var w=i.hasOwnProperty("x"),N=i.hasOwnProperty("y"),_=bn,C=vn,A=window;if(u){var B=uu(e),D="clientHeight",E="clientWidth";if(B===Tn(e)&&(B=si(e),vs(B).position!=="static"&&o==="absolute"&&(D="scrollHeight",E="scrollWidth")),B=B,a===vn||(a===bn||a===Gn)&&s===Hc){C=Yn;var U=f&&B===A&&A.visualViewport?A.visualViewport.height:B[D];v-=U-r.height,v*=l?1:-1}if(a===bn||(a===vn||a===Yn)&&s===Hc){_=Gn;var L=f&&B===A&&A.visualViewport?A.visualViewport.width:B[E];p-=L-r.width,p*=l?1:-1}}var k=Object.assign({position:o},u&&YP),P=d===!0?GP({x:p,y:v},Tn(e)):{x:p,y:v};if(p=P.x,v=P.y,l){var F;return Object.assign({},k,(F={},F[C]=N?"0":"",F[_]=w?"0":"",F.transform=(A.devicePixelRatio||1)<=1?"translate("+p+"px, "+v+"px)":"translate3d("+p+"px, "+v+"px, 0)",F))}return Object.assign({},k,(t={},t[C]=N?v+"px":"",t[_]=w?p+"px":"",t.transform="",t))}function KP(n){var t=n.state,e=n.options,r=e.gpuAcceleration,a=r===void 0?!0:r,s=e.adaptive,i=s===void 0?!0:s,o=e.roundOffsets,l=o===void 0?!0:o,u={placement:Va(t.placement),variation:ul(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,W1(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,W1(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const JP={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:KP,data:{}};var wd={passive:!0};function XP(n){var t=n.state,e=n.instance,r=n.options,a=r.scroll,s=a===void 0?!0:a,i=r.resize,o=i===void 0?!0:i,l=Tn(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return s&&u.forEach(function(d){d.addEventListener("scroll",e.update,wd)}),o&&l.addEventListener("resize",e.update,wd),function(){s&&u.forEach(function(d){d.removeEventListener("scroll",e.update,wd)}),o&&l.removeEventListener("resize",e.update,wd)}}const QP={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:XP,data:{}};var ZP={left:"right",right:"left",bottom:"top",top:"bottom"};function Ud(n){return n.replace(/left|right|bottom|top/g,function(t){return ZP[t]})}var eA={start:"end",end:"start"};function Y1(n){return n.replace(/start|end/g,function(t){return eA[t]})}function Gg(n){var t=Tn(n),e=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:e,scrollTop:r}}function Kg(n){return cl(si(n)).left+Gg(n).scrollLeft}function tA(n,t){var e=Tn(n),r=si(n),a=e.visualViewport,s=r.clientWidth,i=r.clientHeight,o=0,l=0;if(a){s=a.width,i=a.height;var u=Ux();(u||!u&&t==="fixed")&&(o=a.offsetLeft,l=a.offsetTop)}return{width:s,height:i,x:o+Kg(n),y:l}}function rA(n){var t,e=si(n),r=Gg(n),a=(t=n.ownerDocument)==null?void 0:t.body,s=Oi(e.scrollWidth,e.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),i=Oi(e.scrollHeight,e.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),o=-r.scrollLeft+Kg(n),l=-r.scrollTop;return vs(a||e).direction==="rtl"&&(o+=Oi(e.clientWidth,a?a.clientWidth:0)-s),{width:s,height:i,x:o,y:l}}function Jg(n){var t=vs(n),e=t.overflow,r=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(e+a+r)}function Yx(n){return["html","body","#document"].indexOf(Zs(n))>=0?n.ownerDocument.body:za(n)&&Jg(n)?n:Yx(Yh(n))}function jc(n,t){var e;t===void 0&&(t=[]);var r=Yx(n),a=r===((e=n.ownerDocument)==null?void 0:e.body),s=Tn(r),i=a?[s].concat(s.visualViewport||[],Jg(r)?r:[]):r,o=t.concat(i);return a?o:o.concat(jc(Yh(i)))}function Km(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function nA(n,t){var e=cl(n,!1,t==="fixed");return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}function G1(n,t,e){return t===qx?Km(tA(n,e)):zi(t)?nA(t,e):Km(rA(si(n)))}function aA(n){var t=jc(Yh(n)),e=["absolute","fixed"].indexOf(vs(n).position)>=0,r=e&&za(n)?uu(n):n;return zi(r)?t.filter(function(a){return zi(a)&&Vx(a,r)&&Zs(a)!=="body"}):[]}function sA(n,t,e,r){var a=t==="clippingParents"?aA(n):[].concat(t),s=[].concat(a,[e]),i=s[0],o=s.reduce(function(l,u){var d=G1(n,u,r);return l.top=Oi(d.top,l.top),l.right=mh(d.right,l.right),l.bottom=mh(d.bottom,l.bottom),l.left=Oi(d.left,l.left),l},G1(n,i,r));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function Gx(n){var t=n.reference,e=n.element,r=n.placement,a=r?Va(r):null,s=r?ul(r):null,i=t.x+t.width/2-e.width/2,o=t.y+t.height/2-e.height/2,l;switch(a){case vn:l={x:i,y:t.y-e.height};break;case Yn:l={x:i,y:t.y+t.height};break;case Gn:l={x:t.x+t.width,y:o};break;case bn:l={x:t.x-e.width,y:o};break;default:l={x:t.x,y:t.y}}var u=a?Yg(a):null;if(u!=null){var d=u==="y"?"height":"width";switch(s){case ol:l[u]=l[u]-(t[d]/2-e[d]/2);break;case Hc:l[u]=l[u]+(t[d]/2-e[d]/2);break}}return l}function Wc(n,t){t===void 0&&(t={});var e=t,r=e.placement,a=r===void 0?n.placement:r,s=e.strategy,i=s===void 0?n.strategy:s,o=e.boundary,l=o===void 0?DP:o,u=e.rootBoundary,d=u===void 0?qx:u,f=e.elementContext,m=f===void 0?cc:f,p=e.altBoundary,y=p===void 0?!1:p,v=e.padding,x=v===void 0?0:v,w=Hx(typeof x!="number"?x:Wx(x,cu)),N=m===cc?EP:cc,_=n.rects.popper,C=n.elements[y?N:m],A=sA(zi(C)?C:C.contextElement||si(n.elements.popper),l,d,i),B=cl(n.elements.reference),D=Gx({reference:B,element:_,strategy:"absolute",placement:a}),E=Km(Object.assign({},_,D)),U=m===cc?E:B,L={top:A.top-U.top+w.top,bottom:U.bottom-A.bottom+w.bottom,left:A.left-U.left+w.left,right:U.right-A.right+w.right},k=n.modifiersData.offset;if(m===cc&&k){var P=k[a];Object.keys(L).forEach(function(F){var I=[Gn,Yn].indexOf(F)>=0?1:-1,ee=[vn,Yn].indexOf(F)>=0?"y":"x";L[F]+=P[ee]*I})}return L}function iA(n,t){t===void 0&&(t={});var e=t,r=e.placement,a=e.boundary,s=e.rootBoundary,i=e.padding,o=e.flipVariations,l=e.allowedAutoPlacements,u=l===void 0?zg:l,d=ul(r),f=d?o?z1:z1.filter(function(y){return ul(y)===d}):cu,m=f.filter(function(y){return u.indexOf(y)>=0});m.length===0&&(m=f);var p=m.reduce(function(y,v){return y[v]=Wc(n,{placement:v,boundary:a,rootBoundary:s,padding:i})[Va(v)],y},{});return Object.keys(p).sort(function(y,v){return p[y]-p[v]})}function oA(n){if(Va(n)===Vg)return[];var t=Ud(n);return[Y1(n),t,Y1(t)]}function lA(n){var t=n.state,e=n.options,r=n.name;if(!t.modifiersData[r]._skip){for(var a=e.mainAxis,s=a===void 0?!0:a,i=e.altAxis,o=i===void 0?!0:i,l=e.fallbackPlacements,u=e.padding,d=e.boundary,f=e.rootBoundary,m=e.altBoundary,p=e.flipVariations,y=p===void 0?!0:p,v=e.allowedAutoPlacements,x=t.options.placement,w=Va(x),N=w===x,_=l||(N||!y?[Ud(x)]:oA(x)),C=[x].concat(_).reduce(function(X,K){return X.concat(Va(K)===Vg?iA(t,{placement:K,boundary:d,rootBoundary:f,padding:u,flipVariations:y,allowedAutoPlacements:v}):K)},[]),A=t.rects.reference,B=t.rects.popper,D=new Map,E=!0,U=C[0],L=0;L<C.length;L++){var k=C[L],P=Va(k),F=ul(k)===ol,I=[vn,Yn].indexOf(P)>=0,ee=I?"width":"height",re=Wc(t,{placement:k,boundary:d,rootBoundary:f,altBoundary:m,padding:u}),W=I?F?Gn:bn:F?Yn:vn;A[ee]>B[ee]&&(W=Ud(W));var Z=Ud(W),le=[];if(s&&le.push(re[P]<=0),o&&le.push(re[W]<=0,re[Z]<=0),le.every(function(X){return X})){U=k,E=!1;break}D.set(k,le)}if(E)for(var de=y?3:1,Ce=function(K){var ne=C.find(function(ue){var ae=D.get(ue);if(ae)return ae.slice(0,K).every(function(fe){return fe})});if(ne)return U=ne,"break"},M=de;M>0;M--){var Y=Ce(M);if(Y==="break")break}t.placement!==U&&(t.modifiersData[r]._skip=!0,t.placement=U,t.reset=!0)}}const cA={name:"flip",enabled:!0,phase:"main",fn:lA,requiresIfExists:["offset"],data:{_skip:!1}};function K1(n,t,e){return e===void 0&&(e={x:0,y:0}),{top:n.top-t.height-e.y,right:n.right-t.width+e.x,bottom:n.bottom-t.height+e.y,left:n.left-t.width-e.x}}function J1(n){return[vn,Gn,Yn,bn].some(function(t){return n[t]>=0})}function uA(n){var t=n.state,e=n.name,r=t.rects.reference,a=t.rects.popper,s=t.modifiersData.preventOverflow,i=Wc(t,{elementContext:"reference"}),o=Wc(t,{altBoundary:!0}),l=K1(i,r),u=K1(o,a,s),d=J1(l),f=J1(u);t.modifiersData[e]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}const dA={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:uA};function hA(n,t,e){var r=Va(n),a=[bn,vn].indexOf(r)>=0?-1:1,s=typeof e=="function"?e(Object.assign({},t,{placement:n})):e,i=s[0],o=s[1];return i=i||0,o=(o||0)*a,[bn,Gn].indexOf(r)>=0?{x:o,y:i}:{x:i,y:o}}function fA(n){var t=n.state,e=n.options,r=n.name,a=e.offset,s=a===void 0?[0,0]:a,i=zg.reduce(function(d,f){return d[f]=hA(f,t.rects,s),d},{}),o=i[t.placement],l=o.x,u=o.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=i}const pA={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:fA};function mA(n){var t=n.state,e=n.name;t.modifiersData[e]=Gx({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const gA={name:"popperOffsets",enabled:!0,phase:"read",fn:mA,data:{}};function vA(n){return n==="x"?"y":"x"}function bA(n){var t=n.state,e=n.options,r=n.name,a=e.mainAxis,s=a===void 0?!0:a,i=e.altAxis,o=i===void 0?!1:i,l=e.boundary,u=e.rootBoundary,d=e.altBoundary,f=e.padding,m=e.tether,p=m===void 0?!0:m,y=e.tetherOffset,v=y===void 0?0:y,x=Wc(t,{boundary:l,rootBoundary:u,padding:f,altBoundary:d}),w=Va(t.placement),N=ul(t.placement),_=!N,C=Yg(w),A=vA(C),B=t.modifiersData.popperOffsets,D=t.rects.reference,E=t.rects.popper,U=typeof v=="function"?v(Object.assign({},t.rects,{placement:t.placement})):v,L=typeof U=="number"?{mainAxis:U,altAxis:U}:Object.assign({mainAxis:0,altAxis:0},U),k=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,P={x:0,y:0};if(B){if(s){var F,I=C==="y"?vn:bn,ee=C==="y"?Yn:Gn,re=C==="y"?"height":"width",W=B[C],Z=W+x[I],le=W-x[ee],de=p?-E[re]/2:0,Ce=N===ol?D[re]:E[re],M=N===ol?-E[re]:-D[re],Y=t.elements.arrow,X=p&&Y?Wg(Y):{width:0,height:0},K=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:zx(),ne=K[I],ue=K[ee],ae=_c(0,D[re],X[re]),fe=_?D[re]/2-de-ae-ne-L.mainAxis:Ce-ae-ne-L.mainAxis,Ne=_?-D[re]/2+de+ae+ue+L.mainAxis:M+ae+ue+L.mainAxis,_e=t.elements.arrow&&uu(t.elements.arrow),Oe=_e?C==="y"?_e.clientTop||0:_e.clientLeft||0:0,Pe=(F=k==null?void 0:k[C])!=null?F:0,De=W+fe-Pe-Oe,ve=W+Ne-Pe,te=_c(p?mh(Z,De):Z,W,p?Oi(le,ve):le);B[C]=te,P[C]=te-W}if(o){var He,Fe=C==="x"?vn:bn,Ee=C==="x"?Yn:Gn,Ae=B[A],Re=A==="y"?"height":"width",Ie=Ae+x[Fe],Ye=Ae-x[Ee],et=[vn,bn].indexOf(w)!==-1,at=(He=k==null?void 0:k[A])!=null?He:0,ut=et?Ie:Ae-D[Re]-E[Re]-at+L.altAxis,mt=et?Ae+D[Re]+E[Re]-at-L.altAxis:Ye,St=p&&et?UP(ut,Ae,mt):_c(p?ut:Ie,Ae,p?mt:Ye);B[A]=St,P[A]=St-Ae}t.modifiersData[r]=P}}const yA={name:"preventOverflow",enabled:!0,phase:"main",fn:bA,requiresIfExists:["offset"]};function xA(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function wA(n){return n===Tn(n)||!za(n)?Gg(n):xA(n)}function SA(n){var t=n.getBoundingClientRect(),e=ll(t.width)/n.offsetWidth||1,r=ll(t.height)/n.offsetHeight||1;return e!==1||r!==1}function NA(n,t,e){e===void 0&&(e=!1);var r=za(t),a=za(t)&&SA(t),s=si(t),i=cl(n,a,e),o={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!e)&&((Zs(t)!=="body"||Jg(s))&&(o=wA(t)),za(t)?(l=cl(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):s&&(l.x=Kg(s))),{x:i.left+o.scrollLeft-l.x,y:i.top+o.scrollTop-l.y,width:i.width,height:i.height}}function _A(n){var t=new Map,e=new Set,r=[];n.forEach(function(s){t.set(s.name,s)});function a(s){e.add(s.name);var i=[].concat(s.requires||[],s.requiresIfExists||[]);i.forEach(function(o){if(!e.has(o)){var l=t.get(o);l&&a(l)}}),r.push(s)}return n.forEach(function(s){e.has(s.name)||a(s)}),r}function jA(n){var t=_A(n);return FP.reduce(function(e,r){return e.concat(t.filter(function(a){return a.phase===r}))},[])}function kA(n){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(n())})})),t}}function CA(n){var t=n.reduce(function(e,r){var a=e[r.name];return e[r.name]=a?Object.assign({},a,r,{options:Object.assign({},a.options,r.options),data:Object.assign({},a.data,r.data)}):r,e},{});return Object.keys(t).map(function(e){return t[e]})}var X1={placement:"bottom",modifiers:[],strategy:"absolute"};function Q1(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function DA(n){n===void 0&&(n={});var t=n,e=t.defaultModifiers,r=e===void 0?[]:e,a=t.defaultOptions,s=a===void 0?X1:a;return function(o,l,u){u===void 0&&(u=s);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},X1,s),modifiersData:{},elements:{reference:o,popper:l},attributes:{},styles:{}},f=[],m=!1,p={state:d,setOptions:function(w){var N=typeof w=="function"?w(d.options):w;v(),d.options=Object.assign({},s,d.options,N),d.scrollParents={reference:zi(o)?jc(o):o.contextElement?jc(o.contextElement):[],popper:jc(l)};var _=jA(CA([].concat(r,d.options.modifiers)));return d.orderedModifiers=_.filter(function(C){return C.enabled}),y(),p.update()},forceUpdate:function(){if(!m){var w=d.elements,N=w.reference,_=w.popper;if(Q1(N,_)){d.rects={reference:NA(N,uu(_),d.options.strategy==="fixed"),popper:Wg(_)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(L){return d.modifiersData[L.name]=Object.assign({},L.data)});for(var C=0;C<d.orderedModifiers.length;C++){if(d.reset===!0){d.reset=!1,C=-1;continue}var A=d.orderedModifiers[C],B=A.fn,D=A.options,E=D===void 0?{}:D,U=A.name;typeof B=="function"&&(d=B({state:d,options:E,name:U,instance:p})||d)}}}},update:kA(function(){return new Promise(function(x){p.forceUpdate(),x(d)})}),destroy:function(){v(),m=!0}};if(!Q1(o,l))return p;p.setOptions(u).then(function(x){!m&&u.onFirstUpdate&&u.onFirstUpdate(x)});function y(){d.orderedModifiers.forEach(function(x){var w=x.name,N=x.options,_=N===void 0?{}:N,C=x.effect;if(typeof C=="function"){var A=C({state:d,name:w,instance:p,options:_}),B=function(){};f.push(A||B)}})}function v(){f.forEach(function(x){return x()}),f=[]}return p}}var EA=DA({defaultModifiers:[dA,gA,JP,QP,pA,cA,yA,WP]}),Z1=function(t){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},PA={name:"applyStyles",enabled:!1},AA={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(t){var e=t.state;return function(){var r=e.elements,a=r.reference,s=r.popper;if("removeAttribute"in a){var i=(a.getAttribute("aria-describedby")||"").split(",").filter(function(o){return o.trim()!==s.id});i.length?a.setAttribute("aria-describedby",i.join(",")):a.removeAttribute("aria-describedby")}}},fn:function(t){var e,r=t.state,a=r.elements,s=a.popper,i=a.reference,o=(e=s.getAttribute("role"))==null?void 0:e.toLowerCase();if(s.id&&o==="tooltip"&&"setAttribute"in i){var l=i.getAttribute("aria-describedby");if(l&&l.split(",").indexOf(s.id)!==-1)return;i.setAttribute("aria-describedby",l?l+","+s.id:s.id)}}},LA=[];function OA(n,t,e){var r=e===void 0?{}:e,a=r.enabled,s=a===void 0?!0:a,i=r.placement,o=i===void 0?"bottom":i,l=r.strategy,u=l===void 0?"absolute":l,d=r.modifiers,f=d===void 0?LA:d,m=zh(r,["enabled","placement","strategy","modifiers"]),p=V.useRef(),y=V.useCallback(function(){var C;(C=p.current)==null||C.update()},[]),v=V.useCallback(function(){var C;(C=p.current)==null||C.forceUpdate()},[]),x=CP(V.useState({placement:o,update:y,forceUpdate:v,attributes:{},styles:{popper:Z1(u),arrow:{}}})),w=x[0],N=x[1],_=V.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(A){var B=A.state,D={},E={};Object.keys(B.elements).forEach(function(U){D[U]=B.styles[U],E[U]=B.attributes[U]}),N({state:B,styles:D,attributes:E,update:y,forceUpdate:v,placement:B.placement})}}},[y,v,N]);return V.useEffect(function(){!p.current||!s||p.current.setOptions({placement:o,strategy:u,modifiers:[].concat(f,[_,PA])})},[u,o,_,s]),V.useEffect(function(){if(!(!s||n==null||t==null))return p.current=EA(n,t,Ve({},m,{placement:o,strategy:u,modifiers:[].concat(f,[AA,_])})),function(){p.current!=null&&(p.current.destroy(),p.current=void 0,N(function(C){return Ve({},C,{attributes:{},styles:{popper:Z1(u)}})}))}},[s,n,t]),w}function TA(n,t,e,r){var a=r&&typeof r!="boolean"?r.capture:r;n.removeEventListener(t,e,a),e.__once&&n.removeEventListener(t,e.__once,a)}function gc(n,t,e,r){return _P(n,t,e,r),function(){TA(n,t,e,r)}}var MA=function(){},IA=MA;const RA=Kn(IA);function $A(n){return n&&"setState"in n?cg.findDOMNode(n):n??null}const FA=function(n){return lu($A(n))};var BA=27,eb=function(){};function qA(n){return n.button===0}function UA(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}var tb=function(t){return t&&("current"in t?t.current:t)};function VA(n,t,e){var r=e===void 0?{}:e,a=r.disabled,s=r.clickTrigger,i=s===void 0?"click":s,o=V.useRef(!1),l=t||eb,u=V.useCallback(function(m){var p,y=tb(n);RA(!!y,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),o.current=!y||UA(m)||!qA(m)||!!zc(y,(p=m.composedPath==null?void 0:m.composedPath()[0])!=null?p:m.target)},[n]),d=U1(function(m){o.current||l(m)}),f=U1(function(m){m.keyCode===BA&&l(m)});V.useEffect(function(){if(!(a||n==null)){var m=window.event,p=FA(tb(n)),y=gc(p,i,u,!0),v=gc(p,i,function(N){if(N===m){m=void 0;return}d(N)}),x=gc(p,"keyup",function(N){if(N===m){m=void 0;return}f(N)}),w=[];return"ontouchstart"in p.documentElement&&(w=[].slice.call(p.body.children).map(function(N){return gc(N,"mousemove",eb)})),function(){y(),v(),x(),w.forEach(function(N){return N()})}}},[n,a,i,u,d,f])}function zA(n){var t={};return Array.isArray(n)?(n==null||n.forEach(function(e){t[e.name]=e}),t):n||t}function HA(n){return n===void 0&&(n={}),Array.isArray(n)?n:Object.keys(n).map(function(t){return n[t].name=t,n[t]})}function WA(n){var t,e,r,a,s=n.enabled,i=n.enableEvents,o=n.placement,l=n.flip,u=n.offset,d=n.fixed,f=n.containerPadding,m=n.arrowElement,p=n.popperConfig,y=p===void 0?{}:p,v=zA(y.modifiers);return Ve({},y,{placement:o,enabled:s,strategy:d?"fixed":y.strategy,modifiers:HA(Ve({},v,{eventListeners:{enabled:i},preventOverflow:Ve({},v.preventOverflow,{options:f?Ve({padding:f},(t=v.preventOverflow)==null?void 0:t.options):(e=v.preventOverflow)==null?void 0:e.options}),offset:{options:Ve({offset:u},(r=v.offset)==null?void 0:r.options)},arrow:Ve({},v.arrow,{enabled:!!m,options:Ve({},(a=v.arrow)==null?void 0:a.options,{element:m})}),flip:Ve({enabled:!!l},v.flip)}))})}function YA(n,t){return n.classList?n.classList.contains(t):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+t+" ")!==-1}function GA(n,t){n.classList?n.classList.add(t):YA(n,t)||(typeof n.className=="string"?n.className=n.className+" "+t:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+t))}function rb(n,t){return n.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function KA(n,t){n.classList?n.classList.remove(t):typeof n.className=="string"?n.className=rb(n.className,t):n.setAttribute("class",rb(n.className&&n.className.baseVal||"",t))}var Sd;function Xg(n){if((!Sd&&Sd!==0||n)&&Ug){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),Sd=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return Sd}var Vp=function(t){var e;return typeof document>"u"?null:t==null?lu().body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),(e=t)!=null&&e.nodeType&&t||null)};function nb(n,t){var e=V.useState(function(){return Vp(n)}),r=e[0],a=e[1];if(!r){var s=Vp(n);s&&a(s)}return V.useEffect(function(){},[t,r]),V.useEffect(function(){var i=Vp(n);i!==r&&a(i)},[n,r]),r}const ab=n=>!n||typeof n=="function"?n:t=>{n.current=t};function JA(n,t){const e=ab(n),r=ab(t);return a=>{e&&e(a),r&&r(a)}}function XA(n,t){return V.useMemo(()=>JA(n,t),[n,t])}var Qg=H.forwardRef(function(n,t){var e=n.flip,r=n.offset,a=n.placement,s=n.containerPadding,i=s===void 0?5:s,o=n.popperConfig,l=o===void 0?{}:o,u=n.transition,d=V1(),f=d[0],m=d[1],p=V1(),y=p[0],v=p[1],x=XA(m,t),w=nb(n.container),N=nb(n.target),_=V.useState(!n.show),C=_[0],A=_[1],B=OA(N,f,WA({placement:a,enableEvents:!!n.show,containerPadding:i||5,flip:e,offset:r,arrowElement:y,popperConfig:l})),D=B.styles,E=B.attributes,U=zh(B,["styles","attributes"]);n.show?C&&A(!1):!n.transition&&!C&&A(!0);var L=function(){A(!0),n.onExited&&n.onExited.apply(n,arguments)},k=n.show||u&&!C;if(VA(f,n.onHide,{disabled:!n.rootClose||n.rootCloseDisabled,clickTrigger:n.rootCloseEvent}),!k)return null;var P=n.children(Ve({},U,{show:!!n.show,props:Ve({},E.popper,{style:D.popper,ref:x}),arrowProps:Ve({},E.arrow,{style:D.arrow,ref:v})}));if(u){var F=n.onExit,I=n.onExiting,ee=n.onEnter,re=n.onEntering,W=n.onEntered;P=H.createElement(u,{in:n.show,appear:!0,onExit:F,onExiting:I,onExited:L,onEnter:ee,onEntering:re,onEntered:W},P)}return w?cg.createPortal(P,w):null});Qg.displayName="Overlay";Qg.propTypes={show:Le.bool,placement:Le.oneOf(zg),target:Le.any,container:Le.any,flip:Le.bool,children:Le.func.isRequired,containerPadding:Le.number,popperConfig:Le.object,rootClose:Le.bool,rootCloseEvent:Le.oneOf(["click","mousedown"]),rootCloseDisabled:Le.bool,onHide:function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),a=1;a<e;a++)r[a-1]=arguments[a];if(t.rootClose){var s;return(s=Le.func).isRequired.apply(s,[t].concat(r))}return Le.func.apply(Le,[t].concat(r))},transition:Le.elementType,onEnter:Le.func,onEntering:Le.func,onEntered:Le.func,onExit:Le.func,onExiting:Le.func,onExited:Le.func};function QA(){this.__data__=[],this.size=0}var ZA=QA,eL=su;function tL(n,t){for(var e=n.length;e--;)if(eL(n[e][0],t))return e;return-1}var Gh=tL,rL=Gh,nL=Array.prototype,aL=nL.splice;function sL(n){var t=this.__data__,e=rL(t,n);if(e<0)return!1;var r=t.length-1;return e==r?t.pop():aL.call(t,e,1),--this.size,!0}var iL=sL,oL=Gh;function lL(n){var t=this.__data__,e=oL(t,n);return e<0?void 0:t[e][1]}var cL=lL,uL=Gh;function dL(n){return uL(this.__data__,n)>-1}var hL=dL,fL=Gh;function pL(n,t){var e=this.__data__,r=fL(e,n);return r<0?(++this.size,e.push([n,t])):e[r][1]=t,this}var mL=pL,gL=ZA,vL=iL,bL=cL,yL=hL,xL=mL;function xl(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}xl.prototype.clear=gL;xl.prototype.delete=vL;xl.prototype.get=bL;xl.prototype.has=yL;xl.prototype.set=xL;var Kh=xl,wL=Kh;function SL(){this.__data__=new wL,this.size=0}var NL=SL;function _L(n){var t=this.__data__,e=t.delete(n);return this.size=t.size,e}var jL=_L;function kL(n){return this.__data__.get(n)}var CL=kL;function DL(n){return this.__data__.has(n)}var EL=DL,PL=Qa,AL=PL["__core-js_shared__"],LL=AL,zp=LL,sb=function(){var n=/[^.]+$/.exec(zp&&zp.keys&&zp.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function OL(n){return!!sb&&sb in n}var TL=OL,ML=Function.prototype,IL=ML.toString;function RL(n){if(n!=null){try{return IL.call(n)}catch{}try{return n+""}catch{}}return""}var Kx=RL,$L=$g,FL=TL,BL=bs,qL=Kx,UL=/[\\^$.*+?()[\]{}|]/g,VL=/^\[object .+?Constructor\]$/,zL=Function.prototype,HL=Object.prototype,WL=zL.toString,YL=HL.hasOwnProperty,GL=RegExp("^"+WL.call(YL).replace(UL,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function KL(n){if(!BL(n)||FL(n))return!1;var t=$L(n)?GL:VL;return t.test(qL(n))}var JL=KL;function XL(n,t){return n==null?void 0:n[t]}var QL=XL,ZL=JL,eO=QL;function tO(n,t){var e=eO(n,t);return ZL(e)?e:void 0}var Ki=tO,rO=Ki,nO=Qa,aO=rO(nO,"Map"),Zg=aO,sO=Ki,iO=sO(Object,"create"),Jh=iO,ib=Jh;function oO(){this.__data__=ib?ib(null):{},this.size=0}var lO=oO;function cO(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t}var uO=cO,dO=Jh,hO="__lodash_hash_undefined__",fO=Object.prototype,pO=fO.hasOwnProperty;function mO(n){var t=this.__data__;if(dO){var e=t[n];return e===hO?void 0:e}return pO.call(t,n)?t[n]:void 0}var gO=mO,vO=Jh,bO=Object.prototype,yO=bO.hasOwnProperty;function xO(n){var t=this.__data__;return vO?t[n]!==void 0:yO.call(t,n)}var wO=xO,SO=Jh,NO="__lodash_hash_undefined__";function _O(n,t){var e=this.__data__;return this.size+=this.has(n)?0:1,e[n]=SO&&t===void 0?NO:t,this}var jO=_O,kO=lO,CO=uO,DO=gO,EO=wO,PO=jO;function wl(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}wl.prototype.clear=kO;wl.prototype.delete=CO;wl.prototype.get=DO;wl.prototype.has=EO;wl.prototype.set=PO;var AO=wl,ob=AO,LO=Kh,OO=Zg;function TO(){this.size=0,this.__data__={hash:new ob,map:new(OO||LO),string:new ob}}var MO=TO;function IO(n){var t=typeof n;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?n!=="__proto__":n===null}var RO=IO,$O=RO;function FO(n,t){var e=n.__data__;return $O(t)?e[typeof t=="string"?"string":"hash"]:e.map}var Xh=FO,BO=Xh;function qO(n){var t=BO(this,n).delete(n);return this.size-=t?1:0,t}var UO=qO,VO=Xh;function zO(n){return VO(this,n).get(n)}var HO=zO,WO=Xh;function YO(n){return WO(this,n).has(n)}var GO=YO,KO=Xh;function JO(n,t){var e=KO(this,n),r=e.size;return e.set(n,t),this.size+=e.size==r?0:1,this}var XO=JO,QO=MO,ZO=UO,eT=HO,tT=GO,rT=XO;function Sl(n){var t=-1,e=n==null?0:n.length;for(this.clear();++t<e;){var r=n[t];this.set(r[0],r[1])}}Sl.prototype.clear=QO;Sl.prototype.delete=ZO;Sl.prototype.get=eT;Sl.prototype.has=tT;Sl.prototype.set=rT;var e0=Sl,nT=Kh,aT=Zg,sT=e0,iT=200;function oT(n,t){var e=this.__data__;if(e instanceof nT){var r=e.__data__;if(!aT||r.length<iT-1)return r.push([n,t]),this.size=++e.size,this;e=this.__data__=new sT(r)}return e.set(n,t),this.size=e.size,this}var lT=oT,cT=Kh,uT=NL,dT=jL,hT=CL,fT=EL,pT=lT;function Nl(n){var t=this.__data__=new cT(n);this.size=t.size}Nl.prototype.clear=uT;Nl.prototype.delete=dT;Nl.prototype.get=hT;Nl.prototype.has=fT;Nl.prototype.set=pT;var t0=Nl,mT="__lodash_hash_undefined__";function gT(n){return this.__data__.set(n,mT),this}var vT=gT;function bT(n){return this.__data__.has(n)}var yT=bT,xT=e0,wT=vT,ST=yT;function gh(n){var t=-1,e=n==null?0:n.length;for(this.__data__=new xT;++t<e;)this.add(n[t])}gh.prototype.add=gh.prototype.push=wT;gh.prototype.has=ST;var NT=gh;function _T(n,t){for(var e=-1,r=n==null?0:n.length;++e<r;)if(t(n[e],e,n))return!0;return!1}var jT=_T;function kT(n,t){return n.has(t)}var CT=kT,DT=NT,ET=jT,PT=CT,AT=1,LT=2;function OT(n,t,e,r,a,s){var i=e&AT,o=n.length,l=t.length;if(o!=l&&!(i&&l>o))return!1;var u=s.get(n),d=s.get(t);if(u&&d)return u==t&&d==n;var f=-1,m=!0,p=e&LT?new DT:void 0;for(s.set(n,t),s.set(t,n);++f<o;){var y=n[f],v=t[f];if(r)var x=i?r(v,y,f,t,n,s):r(y,v,f,n,t,s);if(x!==void 0){if(x)continue;m=!1;break}if(p){if(!ET(t,function(w,N){if(!PT(p,N)&&(y===w||a(y,w,e,r,s)))return p.push(N)})){m=!1;break}}else if(!(y===v||a(y,v,e,r,s))){m=!1;break}}return s.delete(n),s.delete(t),m}var Jx=OT,TT=Qa,MT=TT.Uint8Array,Xx=MT;function IT(n){var t=-1,e=Array(n.size);return n.forEach(function(r,a){e[++t]=[a,r]}),e}var RT=IT;function $T(n){var t=-1,e=Array(n.size);return n.forEach(function(r){e[++t]=r}),e}var FT=$T,lb=bl,cb=Xx,BT=su,qT=Jx,UT=RT,VT=FT,zT=1,HT=2,WT="[object Boolean]",YT="[object Date]",GT="[object Error]",KT="[object Map]",JT="[object Number]",XT="[object RegExp]",QT="[object Set]",ZT="[object String]",eM="[object Symbol]",tM="[object ArrayBuffer]",rM="[object DataView]",ub=lb?lb.prototype:void 0,Hp=ub?ub.valueOf:void 0;function nM(n,t,e,r,a,s,i){switch(e){case rM:if(n.byteLength!=t.byteLength||n.byteOffset!=t.byteOffset)return!1;n=n.buffer,t=t.buffer;case tM:return!(n.byteLength!=t.byteLength||!s(new cb(n),new cb(t)));case WT:case YT:case JT:return BT(+n,+t);case GT:return n.name==t.name&&n.message==t.message;case XT:case ZT:return n==t+"";case KT:var o=UT;case QT:var l=r&zT;if(o||(o=VT),n.size!=t.size&&!l)return!1;var u=i.get(n);if(u)return u==t;r|=HT,i.set(n,t);var d=qT(o(n),o(t),r,a,s,i);return i.delete(n),d;case eM:if(Hp)return Hp.call(n)==Hp.call(t)}return!1}var aM=nM;function sM(n,t){for(var e=-1,r=t.length,a=n.length;++e<r;)n[a+e]=t[e];return n}var r0=sM,iM=Array.isArray,Qn=iM,oM=r0,lM=Qn;function cM(n,t,e){var r=t(n);return lM(n)?r:oM(r,e(n))}var Qx=cM;function uM(n,t){for(var e=-1,r=n==null?0:n.length,a=0,s=[];++e<r;){var i=n[e];t(i,e,n)&&(s[a++]=i)}return s}var dM=uM;function hM(){return[]}var Zx=hM,fM=dM,pM=Zx,mM=Object.prototype,gM=mM.propertyIsEnumerable,db=Object.getOwnPropertySymbols,vM=db?function(n){return n==null?[]:(n=Object(n),fM(db(n),function(t){return gM.call(n,t)}))}:pM,n0=vM;function bM(n,t){for(var e=-1,r=Array(n);++e<n;)r[e]=t(e);return r}var yM=bM,xM=yl,wM=ai,SM="[object Arguments]";function NM(n){return wM(n)&&xM(n)==SM}var _M=NM,hb=_M,jM=ai,ew=Object.prototype,kM=ew.hasOwnProperty,CM=ew.propertyIsEnumerable,DM=hb(function(){return arguments}())?hb:function(n){return jM(n)&&kM.call(n,"callee")&&!CM.call(n,"callee")},a0=DM,vh={exports:{}};function EM(){return!1}var PM=EM;vh.exports;(function(n,t){var e=Qa,r=PM,a=t&&!t.nodeType&&t,s=a&&!0&&n&&!n.nodeType&&n,i=s&&s.exports===a,o=i?e.Buffer:void 0,l=o?o.isBuffer:void 0,u=l||r;n.exports=u})(vh,vh.exports);var Qh=vh.exports,AM=yl,LM=Fg,OM=ai,TM="[object Arguments]",MM="[object Array]",IM="[object Boolean]",RM="[object Date]",$M="[object Error]",FM="[object Function]",BM="[object Map]",qM="[object Number]",UM="[object Object]",VM="[object RegExp]",zM="[object Set]",HM="[object String]",WM="[object WeakMap]",YM="[object ArrayBuffer]",GM="[object DataView]",KM="[object Float32Array]",JM="[object Float64Array]",XM="[object Int8Array]",QM="[object Int16Array]",ZM="[object Int32Array]",e8="[object Uint8Array]",t8="[object Uint8ClampedArray]",r8="[object Uint16Array]",n8="[object Uint32Array]",qt={};qt[KM]=qt[JM]=qt[XM]=qt[QM]=qt[ZM]=qt[e8]=qt[t8]=qt[r8]=qt[n8]=!0;qt[TM]=qt[MM]=qt[YM]=qt[IM]=qt[GM]=qt[RM]=qt[$M]=qt[FM]=qt[BM]=qt[qM]=qt[UM]=qt[VM]=qt[zM]=qt[HM]=qt[WM]=!1;function a8(n){return OM(n)&&LM(n.length)&&!!qt[AM(n)]}var s8=a8;function i8(n){return function(t){return n(t)}}var Zh=i8,bh={exports:{}};bh.exports;(function(n,t){var e=Lx,r=t&&!t.nodeType&&t,a=r&&!0&&n&&!n.nodeType&&n,s=a&&a.exports===r,i=s&&e.process,o=function(){try{var l=a&&a.require&&a.require("util").types;return l||i&&i.binding&&i.binding("util")}catch{}}();n.exports=o})(bh,bh.exports);var s0=bh.exports,o8=s8,l8=Zh,fb=s0,pb=fb&&fb.isTypedArray,c8=pb?l8(pb):o8,i0=c8,u8=yM,d8=a0,h8=Qn,f8=Qh,p8=Bg,m8=i0,g8=Object.prototype,v8=g8.hasOwnProperty;function b8(n,t){var e=h8(n),r=!e&&d8(n),a=!e&&!r&&f8(n),s=!e&&!r&&!a&&m8(n),i=e||r||a||s,o=i?u8(n.length,String):[],l=o.length;for(var u in n)(t||v8.call(n,u))&&!(i&&(u=="length"||a&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||p8(u,l)))&&o.push(u);return o}var tw=b8,y8=Object.prototype;function x8(n){var t=n&&n.constructor,e=typeof t=="function"&&t.prototype||y8;return n===e}var o0=x8;function w8(n,t){return function(e){return n(t(e))}}var rw=w8,S8=rw,N8=S8(Object.keys,Object),_8=N8,j8=o0,k8=_8,C8=Object.prototype,D8=C8.hasOwnProperty;function E8(n){if(!j8(n))return k8(n);var t=[];for(var e in Object(n))D8.call(n,e)&&e!="constructor"&&t.push(e);return t}var P8=E8,A8=tw,L8=P8,O8=iu;function T8(n){return O8(n)?A8(n):L8(n)}var du=T8,M8=Qx,I8=n0,R8=du;function $8(n){return M8(n,R8,I8)}var nw=$8,mb=nw,F8=1,B8=Object.prototype,q8=B8.hasOwnProperty;function U8(n,t,e,r,a,s){var i=e&F8,o=mb(n),l=o.length,u=mb(t),d=u.length;if(l!=d&&!i)return!1;for(var f=l;f--;){var m=o[f];if(!(i?m in t:q8.call(t,m)))return!1}var p=s.get(n),y=s.get(t);if(p&&y)return p==t&&y==n;var v=!0;s.set(n,t),s.set(t,n);for(var x=i;++f<l;){m=o[f];var w=n[m],N=t[m];if(r)var _=i?r(N,w,m,t,n,s):r(w,N,m,n,t,s);if(!(_===void 0?w===N||a(w,N,e,r,s):_)){v=!1;break}x||(x=m=="constructor")}if(v&&!x){var C=n.constructor,A=t.constructor;C!=A&&"constructor"in n&&"constructor"in t&&!(typeof C=="function"&&C instanceof C&&typeof A=="function"&&A instanceof A)&&(v=!1)}return s.delete(n),s.delete(t),v}var V8=U8,z8=Ki,H8=Qa,W8=z8(H8,"DataView"),Y8=W8,G8=Ki,K8=Qa,J8=G8(K8,"Promise"),X8=J8,Q8=Ki,Z8=Qa,eI=Q8(Z8,"Set"),tI=eI,rI=Ki,nI=Qa,aI=rI(nI,"WeakMap"),sI=aI,Jm=Y8,Xm=Zg,Qm=X8,Zm=tI,eg=sI,aw=yl,_l=Kx,gb="[object Map]",iI="[object Object]",vb="[object Promise]",bb="[object Set]",yb="[object WeakMap]",xb="[object DataView]",oI=_l(Jm),lI=_l(Xm),cI=_l(Qm),uI=_l(Zm),dI=_l(eg),Si=aw;(Jm&&Si(new Jm(new ArrayBuffer(1)))!=xb||Xm&&Si(new Xm)!=gb||Qm&&Si(Qm.resolve())!=vb||Zm&&Si(new Zm)!=bb||eg&&Si(new eg)!=yb)&&(Si=function(n){var t=aw(n),e=t==iI?n.constructor:void 0,r=e?_l(e):"";if(r)switch(r){case oI:return xb;case lI:return gb;case cI:return vb;case uI:return bb;case dI:return yb}return t});var ef=Si,Wp=t0,hI=Jx,fI=aM,pI=V8,wb=ef,Sb=Qn,Nb=Qh,mI=i0,gI=1,_b="[object Arguments]",jb="[object Array]",Nd="[object Object]",vI=Object.prototype,kb=vI.hasOwnProperty;function bI(n,t,e,r,a,s){var i=Sb(n),o=Sb(t),l=i?jb:wb(n),u=o?jb:wb(t);l=l==_b?Nd:l,u=u==_b?Nd:u;var d=l==Nd,f=u==Nd,m=l==u;if(m&&Nb(n)){if(!Nb(t))return!1;i=!0,d=!1}if(m&&!d)return s||(s=new Wp),i||mI(n)?hI(n,t,e,r,a,s):fI(n,t,l,e,r,a,s);if(!(e&gI)){var p=d&&kb.call(n,"__wrapped__"),y=f&&kb.call(t,"__wrapped__");if(p||y){var v=p?n.value():n,x=y?t.value():t;return s||(s=new Wp),a(v,x,e,r,s)}}return m?(s||(s=new Wp),pI(n,t,e,r,a,s)):!1}var yI=bI,xI=yI,Cb=ai;function sw(n,t,e,r,a){return n===t?!0:n==null||t==null||!Cb(n)&&!Cb(t)?n!==n&&t!==t:xI(n,t,e,r,sw,a)}var l0=sw,wI=l0;function SI(n,t){return wI(n,t)}var NI=SI;const _I=Kn(NI);function Yp(n,t){var e=qg(n);return e?e.innerHeight:Li(n).height}function iw(n,t,e){n.closest&&!e&&n.closest(t);var r=n;do{if(wP(r,t))return r;r=r.parentElement}while(r&&r!==e&&r.nodeType===document.ELEMENT_NODE);return null}function jI(n,t,e,r){for(var a=n.length,s=e+(r?1:-1);r?s--:++s<a;)if(t(n[s],s,n))return s;return-1}var kI=jI,CI=t0,DI=l0,EI=1,PI=2;function AI(n,t,e,r){var a=e.length,s=a,i=!r;if(n==null)return!s;for(n=Object(n);a--;){var o=e[a];if(i&&o[2]?o[1]!==n[o[0]]:!(o[0]in n))return!1}for(;++a<s;){o=e[a];var l=o[0],u=n[l],d=o[1];if(i&&o[2]){if(u===void 0&&!(l in n))return!1}else{var f=new CI;if(r)var m=r(u,d,l,n,t,f);if(!(m===void 0?DI(d,u,EI|PI,r,f):m))return!1}}return!0}var LI=AI,OI=bs;function TI(n){return n===n&&!OI(n)}var ow=TI,MI=ow,II=du;function RI(n){for(var t=II(n),e=t.length;e--;){var r=t[e],a=n[r];t[e]=[r,a,MI(a)]}return t}var $I=RI;function FI(n,t){return function(e){return e==null?!1:e[n]===t&&(t!==void 0||n in Object(e))}}var lw=FI,BI=LI,qI=$I,UI=lw;function VI(n){var t=qI(n);return t.length==1&&t[0][2]?UI(t[0][0],t[0][1]):function(e){return e===n||BI(e,n,t)}}var zI=VI,HI=Qn,WI=ou,YI=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,GI=/^\w*$/;function KI(n,t){if(HI(n))return!1;var e=typeof n;return e=="number"||e=="symbol"||e=="boolean"||n==null||WI(n)?!0:GI.test(n)||!YI.test(n)||t!=null&&n in Object(t)}var c0=KI,cw=e0,JI="Expected a function";function u0(n,t){if(typeof n!="function"||t!=null&&typeof t!="function")throw new TypeError(JI);var e=function(){var r=arguments,a=t?t.apply(this,r):r[0],s=e.cache;if(s.has(a))return s.get(a);var i=n.apply(this,r);return e.cache=s.set(a,i)||s,i};return e.cache=new(u0.Cache||cw),e}u0.Cache=cw;var XI=u0,QI=XI,ZI=500;function eR(n){var t=QI(n,function(r){return e.size===ZI&&e.clear(),r}),e=t.cache;return t}var tR=eR,rR=tR,nR=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,aR=/\\(\\)?/g,sR=rR(function(n){var t=[];return n.charCodeAt(0)===46&&t.push(""),n.replace(nR,function(e,r,a,s){t.push(a?s.replace(aR,"$1"):r||e)}),t}),iR=sR;function oR(n,t){for(var e=-1,r=n==null?0:n.length,a=Array(r);++e<r;)a[e]=t(n[e],e,n);return a}var d0=oR,Db=bl,lR=d0,cR=Qn,uR=ou,dR=1/0,Eb=Db?Db.prototype:void 0,Pb=Eb?Eb.toString:void 0;function uw(n){if(typeof n=="string")return n;if(cR(n))return lR(n,uw)+"";if(uR(n))return Pb?Pb.call(n):"";var t=n+"";return t=="0"&&1/n==-dR?"-0":t}var hR=uw,fR=hR;function pR(n){return n==null?"":fR(n)}var mR=pR,gR=Qn,vR=c0,bR=iR,yR=mR;function xR(n,t){return gR(n)?n:vR(n,t)?[n]:bR(yR(n))}var tf=xR,wR=ou,SR=1/0;function NR(n){if(typeof n=="string"||wR(n))return n;var t=n+"";return t=="0"&&1/n==-SR?"-0":t}var hu=NR,_R=tf,jR=hu;function kR(n,t){t=_R(t,n);for(var e=0,r=t.length;n!=null&&e<r;)n=n[jR(t[e++])];return e&&e==r?n:void 0}var rf=kR,CR=rf;function DR(n,t,e){var r=n==null?void 0:CR(n,t);return r===void 0?e:r}var ER=DR;function PR(n,t){return n!=null&&t in Object(n)}var AR=PR,LR=tf,OR=a0,TR=Qn,MR=Bg,IR=Fg,RR=hu;function $R(n,t,e){t=LR(t,n);for(var r=-1,a=t.length,s=!1;++r<a;){var i=RR(t[r]);if(!(s=n!=null&&e(n,i)))break;n=n[i]}return s||++r!=a?s:(a=n==null?0:n.length,!!a&&IR(a)&&MR(i,a)&&(TR(n)||OR(n)))}var FR=$R,BR=AR,qR=FR;function UR(n,t){return n!=null&&qR(n,t,BR)}var VR=UR,zR=l0,HR=ER,WR=VR,YR=c0,GR=ow,KR=lw,JR=hu,XR=1,QR=2;function ZR(n,t){return YR(n)&&GR(t)?KR(JR(n),t):function(e){var r=HR(e,n);return r===void 0&&r===t?WR(e,n):zR(t,r,XR|QR)}}var e7=ZR;function t7(n){return n}var nf=t7;function r7(n){return function(t){return t==null?void 0:t[n]}}var n7=r7,a7=rf;function s7(n){return function(t){return a7(t,n)}}var i7=s7,o7=n7,l7=i7,c7=c0,u7=hu;function d7(n){return c7(n)?o7(u7(n)):l7(n)}var h7=d7,f7=zI,p7=e7,m7=nf,g7=Qn,v7=h7;function b7(n){return typeof n=="function"?n:n==null?m7:typeof n=="object"?g7(n)?p7(n[0],n[1]):f7(n):v7(n)}var af=b7,y7=kI,x7=af,w7=Mx,S7=Math.max;function N7(n,t,e){var r=n==null?0:n.length;if(!r)return-1;var a=e==null?0:w7(e);return a<0&&(a=S7(r+a,0)),y7(n,x7(t),a)}var _7=N7;const j7=Kn(_7);var k7=Math.ceil,C7=Math.max;function D7(n,t,e,r){for(var a=-1,s=C7(k7((t-n)/(e||1)),0),i=Array(s);s--;)i[r?s:++a]=n,n+=e;return i}var E7=D7,P7=E7,A7=Wh,Gp=Tx;function L7(n){return function(t,e,r){return r&&typeof r!="number"&&A7(t,e,r)&&(e=r=void 0),t=Gp(t),e===void 0?(e=t,t=0):e=Gp(e),r=r===void 0?t<e?1:-1:Gp(r),P7(t,e,r,n)}}var O7=L7,T7=O7,M7=T7(),I7=M7;const R7=Kn(I7);var Ab=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function $7(n,t){return!!(n===t||Ab(n)&&Ab(t))}function F7(n,t){if(n.length!==t.length)return!1;for(var e=0;e<n.length;e++)if(!$7(n[e],t[e]))return!1;return!0}function h0(n,t){t===void 0&&(t=F7);var e=null;function r(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];if(e&&e.lastThis===this&&t(a,e.lastArgs))return e.lastResult;var i=n.apply(this,a);return e={lastResult:i,lastArgs:a,lastThis:this},i}return r.clear=function(){e=null},r}function tg(n,t){var e=qg(n);return e?e.innerWidth:Li(n).width}var Lb=bl,B7=a0,q7=Qn,Ob=Lb?Lb.isConcatSpreadable:void 0;function U7(n){return q7(n)||B7(n)||!!(Ob&&n&&n[Ob])}var V7=U7,z7=r0,H7=V7;function dw(n,t,e,r,a){var s=-1,i=n.length;for(e||(e=H7),a||(a=[]);++s<i;){var o=n[s];t>0&&e(o)?t>1?dw(o,t-1,e,r,a):z7(a,o):r||(a[a.length]=o)}return a}var hw=dw;function W7(n){return function(t,e,r){for(var a=-1,s=Object(t),i=r(t),o=i.length;o--;){var l=i[n?o:++a];if(e(s[l],l,s)===!1)break}return t}}var Y7=W7,G7=Y7,K7=G7(),J7=K7,X7=J7,Q7=du;function Z7(n,t){return n&&X7(n,t,Q7)}var f0=Z7,e4=iu;function t4(n,t){return function(e,r){if(e==null)return e;if(!e4(e))return n(e,r);for(var a=e.length,s=t?a:-1,i=Object(e);(t?s--:++s<a)&&r(i[s],s,i)!==!1;);return e}}var r4=t4,n4=f0,a4=r4,s4=a4(n4),i4=s4,o4=i4,l4=iu;function c4(n,t){var e=-1,r=l4(n)?Array(n.length):[];return o4(n,function(a,s,i){r[++e]=t(a,s,i)}),r}var u4=c4;function d4(n,t){var e=n.length;for(n.sort(t);e--;)n[e]=n[e].value;return n}var h4=d4,Tb=ou;function f4(n,t){if(n!==t){var e=n!==void 0,r=n===null,a=n===n,s=Tb(n),i=t!==void 0,o=t===null,l=t===t,u=Tb(t);if(!o&&!u&&!s&&n>t||s&&i&&l&&!o&&!u||r&&i&&l||!e&&l||!a)return 1;if(!r&&!s&&!u&&n<t||u&&e&&a&&!r&&!s||o&&e&&a||!i&&a||!l)return-1}return 0}var p4=f4,m4=p4;function g4(n,t,e){for(var r=-1,a=n.criteria,s=t.criteria,i=a.length,o=e.length;++r<i;){var l=m4(a[r],s[r]);if(l){if(r>=o)return l;var u=e[r];return l*(u=="desc"?-1:1)}}return n.index-t.index}var v4=g4,Kp=d0,b4=rf,y4=af,x4=u4,w4=h4,S4=Zh,N4=v4,_4=nf,j4=Qn;function k4(n,t,e){t.length?t=Kp(t,function(s){return j4(s)?function(i){return b4(i,s.length===1?s[0]:s)}:s}):t=[_4];var r=-1;t=Kp(t,S4(y4));var a=x4(n,function(s,i,o){var l=Kp(t,function(u){return u(s)});return{criteria:l,index:++r,value:s}});return w4(a,function(s,i){return N4(s,i,e)})}var C4=k4;function D4(n,t,e){switch(e.length){case 0:return n.call(t);case 1:return n.call(t,e[0]);case 2:return n.call(t,e[0],e[1]);case 3:return n.call(t,e[0],e[1],e[2])}return n.apply(t,e)}var E4=D4,P4=E4,Mb=Math.max;function A4(n,t,e){return t=Mb(t===void 0?n.length-1:t,0),function(){for(var r=arguments,a=-1,s=Mb(r.length-t,0),i=Array(s);++a<s;)i[a]=r[t+a];a=-1;for(var o=Array(t+1);++a<t;)o[a]=r[a];return o[t]=e(i),P4(n,this,o)}}var fw=A4;function L4(n){return function(){return n}}var O4=L4,T4=Ki,M4=function(){try{var n=T4(Object,"defineProperty");return n({},"",{}),n}catch{}}(),pw=M4,I4=O4,Ib=pw,R4=nf,$4=Ib?function(n,t){return Ib(n,"toString",{configurable:!0,enumerable:!1,value:I4(t),writable:!0})}:R4,F4=$4,B4=800,q4=16,U4=Date.now;function V4(n){var t=0,e=0;return function(){var r=U4(),a=q4-(r-e);if(e=r,a>0){if(++t>=B4)return arguments[0]}else t=0;return n.apply(void 0,arguments)}}var z4=V4,H4=F4,W4=z4,Y4=W4(H4),mw=Y4,G4=nf,K4=fw,J4=mw;function X4(n,t){return J4(K4(n,t,G4),n+"")}var gw=X4,Q4=hw,Z4=C4,e$=gw,Rb=Wh,t$=e$(function(n,t){if(n==null)return[];var e=t.length;return e>1&&Rb(n,t[0],t[1])?t=[]:e>2&&Rb(t[0],t[1],t[2])&&(t=[t[0]]),Z4(n,Q4(t,1),[])}),r$=t$;const n$=Kn(r$);function vw(n){return gx(n)||Px(n)||Mg(n)||vx()}function a$(n){var t=[];if(n!=null)for(var e in Object(n))t.push(e);return t}var s$=a$,i$=bs,o$=o0,l$=s$,c$=Object.prototype,u$=c$.hasOwnProperty;function d$(n){if(!i$(n))return l$(n);var t=o$(n),e=[];for(var r in n)r=="constructor"&&(t||!u$.call(n,r))||e.push(r);return e}var h$=d$,f$=tw,p$=h$,m$=iu;function g$(n){return m$(n)?f$(n,!0):p$(n)}var sf=g$,v$=gw,b$=su,y$=Wh,x$=sf,bw=Object.prototype,w$=bw.hasOwnProperty,S$=v$(function(n,t){n=Object(n);var e=-1,r=t.length,a=r>2?t[2]:void 0;for(a&&y$(t[0],t[1],a)&&(r=1);++e<r;)for(var s=t[e],i=x$(s),o=-1,l=i.length;++o<l;){var u=i[o],d=n[u];(d===void 0||b$(d,bw[u])&&!w$.call(n,u))&&(n[u]=s[u])}return n}),N$=S$;const _$=Kn(N$);var $b=pw;function j$(n,t,e){t=="__proto__"&&$b?$b(n,t,{configurable:!0,enumerable:!0,value:e,writable:!0}):n[t]=e}var p0=j$,k$=p0,C$=f0,D$=af;function E$(n,t){var e={};return t=D$(t),C$(n,function(r,a,s){k$(e,a,t(r,a,s))}),e}var P$=E$;const A$=Kn(P$);function L$(n,t){for(var e=-1,r=n==null?0:n.length;++e<r&&t(n[e],e,n)!==!1;);return n}var yw=L$,O$=p0,T$=su,M$=Object.prototype,I$=M$.hasOwnProperty;function R$(n,t,e){var r=n[t];(!(I$.call(n,t)&&T$(r,e))||e===void 0&&!(t in n))&&O$(n,t,e)}var xw=R$,$$=xw,F$=p0;function B$(n,t,e,r){var a=!e;e||(e={});for(var s=-1,i=t.length;++s<i;){var o=t[s],l=r?r(e[o],n[o],o,e,n):void 0;l===void 0&&(l=n[o]),a?F$(e,o,l):$$(e,o,l)}return e}var fu=B$,q$=fu,U$=du;function V$(n,t){return n&&q$(t,U$(t),n)}var z$=V$,H$=fu,W$=sf;function Y$(n,t){return n&&H$(t,W$(t),n)}var G$=Y$,yh={exports:{}};yh.exports;(function(n,t){var e=Qa,r=t&&!t.nodeType&&t,a=r&&!0&&n&&!n.nodeType&&n,s=a&&a.exports===r,i=s?e.Buffer:void 0,o=i?i.allocUnsafe:void 0;function l(u,d){if(d)return u.slice();var f=u.length,m=o?o(f):new u.constructor(f);return u.copy(m),m}n.exports=l})(yh,yh.exports);var K$=yh.exports;function J$(n,t){var e=-1,r=n.length;for(t||(t=Array(r));++e<r;)t[e]=n[e];return t}var X$=J$,Q$=fu,Z$=n0;function eF(n,t){return Q$(n,Z$(n),t)}var tF=eF,rF=rw,nF=rF(Object.getPrototypeOf,Object),of=nF,aF=r0,sF=of,iF=n0,oF=Zx,lF=Object.getOwnPropertySymbols,cF=lF?function(n){for(var t=[];n;)aF(t,iF(n)),n=sF(n);return t}:oF,ww=cF,uF=fu,dF=ww;function hF(n,t){return uF(n,dF(n),t)}var fF=hF,pF=Qx,mF=ww,gF=sf;function vF(n){return pF(n,gF,mF)}var Sw=vF,bF=Object.prototype,yF=bF.hasOwnProperty;function xF(n){var t=n.length,e=new n.constructor(t);return t&&typeof n[0]=="string"&&yF.call(n,"index")&&(e.index=n.index,e.input=n.input),e}var wF=xF,Fb=Xx;function SF(n){var t=new n.constructor(n.byteLength);return new Fb(t).set(new Fb(n)),t}var m0=SF,NF=m0;function _F(n,t){var e=t?NF(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.byteLength)}var jF=_F,kF=/\w*$/;function CF(n){var t=new n.constructor(n.source,kF.exec(n));return t.lastIndex=n.lastIndex,t}var DF=CF,Bb=bl,qb=Bb?Bb.prototype:void 0,Ub=qb?qb.valueOf:void 0;function EF(n){return Ub?Object(Ub.call(n)):{}}var PF=EF,AF=m0;function LF(n,t){var e=t?AF(n.buffer):n.buffer;return new n.constructor(e,n.byteOffset,n.length)}var OF=LF,TF=m0,MF=jF,IF=DF,RF=PF,$F=OF,FF="[object Boolean]",BF="[object Date]",qF="[object Map]",UF="[object Number]",VF="[object RegExp]",zF="[object Set]",HF="[object String]",WF="[object Symbol]",YF="[object ArrayBuffer]",GF="[object DataView]",KF="[object Float32Array]",JF="[object Float64Array]",XF="[object Int8Array]",QF="[object Int16Array]",ZF="[object Int32Array]",e9="[object Uint8Array]",t9="[object Uint8ClampedArray]",r9="[object Uint16Array]",n9="[object Uint32Array]";function a9(n,t,e){var r=n.constructor;switch(t){case YF:return TF(n);case FF:case BF:return new r(+n);case GF:return MF(n,e);case KF:case JF:case XF:case QF:case ZF:case e9:case t9:case r9:case n9:return $F(n,e);case qF:return new r;case UF:case HF:return new r(n);case VF:return IF(n);case zF:return new r;case WF:return RF(n)}}var s9=a9,i9=bs,Vb=Object.create,o9=function(){function n(){}return function(t){if(!i9(t))return{};if(Vb)return Vb(t);n.prototype=t;var e=new n;return n.prototype=void 0,e}}(),Nw=o9,l9=Nw,c9=of,u9=o0;function d9(n){return typeof n.constructor=="function"&&!u9(n)?l9(c9(n)):{}}var h9=d9,f9=ef,p9=ai,m9="[object Map]";function g9(n){return p9(n)&&f9(n)==m9}var v9=g9,b9=v9,y9=Zh,zb=s0,Hb=zb&&zb.isMap,x9=Hb?y9(Hb):b9,w9=x9,S9=ef,N9=ai,_9="[object Set]";function j9(n){return N9(n)&&S9(n)==_9}var k9=j9,C9=k9,D9=Zh,Wb=s0,Yb=Wb&&Wb.isSet,E9=Yb?D9(Yb):C9,P9=E9,A9=t0,L9=yw,O9=xw,T9=z$,M9=G$,I9=K$,R9=X$,$9=tF,F9=fF,B9=nw,q9=Sw,U9=ef,V9=wF,z9=s9,H9=h9,W9=Qn,Y9=Qh,G9=w9,K9=bs,J9=P9,X9=du,Q9=sf,Z9=1,eB=2,tB=4,_w="[object Arguments]",rB="[object Array]",nB="[object Boolean]",aB="[object Date]",sB="[object Error]",jw="[object Function]",iB="[object GeneratorFunction]",oB="[object Map]",lB="[object Number]",kw="[object Object]",cB="[object RegExp]",uB="[object Set]",dB="[object String]",hB="[object Symbol]",fB="[object WeakMap]",pB="[object ArrayBuffer]",mB="[object DataView]",gB="[object Float32Array]",vB="[object Float64Array]",bB="[object Int8Array]",yB="[object Int16Array]",xB="[object Int32Array]",wB="[object Uint8Array]",SB="[object Uint8ClampedArray]",NB="[object Uint16Array]",_B="[object Uint32Array]",Bt={};Bt[_w]=Bt[rB]=Bt[pB]=Bt[mB]=Bt[nB]=Bt[aB]=Bt[gB]=Bt[vB]=Bt[bB]=Bt[yB]=Bt[xB]=Bt[oB]=Bt[lB]=Bt[kw]=Bt[cB]=Bt[uB]=Bt[dB]=Bt[hB]=Bt[wB]=Bt[SB]=Bt[NB]=Bt[_B]=!0;Bt[sB]=Bt[jw]=Bt[fB]=!1;function Vd(n,t,e,r,a,s){var i,o=t&Z9,l=t&eB,u=t&tB;if(e&&(i=a?e(n,r,a,s):e(n)),i!==void 0)return i;if(!K9(n))return n;var d=W9(n);if(d){if(i=V9(n),!o)return R9(n,i)}else{var f=U9(n),m=f==jw||f==iB;if(Y9(n))return I9(n,o);if(f==kw||f==_w||m&&!a){if(i=l||m?{}:H9(n),!o)return l?F9(n,M9(i,n)):$9(n,T9(i,n))}else{if(!Bt[f])return a?n:{};i=z9(n,f,o)}}s||(s=new A9);var p=s.get(n);if(p)return p;s.set(n,i),J9(n)?n.forEach(function(x){i.add(Vd(x,t,e,x,n,s))}):G9(n)&&n.forEach(function(x,w){i.set(w,Vd(x,t,e,w,n,s))});var y=u?l?q9:B9:l?Q9:X9,v=d?void 0:y(n);return L9(v||n,function(x,w){v&&(w=x,x=n[w]),O9(i,w,Vd(x,t,e,w,n,s))}),i}var jB=Vd;function kB(n){var t=n==null?0:n.length;return t?n[t-1]:void 0}var CB=kB,DB=rf,EB=Ax;function PB(n,t){return t.length<2?n:DB(n,EB(t,0,-1))}var AB=PB,LB=tf,OB=CB,TB=AB,MB=hu;function IB(n,t){return t=LB(t,n),n=TB(n,t),n==null||delete n[MB(OB(t))]}var RB=IB,$B=yl,FB=of,BB=ai,qB="[object Object]",UB=Function.prototype,VB=Object.prototype,Cw=UB.toString,zB=VB.hasOwnProperty,HB=Cw.call(Object);function WB(n){if(!BB(n)||$B(n)!=qB)return!1;var t=FB(n);if(t===null)return!0;var e=zB.call(t,"constructor")&&t.constructor;return typeof e=="function"&&e instanceof e&&Cw.call(e)==HB}var YB=WB,GB=YB;function KB(n){return GB(n)?void 0:n}var JB=KB,XB=hw;function QB(n){var t=n==null?0:n.length;return t?XB(n,1):[]}var ZB=QB,eq=ZB,tq=fw,rq=mw;function nq(n){return rq(tq(n,void 0,eq),n+"")}var aq=nq,sq=d0,iq=jB,oq=RB,lq=tf,cq=fu,uq=JB,dq=aq,hq=Sw,fq=1,pq=2,mq=4,gq=dq(function(n,t){var e={};if(n==null)return e;var r=!1;t=sq(t,function(s){return s=lq(s,n),r||(r=s.length>1),s}),cq(n,hq(n),e),r&&(e=iq(e,fq|pq|mq,uq));for(var a=t.length;a--;)oq(e,t[a]);return e}),vq=gq;const bq=Kn(vq);var yq=yw,xq=Nw,wq=f0,Sq=af,Nq=of,_q=Qn,jq=Qh,kq=$g,Cq=bs,Dq=i0;function Eq(n,t,e){var r=_q(n),a=r||jq(n)||Dq(n);if(t=Sq(t),e==null){var s=n&&n.constructor;a?e=r?new s:[]:Cq(n)?e=kq(s)?xq(Nq(n)):{}:e={}}return(a?yq:wq)(n,function(i,o,l){return t(e,i,o,l)}),e}var Pq=Eq;const Aq=Kn(Pq);var Lq={exports:{}};(function(n,t){(function(e,r){n.exports=r()})(mr,function(){return function(e,r,a){r.prototype.isBetween=function(s,i,o,l){var u=a(s),d=a(i),f=(l=l||"()")[0]==="(",m=l[1]===")";return(f?this.isAfter(u,o):!this.isBefore(u,o))&&(m?this.isBefore(d,o):!this.isAfter(d,o))||(f?this.isBefore(u,o):!this.isAfter(u,o))&&(m?this.isAfter(d,o):!this.isBefore(d,o))}}})})(Lq);var Oq={exports:{}};(function(n,t){(function(e,r){n.exports=r()})(mr,function(){return function(e,r){r.prototype.isSameOrAfter=function(a,s){return this.isSame(a,s)||this.isAfter(a,s)}}})})(Oq);var Tq={exports:{}};(function(n,t){(function(e,r){n.exports=r()})(mr,function(){return function(e,r){r.prototype.isSameOrBefore=function(a,s){return this.isSame(a,s)||this.isBefore(a,s)}}})})(Tq);var Mq={exports:{}};(function(n,t){(function(e,r){n.exports=r()})(mr,function(){return function(e,r,a){var s=r.prototype,i=function(f){return f&&(f.indexOf?f:f.s)},o=function(f,m,p,y,v){var x=f.name?f:f.$locale(),w=i(x[m]),N=i(x[p]),_=w||N.map(function(A){return A.slice(0,y)});if(!v)return _;var C=x.weekStart;return _.map(function(A,B){return _[(B+(C||0))%7]})},l=function(){return a.Ls[a.locale()]},u=function(f,m){return f.formats[m]||function(p){return p.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(y,v,x){return v||x.slice(1)})}(f.formats[m.toUpperCase()])},d=function(){var f=this;return{months:function(m){return m?m.format("MMMM"):o(f,"months")},monthsShort:function(m){return m?m.format("MMM"):o(f,"monthsShort","months",3)},firstDayOfWeek:function(){return f.$locale().weekStart||0},weekdays:function(m){return m?m.format("dddd"):o(f,"weekdays")},weekdaysMin:function(m){return m?m.format("dd"):o(f,"weekdaysMin","weekdays",2)},weekdaysShort:function(m){return m?m.format("ddd"):o(f,"weekdaysShort","weekdays",3)},longDateFormat:function(m){return u(f.$locale(),m)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};s.localeData=function(){return d.bind(this)()},a.localeData=function(){var f=l();return{firstDayOfWeek:function(){return f.weekStart||0},weekdays:function(){return a.weekdays()},weekdaysShort:function(){return a.weekdaysShort()},weekdaysMin:function(){return a.weekdaysMin()},months:function(){return a.months()},monthsShort:function(){return a.monthsShort()},longDateFormat:function(m){return u(f,m)},meridiem:f.meridiem,ordinal:f.ordinal}},a.months=function(){return o(l(),"months")},a.monthsShort=function(){return o(l(),"monthsShort","months",3)},a.weekdays=function(f){return o(l(),"weekdays",null,null,f)},a.weekdaysShort=function(f){return o(l(),"weekdaysShort","weekdays",3,f)},a.weekdaysMin=function(f){return o(l(),"weekdaysMin","weekdays",2,f)}}})})(Mq);var Iq={exports:{}};(function(n,t){(function(e,r){n.exports=r()})(mr,function(){var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,a,s){var i=a.prototype,o=i.format;s.en.formats=e,i.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var u=this.$locale().formats,d=function(f,m){return f.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(p,y,v){var x=v&&v.toUpperCase();return y||m[v]||e[v]||m[x].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(w,N,_){return N||_.slice(1)})})}(l,u===void 0?{}:u);return o.call(this,d)}}})})(Iq);var Rq={exports:{}};(function(n,t){(function(e,r){n.exports=r()})(mr,function(){return function(e,r,a){var s=function(i,o){if(!o||!o.length||o.length===1&&!o[0]||o.length===1&&Array.isArray(o[0])&&!o[0].length)return null;var l;o.length===1&&o[0].length>0&&(o=o[0]),l=(o=o.filter(function(d){return d}))[0];for(var u=1;u<o.length;u+=1)o[u].isValid()&&!o[u][i](l)||(l=o[u]);return l};a.max=function(){var i=[].slice.call(arguments,0);return s("isAfter",i)},a.min=function(){var i=[].slice.call(arguments,0);return s("isBefore",i)}}})})(Rq);var $q={exports:{}};(function(n,t){(function(e,r){n.exports=r()})(mr,function(){var e="minute",r=/[+-]\d\d(?::?\d\d)?/g,a=/([+-]|\d\d)/g;return function(s,i,o){var l=i.prototype;o.utc=function(v){var x={date:v,utc:!0,args:arguments};return new i(x)},l.utc=function(v){var x=o(this.toDate(),{locale:this.$L,utc:!0});return v?x.add(this.utcOffset(),e):x},l.local=function(){return o(this.toDate(),{locale:this.$L,utc:!1})};var u=l.parse;l.parse=function(v){v.utc&&(this.$u=!0),this.$utils().u(v.$offset)||(this.$offset=v.$offset),u.call(this,v)};var d=l.init;l.init=function(){if(this.$u){var v=this.$d;this.$y=v.getUTCFullYear(),this.$M=v.getUTCMonth(),this.$D=v.getUTCDate(),this.$W=v.getUTCDay(),this.$H=v.getUTCHours(),this.$m=v.getUTCMinutes(),this.$s=v.getUTCSeconds(),this.$ms=v.getUTCMilliseconds()}else d.call(this)};var f=l.utcOffset;l.utcOffset=function(v,x){var w=this.$utils().u;if(w(v))return this.$u?0:w(this.$offset)?f.call(this):this.$offset;if(typeof v=="string"&&(v=function(A){A===void 0&&(A="");var B=A.match(r);if(!B)return null;var D=(""+B[0]).match(a)||["-",0,0],E=D[0],U=60*+D[1]+ +D[2];return U===0?0:E==="+"?U:-U}(v),v===null))return this;var N=Math.abs(v)<=16?60*v:v,_=this;if(x)return _.$offset=N,_.$u=v===0,_;if(v!==0){var C=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(_=this.local().add(N+C,e)).$offset=N,_.$x.$localOffset=C}else _=this.utc();return _};var m=l.format;l.format=function(v){var x=v||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return m.call(this,x)},l.valueOf=function(){var v=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*v},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var p=l.toDate;l.toDate=function(v){return v==="s"&&this.$offset?o(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():p.call(this)};var y=l.diff;l.diff=function(v,x,w){if(v&&this.$u===v.$u)return y.call(this,v,x,w);var N=this.local(),_=o(v).local();return y.call(N,_,x,w)}}})})($q);function fs(n){return n.children}var yn={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},Xr={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},Gb=Object.keys(Xr).map(function(n){return Xr[n]});Le.oneOfType([Le.string,Le.func]);Le.any;Le.func;Le.oneOfType([Le.arrayOf(Le.oneOf(Gb)),Le.objectOf(function(n,t){var e=Gb.indexOf(t)!==-1&&typeof n[t]=="boolean";if(e)return null;for(var r=arguments.length,a=new Array(r>2?r-2:0),s=2;s<r;s++)a[s-2]=arguments[s];return Le.elementType.apply(Le,[n,t].concat(a))})]);Le.oneOfType([Le.oneOf(["overlap","no-overlap"]),Le.func]);var Kb={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function Dw(n,t){var e=Or(n,"month");return Or(e,"week",t.startOfWeek())}function Ew(n,t){var e=fh(n,"month");return fh(e,"week",t.startOfWeek())}function Fq(n,t){for(var e=Dw(n,t),r=Ew(n,t),a=[];gl(e,r,"day");)a.push(e),e=va(e,1,"day");return a}function Bq(n,t){var e=Or(n,t);return ml(e,n)?e:va(e,1,t)}function qq(n,t){for(var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",r=n,a=[];gl(r,t,e);)a.push(r),r=va(r,1,e);return a}function Uq(n,t){return t==null&&n==null?null:(t==null&&(t=new Date),n==null&&(n=new Date),n=Or(n,"day"),n=Vc(n,Vc(t)),n=il(n,il(t)),n=Uc(n,Uc(t)),qc(n,qc(t)))}function Jb(n){return Vc(n)===0&&il(n)===0&&Uc(n)===0&&qc(n)===0}function Vq(n,t,e,r){return e==="day"&&(e="date"),Math.abs(L1[e](n,void 0,r)-L1[e](t,void 0,r))}function g0(n,t,e){return!e||e==="milliseconds"?Math.abs(+n-+t):Math.round(Math.abs(+Or(n,e)/Kb[e]-+Or(t,e)/Kb[e]))}var zq=Le.oneOfType([Le.string,Le.func]);function Hq(n,t,e,r,a){var s=typeof r=="function"?r(e,a,n):t.call(n,e,r,a);return Mc(s==null||typeof s=="string","`localizer format(..)` must return a string, null, or undefined"),s}function Wq(n,t,e){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,t+e,0,0)}function v0(n,t){return n.getTimezoneOffset()-t.getTimezoneOffset()}function Yq(n,t){return g0(n,t,"minutes")+v0(n,t)}function Gq(n){var t=Or(n,"day");return g0(t,n,"minutes")+v0(t,n)}function Kq(n,t){return Rg(n,t,"day")}function Jq(n,t,e){var r=ml(n,t,"minutes");return r?au(t,e,"minutes"):Hh(t,e,"minutes")}function rg(n,t){return Vq(n,t,"day")}function Xq(n){var t=n.evtA,e=t.start,r=t.end,a=t.allDay,s=n.evtB,i=s.start,o=s.end,l=s.allDay,u=+Or(e,"day")-+Or(i,"day"),d=rg(e,r),f=rg(i,o);return u||f-d||!!l-!!a||+e-+i||+r-+o}function Qq(n){var t=n.event,e=t.start,r=t.end,a=n.range,s=a.start,i=a.end,o=Or(e,"day"),l=gl(o,i,"day"),u=Ig(o,r,"minutes"),d=u?Hh(r,s,"minutes"):au(r,s,"minutes");return l&&d}function Zq(n,t){return ml(n,t,"day")}function eU(n,t){return Jb(n)&&Jb(t)}var tU=hr(function n(t){var e=this;dr(this,n),Mc(typeof t.format=="function","date localizer `format(..)` must be a function"),Mc(typeof t.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||zq,this.formats=t.formats,this.format=function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return Hq.apply(void 0,[e,t.format].concat(a))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||Uq,this.inRange=t.inRange||kx,this.lt=t.lt||Rg,this.lte=t.lte||gl,this.gt=t.gt||Hh,this.gte=t.gte||au,this.eq=t.eq||ml,this.neq=t.neq||Ig,this.startOf=t.startOf||Or,this.endOf=t.endOf||fh,this.add=t.add||va,this.range=t.range||qq,this.diff=t.diff||g0,this.ceil=t.ceil||Bq,this.min=t.min||_x,this.max=t.max||jx,this.minutes=t.minutes||il,this.daySpan=t.daySpan||rg,this.firstVisibleDay=t.firstVisibleDay||Dw,this.lastVisibleDay=t.lastVisibleDay||Ew,this.visibleDays=t.visibleDays||Fq,this.getSlotDate=t.getSlotDate||Wq,this.getTimezoneOffset=t.getTimezoneOffset||function(r){return r.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||v0,this.getTotalMin=t.getTotalMin||Yq,this.getMinutesFromMidnight=t.getMinutesFromMidnight||Gq,this.continuesPrior=t.continuesPrior||Kq,this.continuesAfter=t.continuesAfter||Jq,this.sortEvents=t.sortEvents||Xq,this.inEventRange=t.inEventRange||Qq,this.isSameDate=t.isSameDate||Zq,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||eU,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function rU(n,t,e,r){var a=Me(Me({},n.formats),e);return Me(Me({},n),{},{messages:r,startOfWeek:function(){return n.startOfWeek(t)},format:function(i,o){return n.format(i,a[o]||o,t)}})}var nU=function(n){function t(){var e;dr(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=Yr(this,t,[].concat(a)),e.navigate=function(i){e.props.onNavigate(i)},e.view=function(i){e.props.onView(i)},e}return Tr(t,n),hr(t,[{key:"render",value:function(){var r=this.props,a=r.localizer.messages,s=r.label;return H.createElement("div",{className:"rbc-toolbar"},H.createElement("span",{className:"rbc-btn-group"},H.createElement("button",{type:"button",onClick:this.navigate.bind(null,yn.TODAY)},a.today),H.createElement("button",{type:"button",onClick:this.navigate.bind(null,yn.PREVIOUS)},a.previous),H.createElement("button",{type:"button",onClick:this.navigate.bind(null,yn.NEXT)},a.next)),H.createElement("span",{className:"rbc-toolbar-label"},s),H.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(a)))}},{key:"viewNamesGroup",value:function(r){var a=this,s=this.props.views,i=this.props.view;if(s.length>1)return s.map(function(o){return H.createElement("button",{type:"button",key:o,className:Qt({"rbc-active":i===o}),onClick:a.view.bind(null,o)},r[o])})}}])}(H.Component);function Ut(n,t){n&&n.apply(null,[].concat(t))}var aU={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(t){return"+".concat(t," more")}};function sU(n){return Me(Me({},aU),n)}function iU(n){var t=n.ref,e=n.callback;V.useEffect(function(){var r=function(s){t.current&&!t.current.contains(s.target)&&e()};return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}},[t,e])}var oU=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],Pw=function(n){function t(){return dr(this,t),Yr(this,t,arguments)}return Tr(t,n),hr(t,[{key:"render",value:function(){var r=this.props,a=r.style,s=r.className,i=r.event,o=r.selected,l=r.isAllDay,u=r.onSelect,d=r.onDoubleClick,f=r.onKeyPress,m=r.localizer,p=r.continuesPrior,y=r.continuesAfter,v=r.accessors,x=r.getters,w=r.children,N=r.components,_=N.event,C=N.eventWrapper,A=r.slotStart,B=r.slotEnd,D=gr(r,oU);delete D.resizable;var E=v.title(i),U=v.tooltip(i),L=v.end(i),k=v.start(i),P=v.allDay(i),F=l||P||m.diff(k,m.ceil(L,"day"),"day")>1,I=x.eventProp(i,k,L,o),ee=H.createElement("div",{className:"rbc-event-content",title:U||void 0},_?H.createElement(_,{event:i,continuesPrior:p,continuesAfter:y,title:E,isAllDay:P,localizer:m,slotStart:A,slotEnd:B}):E);return H.createElement(C,Object.assign({},this.props,{type:"date"}),H.createElement("div",Object.assign({},D,{style:Me(Me({},I.style),a),className:Qt("rbc-event",s,I.className,{"rbc-selected":o,"rbc-event-allday":F,"rbc-event-continues-prior":p,"rbc-event-continues-after":y}),onClick:function(W){return u&&u(i,W)},onDoubleClick:function(W){return d&&d(i,W)},onKeyDown:function(W){return f&&f(i,W)}}),typeof w=="function"?w(ee):ee))}}])}(H.Component);function lf(n,t){return!n||t==null?!1:_I(n,t)}function Aw(n,t){var e=n.right-n.left,r=e/t;return r}function Lw(n,t,e,r){var a=Aw(n,r);return e?r-1-Math.floor((t-n.left)/a):Math.floor((t-n.left)/a)}function lU(n,t){var e=t.x,r=t.y;return r>=n.top&&r<=n.bottom&&e>=n.left&&e<=n.right}function cU(n,t,e,r,a){var s=-1,i=-1,o=r-1,l=Aw(t,r),u=Lw(t,e.x,a,r),d=t.top<e.y&&t.bottom>e.y,f=t.top<n.y&&t.bottom>n.y,m=n.y>t.bottom,p=t.top>n.y,y=e.top<t.top&&e.bottom>t.bottom;return y&&(s=0,i=o),d&&(p?(s=0,i=u):m&&(s=u,i=o)),f&&(s=i=a?o-Math.floor((n.x-t.left)/l):Math.floor((n.x-t.left)/l),d?u<s?s=u:i=u:n.y<e.y?i=o:s=0),{startIdx:s,endIdx:i}}function uU(n){var t=n.target,e=n.offset,r=n.container,a=n.box,s=Li(t),i=s.top,o=s.left,l=s.width,u=s.height,d=Li(r),f=d.top,m=d.left,p=d.width,y=d.height,v=Li(a),x=v.width,w=v.height,N=f+y,_=m+p,C=i+w,A=o+x,B=e.x,D=e.y,E=C>N?i-w-D:i+D+u,U=A>_?o+B-x+l:o+B;return{topOffset:E,leftOffset:U}}function dU(n){var t=n.containerRef,e=n.accessors,r=n.getters,a=n.selected,s=n.components,i=n.localizer,o=n.position,l=n.show,u=n.events,d=n.slotStart,f=n.slotEnd,m=n.onSelect,p=n.onDoubleClick,y=n.onKeyPress,v=n.handleDragStart,x=n.popperRef,w=n.target,N=n.offset;iU({ref:x,callback:l}),V.useLayoutEffect(function(){var A=uU({target:w,offset:N,container:t.current,box:x.current}),B=A.topOffset,D=A.leftOffset;x.current.style.top="".concat(B,"px"),x.current.style.left="".concat(D,"px")},[N.x,N.y,w]);var _=o.width,C={minWidth:_+_/2};return H.createElement("div",{style:C,className:"rbc-overlay",ref:x},H.createElement("div",{className:"rbc-overlay-header"},i.format(d,"dayHeaderFormat")),u.map(function(A,B){return H.createElement(Pw,{key:B,type:"popup",localizer:i,event:A,getters:r,onSelect:m,accessors:e,components:s,onDoubleClick:p,onKeyPress:y,continuesPrior:i.lt(e.end(A),d,"day"),continuesAfter:i.gte(e.start(A),f,"day"),slotStart:d,slotEnd:f,selected:lf(A,a),draggable:!0,onDragStart:function(){return v(A)},onDragEnd:function(){return l()}})}))}var Ow=H.forwardRef(function(n,t){return H.createElement(dU,Object.assign({},n,{popperRef:t}))});Ow.propTypes={accessors:Le.object.isRequired,getters:Le.object.isRequired,selected:Le.object,components:Le.object.isRequired,localizer:Le.object.isRequired,position:Le.object.isRequired,show:Le.func.isRequired,events:Le.array.isRequired,slotStart:Le.instanceOf(Date).isRequired,slotEnd:Le.instanceOf(Date),onSelect:Le.func,onDoubleClick:Le.func,onKeyPress:Le.func,handleDragStart:Le.func,style:Le.object,offset:Le.shape({x:Le.number,y:Le.number})};function hU(n){var t=n.containerRef,e=n.popupOffset,r=e===void 0?5:e,a=n.overlay,s=n.accessors,i=n.localizer,o=n.components,l=n.getters,u=n.selected,d=n.handleSelectEvent,f=n.handleDoubleClickEvent,m=n.handleKeyPressEvent,p=n.handleDragStart,y=n.onHide,v=n.overlayDisplay,x=V.useRef(null);if(!a.position)return null;var w=r;isNaN(r)||(w={x:r,y:r});var N=a.position,_=a.events,C=a.date,A=a.end;return H.createElement(Qg,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:y,target:a.target},function(B){var D=B.props;return H.createElement(Ow,Object.assign({},D,{containerRef:t,ref:x,target:a.target,offset:w,accessors:s,getters:l,selected:u,components:o,localizer:i,position:N,show:v,events:_,slotStart:C,slotEnd:A,onSelect:d,onDoubleClick:f,onKeyPress:m,handleDragStart:p}))})}var b0=H.forwardRef(function(n,t){return H.createElement(hU,Object.assign({},n,{containerRef:t}))});b0.propTypes={popupOffset:Le.oneOfType([Le.number,Le.shape({x:Le.number,y:Le.number})]),overlay:Le.shape({position:Le.object,events:Le.array,date:Le.instanceOf(Date),end:Le.instanceOf(Date)}),accessors:Le.object.isRequired,localizer:Le.object.isRequired,components:Le.object.isRequired,getters:Le.object.isRequired,selected:Le.object,handleSelectEvent:Le.func,handleDoubleClickEvent:Le.func,handleKeyPressEvent:Le.func,handleDragStart:Le.func,onHide:Le.func,overlayDisplay:Le.func};function Vr(n,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return gc(e,n,t,{passive:!1})}function fU(n,t,e){return!n||zc(n,document.elementFromPoint(t,e))}function pU(n,t){var e=t.clientX,r=t.clientY,a=document.elementFromPoint(e,r);return iw(a,".rbc-event",n)}function mU(n,t){var e=t.clientX,r=t.clientY,a=document.elementFromPoint(e,r);return iw(a,".rbc-show-more",n)}function xh(n,t){return!!pU(n,t)}function gU(n,t){return!!mU(n,t)}function uc(n){var t=n;return n.touches&&n.touches.length&&(t=n.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var Xb=5,vU=250,Tw=function(){function n(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.global,a=r===void 0?!1:r,s=e.longPressThreshold,i=s===void 0?250:s,o=e.validContainers,l=o===void 0?[]:o;dr(this,n),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=t,this.globalMouse=!t||a,this.longPressThreshold=i,this.validContainers=l,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=Vr("touchmove",function(){},window),this._removeKeyDownListener=Vr("keydown",this._keyListener),this._removeKeyUpListener=Vr("keyup",this._keyListener),this._removeDropFromOutsideListener=Vr("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=Vr("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return hr(n,[{key:"on",value:function(e,r){var a=this._listeners[e]||(this._listeners[e]=[]);return a.push(r),{remove:function(){var i=a.indexOf(r);i!==-1&&a.splice(i,1)}}}},{key:"emit",value:function(e){for(var r=arguments.length,a=new Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];var i,o=this._listeners[e]||[];return o.forEach(function(l){i===void 0&&(i=l.apply(void 0,a))}),i}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(e){var r=this._selectRect;return!r||!this.selecting?!1:Qb(r,Hi(e))}},{key:"filter",value:function(e){var r=this._selectRect;return!r||!this.selecting?[]:e.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(e,r){var a=this,s=null,i=null,o=null,l=function(m){s=setTimeout(function(){d(),e(m)},a.longPressThreshold),i=Vr("touchmove",function(){return d()}),o=Vr("touchend",function(){return d()})},u=Vr("touchstart",l),d=function(){s&&clearTimeout(s),i&&i(),o&&o(),s=null,i=null,o=null};return r&&l(r),function(){d(),u()}}},{key:"_addInitialEventListener",value:function(){var e=this,r=Vr("mousedown",function(s){e._removeInitialEventListener(),e._handleInitialEvent(s),e._removeInitialEventListener=Vr("mousedown",e._handleInitialEvent)}),a=Vr("touchstart",function(s){e._removeInitialEventListener(),e._removeInitialEventListener=e._addLongPressListener(e._handleInitialEvent,s)});this._removeInitialEventListener=function(){r(),a()}}},{key:"_dropFromOutsideListener",value:function(e){var r=uc(e),a=r.pageX,s=r.pageY,i=r.clientX,o=r.clientY;this.emit("dropFromOutside",{x:a,y:s,clientX:i,clientY:o}),e.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(e){var r=uc(e),a=r.pageX,s=r.pageY,i=r.clientX,o=r.clientY;this.emit("dragOverFromOutside",{x:a,y:s,clientX:i,clientY:o}),e.preventDefault()}},{key:"_handleInitialEvent",value:function(e){if(this._initialEvent=e,!this.isDetached){var r=uc(e),a=r.clientX,s=r.clientY,i=r.pageX,o=r.pageY,l=this.container(),u,d;if(!(e.which===3||e.button===2||!fU(l,a,s))){if(!this.globalMouse&&l&&!zc(l,e.target)){var f=bU(0),m=f.top,p=f.left,y=f.bottom,v=f.right;if(d=Hi(l),u=Qb({top:d.top-m,left:d.left-p,bottom:d.bottom+y,right:d.right+v},{top:o,left:i}),!u)return}var x=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(e.type),x:i,y:o,clientX:a,clientY:s});if(x!==!1)switch(e.type){case"mousedown":this._removeEndListener=Vr("mouseup",this._handleTerminatingEvent),this._onEscListener=Vr("keydown",this._handleTerminatingEvent),this._removeMoveListener=Vr("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(e),this._removeEndListener=Vr("touchend",this._handleTerminatingEvent),this._removeMoveListener=Vr("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(e){var r=e.target,a=this.validContainers;return!a||!a.length||!r?!0:a.some(function(s){return!!r.closest(s)})}},{key:"_handleTerminatingEvent",value:function(e){var r=this.selecting,a=this._selectRect;if(!r&&e.type.includes("key")&&(e=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!e){var s=!this.container||zc(this.container(),e.target),i=this._isWithinValidContainer(e);return e.key==="Escape"||!i?this.emit("reset"):!r&&s?this._handleClickEvent(e):r?this.emit("select",a):this.emit("reset")}}},{key:"_handleClickEvent",value:function(e){var r=uc(e),a=r.pageX,s=r.pageY,i=r.clientX,o=r.clientY,l=new Date().getTime();return this._lastClickData&&l-this._lastClickData.timestamp<vU?(this._lastClickData=null,this.emit("doubleClick",{x:a,y:s,clientX:i,clientY:o})):(this._lastClickData={timestamp:l},this.emit("click",{x:a,y:s,clientX:i,clientY:o}))}},{key:"_handleMoveEvent",value:function(e){if(!(this._initialEventData===null||this.isDetached)){var r=this._initialEventData,a=r.x,s=r.y,i=uc(e),o=i.pageX,l=i.pageY,u=Math.abs(a-o),d=Math.abs(s-l),f=Math.min(o,a),m=Math.min(l,s),p=this.selecting,y=this.isClick(o,l);y&&!p&&!(u||d)||(!p&&!y&&this.emit("selectStart",this._initialEventData),y||(this.selecting=!0,this._selectRect={top:m,left:f,x:o,y:l,right:f+u,bottom:m+d},this.emit("selecting",this._selectRect)),e.preventDefault())}}},{key:"_keyListener",value:function(e){this.ctrl=e.metaKey||e.ctrlKey}},{key:"isClick",value:function(e,r){var a=this._initialEventData,s=a.x,i=a.y,o=a.isTouch;return!o&&Math.abs(e-s)<=Xb&&Math.abs(r-i)<=Xb}}])}();function bU(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return pt(n)!=="object"&&(n={top:n,left:n,right:n,bottom:n}),n}function Qb(n,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=Hi(n),a=r.top,s=r.left,i=r.right,o=i===void 0?s:i,l=r.bottom,u=l===void 0?a:l,d=Hi(t),f=d.top,m=d.left,p=d.right,y=p===void 0?m:p,v=d.bottom,x=v===void 0?f:v;return!(u-e<f||a+e>x||o-e<m||s+e>y)}function Hi(n){if(!n.getBoundingClientRect)return n;var t=n.getBoundingClientRect(),e=t.left+Zb("left"),r=t.top+Zb("top");return{top:r,left:e,right:(n.offsetWidth||0)+e,bottom:(n.offsetHeight||0)+r}}function Zb(n){if(n==="left")return window.pageXOffset||document.body.scrollLeft||0;if(n==="top")return window.pageYOffset||document.body.scrollTop||0}var yU=function(n){function t(e,r){var a;return dr(this,t),a=Yr(this,t,[e,r]),a.state={selecting:!1},a.containerRef=V.createRef(),a}return Tr(t,n),hr(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(r){!r.selectable&&this.props.selectable&&this._selectable(),r.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var r=this.props,a=r.range,s=r.getNow,i=r.getters,o=r.date,l=r.components.dateCellWrapper,u=r.localizer,d=this.state,f=d.selecting,m=d.startIdx,p=d.endIdx,y=s();return H.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},a.map(function(v,x){var w=f&&x>=m&&x<=p,N=i.dayProp(v),_=N.className,C=N.style;return H.createElement(l,{key:x,value:v,range:a},H.createElement("div",{style:C,className:Qt("rbc-day-bg",_,w&&"rbc-selected-cell",u.isSameDate(v,y)&&"rbc-today",o&&u.neq(o,v,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var r=this,a=this.containerRef.current,s=this._selector=new Tw(this.props.container,{longPressThreshold:this.props.longPressThreshold}),i=function(l,u){if(!xh(a,l)&&!gU(a,l)){var d=Hi(a),f=r.props,m=f.range,p=f.rtl;if(lU(d,l)){var y=Lw(d,l.x,p,m.length);r._selectSlot({startIdx:y,endIdx:y,action:u,box:l})}}r._initial={},r.setState({selecting:!1})};s.on("selecting",function(o){var l=r.props,u=l.range,d=l.rtl,f=-1,m=-1;if(r.state.selecting||(Ut(r.props.onSelectStart,[o]),r._initial={x:o.x,y:o.y}),s.isSelected(a)){var p=Hi(a),y=cU(r._initial,p,o,u.length,d);f=y.startIdx,m=y.endIdx}r.setState({selecting:!0,startIdx:f,endIdx:m})}),s.on("beforeSelect",function(o){if(r.props.selectable==="ignoreEvents")return!xh(r.containerRef.current,o)}),s.on("click",function(o){return i(o,"click")}),s.on("doubleClick",function(o){return i(o,"doubleClick")}),s.on("select",function(o){r._selectSlot(Me(Me({},r.state),{},{action:"select",bounds:o})),r._initial={},r.setState({selecting:!1}),Ut(r.props.onSelectEnd,[r.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(r){var a=r.endIdx,s=r.startIdx,i=r.action,o=r.bounds,l=r.box;a!==-1&&s!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:s,end:a,action:i,bounds:o,box:l,resourceId:this.props.resourceId})}}])}(H.Component),Ia={propTypes:{slotMetrics:Le.object.isRequired,selected:Le.object,isAllDay:Le.bool,accessors:Le.object.isRequired,localizer:Le.object.isRequired,components:Le.object.isRequired,getters:Le.object.isRequired,onSelect:Le.func,onDoubleClick:Le.func,onKeyPress:Le.func},defaultProps:{segments:[],selected:{}},renderEvent:function(t,e){var r=t.selected;t.isAllDay;var a=t.accessors,s=t.getters,i=t.onSelect,o=t.onDoubleClick,l=t.onKeyPress,u=t.localizer,d=t.slotMetrics,f=t.components,m=t.resizable,p=d.continuesPrior(e),y=d.continuesAfter(e);return H.createElement(Pw,{event:e,getters:s,localizer:u,accessors:a,components:f,onSelect:i,onDoubleClick:o,onKeyPress:l,continuesPrior:p,continuesAfter:y,slotStart:d.first,slotEnd:d.last,selected:lf(e,r),resizable:m})},renderSpan:function(t,e,r){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",s=Math.abs(e)/t*100+"%";return H.createElement("div",{key:r,className:"rbc-row-segment",style:{WebkitFlexBasis:s,flexBasis:s,maxWidth:s}},a)}},Mw=function(n){function t(){return dr(this,t),Yr(this,t,arguments)}return Tr(t,n),hr(t,[{key:"render",value:function(){var r=this,a=this.props,s=a.segments,i=a.slotMetrics.slots,o=a.className,l=1;return H.createElement("div",{className:Qt(o,"rbc-row")},s.reduce(function(u,d,f){var m=d.event,p=d.left,y=d.right,v=d.span,x="_lvl_"+f,w=p-l,N=Ia.renderEvent(r.props,m);return w&&u.push(Ia.renderSpan(i,w,"".concat(x,"_gap"))),u.push(Ia.renderSpan(i,v,x,N)),l=y+1,u},[]))}}])}(H.Component);Mw.defaultProps=Me({},Ia.defaultProps);function Iw(n){var t=n.dateRange,e=n.unit,r=e===void 0?"day":e,a=n.localizer;return{first:t[0],last:a.add(t[t.length-1],1,r)}}function xU(n,t,e,r){var a=Iw({dateRange:t,localizer:r}),s=a.first,i=a.last,o=r.diff(s,i,"day"),l=r.max(r.startOf(e.start(n),"day"),s),u=r.min(r.ceil(e.end(n),"day"),i),d=j7(t,function(m){return r.isSameDate(m,l)}),f=r.diff(l,u,"day");return f=Math.min(f,o),f=Math.max(f-r.segmentOffset,1),{event:n,span:f,left:d+1,right:Math.max(d+f,1)}}function Rw(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,e,r,a,s=[],i=[];for(e=0;e<n.length;e++){for(a=n[e],r=0;r<s.length&&wU(a,s[r]);r++);r>=t?i.push(a):(s[r]||(s[r]=[])).push(a)}for(e=0;e<s.length;e++)s[e].sort(function(o,l){return o.left-l.left});return{levels:s,extra:i}}function Yc(n,t,e,r,a){var s={start:r.start(n),end:r.end(n)},i={start:t,end:e};return a.inEventRange({event:s,range:i})}function wU(n,t){return t.some(function(e){return e.left<=n.right&&e.right>=n.left})}function SU(n,t,e){var r=Ai(n),a=[],s=[];r.forEach(function(l){var u=t.start(l),d=t.end(l);e.daySpan(u,d)>1?a.push(l):s.push(l)});var i=a.sort(function(l,u){return ng(l,u,t,e)}),o=s.sort(function(l,u){return ng(l,u,t,e)});return[].concat(Ai(i),Ai(o))}function ng(n,t,e,r){var a={start:e.start(n),end:e.end(n),allDay:e.allDay(n)},s={start:e.start(t),end:e.end(t),allDay:e.allDay(t)};return r.sortEvents({evtA:a,evtB:s})}var $w=function(t,e){return t.left<=e&&t.right>=e},ey=function(t,e){return t.filter(function(r){return $w(r,e)}).map(function(r){return r.event})},Fw=function(n){function t(){return dr(this,t),Yr(this,t,arguments)}return Tr(t,n),hr(t,[{key:"render",value:function(){for(var r=this.props,a=r.segments,s=r.slotMetrics.slots,i=Rw(a).levels[0],o=1,l=1,u=[];o<=s;){var d="_lvl_"+o,f=i.filter(function(N){return $w(N,o)})[0]||{},m=f.event,p=f.left,y=f.right,v=f.span;if(!m){o++;continue}var x=Math.max(0,p-l);if(this.canRenderSlotEvent(p,v)){var w=Ia.renderEvent(this.props,m);x&&u.push(Ia.renderSpan(s,x,d+"_gap")),u.push(Ia.renderSpan(s,v,d,w)),l=o=y+1}else x&&u.push(Ia.renderSpan(s,x,d+"_gap")),u.push(Ia.renderSpan(s,1,d,this.renderShowMore(a,o))),l=o=o+1}return H.createElement("div",{className:"rbc-row"},u)}},{key:"canRenderSlotEvent",value:function(r,a){var s=this.props.segments;return R7(r,r+a).every(function(i){var o=ey(s,i).length;return o===1})}},{key:"renderShowMore",value:function(r,a){var s=this,i=this.props,o=i.localizer,l=i.slotMetrics,u=i.components,d=l.getEventsForSlot(a),f=ey(r,a),m=f.length;if(u!=null&&u.showMore){var p=u.showMore,y=l.getDateForSlot(a-1);return m?H.createElement(p,{localizer:o,slotDate:y,slot:a,count:m,events:d,remainingEvents:f}):!1}return m?H.createElement("button",{type:"button",key:"sm_"+a,className:Qt("rbc-button-link","rbc-show-more"),onClick:function(x){return s.showMore(a,x)}},o.messages.showMore(m,f,d)):!1}},{key:"showMore",value:function(r,a){a.preventDefault(),a.stopPropagation(),this.props.onShowMore(r,a.target)}}])}(H.Component);Fw.defaultProps=Me({},Ia.defaultProps);var NU=function(t){var e=t.children;return H.createElement("div",{className:"rbc-row-content-scroll-container"},e)},_U=function(t,e){return t.left<=e&&t.right>=e},jU=function(t,e){return t[0].range===e[0].range&&t[0].events===e[0].events};function Bw(){return h0(function(n){for(var t=n.range,e=n.events,r=n.maxRows,a=n.minRows,s=n.accessors,i=n.localizer,o=Iw({dateRange:t,localizer:i}),l=o.first,u=o.last,d=e.map(function(v){return xU(v,t,s,i)}),f=Rw(d,Math.max(r-1,1)),m=f.levels,p=f.extra,y=p.length>0?a-1:a;m.length<y;)m.push([]);return{first:l,last:u,levels:m,extra:p,range:t,slots:t.length,clone:function(x){var w=Bw();return w(Me(Me({},n),x))},getDateForSlot:function(x){return t[x]},getSlotForDate:function(x){return t.find(function(w){return i.isSameDate(w,x)})},getEventsForSlot:function(x){return d.filter(function(w){return _U(w,x)}).map(function(w){return w.event})},continuesPrior:function(x){return i.continuesPrior(s.start(x),l)},continuesAfter:function(x){var w=s.start(x),N=s.end(x);return i.continuesAfter(w,N,u)}}},jU)}var Gc=function(n){function t(){var e;dr(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=Yr(this,t,[].concat(a)),e.handleSelectSlot=function(i){var o=e.props,l=o.range,u=o.onSelectSlot;u(l.slice(i.start,i.end+1),i)},e.handleShowMore=function(i,o){var l=e.props,u=l.range,d=l.onShowMore,f=e.slotMetrics(e.props),m=NP(e.containerRef.current,".rbc-row-bg")[0],p;m&&(p=m.children[i-1]);var y=f.getEventsForSlot(i);d(y,u[i-1],p,i,o)},e.getContainer=function(){var i=e.props.container;return i?i():e.containerRef.current},e.renderHeadingCell=function(i,o){var l=e.props,u=l.renderHeader,d=l.getNow,f=l.localizer;return u({date:i,key:"header_".concat(o),className:Qt("rbc-date-cell",f.isSameDate(i,d())&&"rbc-now")})},e.renderDummy=function(){var i=e.props,o=i.className,l=i.range,u=i.renderHeader,d=i.showAllEvents;return H.createElement("div",{className:o,ref:e.containerRef},H.createElement("div",{className:Qt("rbc-row-content",d&&"rbc-row-content-scrollable")},u&&H.createElement("div",{className:"rbc-row",ref:e.headingRowRef},l.map(e.renderHeadingCell)),H.createElement("div",{className:"rbc-row",ref:e.eventRowRef},H.createElement("div",{className:"rbc-row-segment"},H.createElement("div",{className:"rbc-event"},H.createElement("div",{className:"rbc-event-content"},""))))))},e.containerRef=V.createRef(),e.headingRowRef=V.createRef(),e.eventRowRef=V.createRef(),e.slotMetrics=Bw(),e}return Tr(t,n),hr(t,[{key:"getRowLimit",value:function(){var r,a=Yp(this.eventRowRef.current),s=(r=this.headingRowRef)!==null&&r!==void 0&&r.current?Yp(this.headingRowRef.current):0,i=Yp(this.containerRef.current)-s;return Math.max(Math.floor(i/a),1)}},{key:"render",value:function(){var r=this.props,a=r.date,s=r.rtl,i=r.range,o=r.className,l=r.selected,u=r.selectable,d=r.renderForMeasure,f=r.accessors,m=r.getters,p=r.components,y=r.getNow,v=r.renderHeader,x=r.onSelect,w=r.localizer,N=r.onSelectStart,_=r.onSelectEnd,C=r.onDoubleClick,A=r.onKeyPress,B=r.resourceId,D=r.longPressThreshold,E=r.isAllDay,U=r.resizable,L=r.showAllEvents;if(d)return this.renderDummy();var k=this.slotMetrics(this.props),P=k.levels,F=k.extra,I=L?NU:fs,ee=p.weekWrapper,re={selected:l,accessors:f,getters:m,localizer:w,components:p,onSelect:x,onDoubleClick:C,onKeyPress:A,resourceId:B,slotMetrics:k,resizable:U};return H.createElement("div",{className:o,role:"rowgroup",ref:this.containerRef},H.createElement(yU,{localizer:w,date:a,getNow:y,rtl:s,range:i,selectable:u,container:this.getContainer,getters:m,onSelectStart:N,onSelectEnd:_,onSelectSlot:this.handleSelectSlot,components:p,longPressThreshold:D,resourceId:B}),H.createElement("div",{className:Qt("rbc-row-content",L&&"rbc-row-content-scrollable"),role:"row"},v&&H.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},i.map(this.renderHeadingCell)),H.createElement(I,null,H.createElement(ee,Object.assign({isAllDay:E},re,{rtl:this.props.rtl}),P.map(function(W,Z){return H.createElement(Mw,Object.assign({key:Z,segments:W},re))}),!!F.length&&H.createElement(Fw,Object.assign({segments:F,onShowMore:this.handleShowMore},re))))))}}])}(H.Component);Gc.defaultProps={minRows:0,maxRows:1/0};var y0=function(t){var e=t.label;return H.createElement("span",{role:"columnheader","aria-sort":"none"},e)},kU=function(t){var e=t.label,r=t.drilldownView,a=t.onDrillDown;return r?H.createElement("button",{type:"button",className:"rbc-button-link",onClick:a},e):H.createElement("span",null,e)},CU=["date","className"],DU=function(t,e,r,a,s){return t.filter(function(i){return Yc(i,e,r,a,s)})},cf=function(n){function t(){var e;dr(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=Yr(this,t,[].concat(a)),e.getContainer=function(){return e.containerRef.current},e.renderWeek=function(i,o){var l=e.props,u=l.events,d=l.components,f=l.selectable,m=l.getNow,p=l.selected,y=l.date,v=l.localizer,x=l.longPressThreshold,w=l.accessors,N=l.getters,_=l.showAllEvents,C=e.state,A=C.needLimitMeasure,B=C.rowLimit,D=DU(Ai(u),i[0],i[i.length-1],w,v),E=SU(D,w,v);return H.createElement(Gc,{key:o,ref:o===0?e.slotRowRef:void 0,container:e.getContainer,className:"rbc-month-row",getNow:m,date:y,range:i,events:E,maxRows:_?1/0:B,selected:p,selectable:f,components:d,accessors:w,getters:N,localizer:v,renderHeader:e.readerDateHeading,renderForMeasure:A,onShowMore:e.handleShowMore,onSelect:e.handleSelectEvent,onDoubleClick:e.handleDoubleClickEvent,onKeyPress:e.handleKeyPressEvent,onSelectSlot:e.handleSelectSlot,longPressThreshold:x,rtl:e.props.rtl,resizable:e.props.resizable,showAllEvents:_})},e.readerDateHeading=function(i){var o=i.date,l=i.className,u=gr(i,CU),d=e.props,f=d.date,m=d.getDrilldownView,p=d.localizer,y=p.neq(o,f,"month"),v=p.isSameDate(o,f),x=m(o),w=p.format(o,"dateFormat"),N=e.props.components.dateHeader||kU;return H.createElement("div",Object.assign({},u,{className:Qt(l,y&&"rbc-off-range",v&&"rbc-current"),role:"cell"}),H.createElement(N,{label:w,date:o,drilldownView:x,isOffRange:y,onDrillDown:function(C){return e.handleHeadingClick(o,x,C)}}))},e.handleSelectSlot=function(i,o){e._pendingSelection=e._pendingSelection.concat(i),clearTimeout(e._selectTimer),e._selectTimer=setTimeout(function(){return e.selectDates(o)})},e.handleHeadingClick=function(i,o,l){l.preventDefault(),e.clearSelection(),Ut(e.props.onDrillDown,[i,o])},e.handleSelectEvent=function(){e.clearSelection();for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];Ut(e.props.onSelectEvent,o)},e.handleDoubleClickEvent=function(){e.clearSelection();for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];Ut(e.props.onDoubleClickEvent,o)},e.handleKeyPressEvent=function(){e.clearSelection();for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];Ut(e.props.onKeyPressEvent,o)},e.handleShowMore=function(i,o,l,u,d){var f=e.props,m=f.popup,p=f.onDrillDown,y=f.onShowMore,v=f.getDrilldownView,x=f.doShowMoreDrillDown;if(e.clearSelection(),m){var w=Fx(l,e.containerRef.current);e.setState({overlay:{date:o,events:i,position:w,target:d}})}else x&&Ut(p,[o,v(o)||Xr.DAY]);Ut(y,[i,o,u])},e.overlayDisplay=function(){e.setState({overlay:null})},e.state={rowLimit:5,needLimitMeasure:!0,date:null},e.containerRef=V.createRef(),e.slotRowRef=V.createRef(),e._bgRows=[],e._pendingSelection=[],e}return Tr(t,n),hr(t,[{key:"componentDidMount",value:function(){var r=this,a;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){a||Bx(function(){a=!1,r.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var r=this.props,a=r.date,s=r.localizer,i=r.className,o=s.visibleDays(a,s),l=oP(o,7);return this._weekCount=l.length,H.createElement("div",{className:Qt("rbc-month-view",i),role:"table","aria-label":"Month View",ref:this.containerRef},H.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(l[0])),l.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(r){var a=this.props,s=a.localizer,i=a.components,o=r[0],l=r[r.length-1],u=i.header||y0;return s.range(o,l,"day").map(function(d,f){return H.createElement("div",{key:"header_"+f,className:"rbc-header"},H.createElement(u,{date:d,localizer:s,label:s.format(d,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var r,a,s=this,i=(r=(a=this.state)===null||a===void 0?void 0:a.overlay)!==null&&r!==void 0?r:{},o=this.props,l=o.accessors,u=o.localizer,d=o.components,f=o.getters,m=o.selected,p=o.popupOffset,y=o.handleDragStart,v=function(){return s.setState({overlay:null})};return H.createElement(b0,{overlay:i,accessors:l,localizer:u,components:d,getters:f,selected:m,popupOffset:p,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:y,show:!!i.position,overlayDisplay:this.overlayDisplay,onHide:v})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(r){var a=this._pendingSelection.slice();this._pendingSelection=[],a.sort(function(o,l){return+o-+l});var s=new Date(a[0]),i=new Date(a[a.length-1]);i.setDate(a[a.length-1].getDate()+1),Ut(this.props.onSelectSlot,{slots:a,start:s,end:i,action:r.action,bounds:r.bounds,box:r.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(r,a){var s=r.date,i=r.localizer;return{date:s,needLimitMeasure:i.neq(s,a.date,"month")}}}])}(H.Component);cf.range=function(n,t){var e=t.localizer,r=e.firstVisibleDay(n,e),a=e.lastVisibleDay(n,e);return{start:r,end:a}};cf.navigate=function(n,t,e){var r=e.localizer;switch(t){case yn.PREVIOUS:return r.add(n,-1,"month");case yn.NEXT:return r.add(n,1,"month");default:return n}};cf.title=function(n,t){var e=t.localizer;return e.format(n,"monthHeaderFormat")};var ty=function(t){var e=t.min,r=t.max,a=t.step,s=t.slots,i=t.localizer;return"".concat(+i.startOf(e,"minutes"))+"".concat(+i.startOf(r,"minutes"))+"".concat(a,"-").concat(s)};function x0(n){for(var t=n.min,e=n.max,r=n.step,a=n.timeslots,s=n.localizer,i=ty({start:t,end:e,step:r,timeslots:a,localizer:s}),o=1+s.getTotalMin(t,e),l=s.getMinutesFromMidnight(t),u=Math.ceil((o-1)/(r*a)),d=u*a,f=new Array(u),m=new Array(d),p=0;p<u;p++){f[p]=new Array(a);for(var y=0;y<a;y++){var v=p*a+y,x=v*r;m[v]=f[p][y]=s.getSlotDate(t,l,x)}}var w=m.length*r;m.push(s.getSlotDate(t,l,w));function N(_){var C=s.diff(t,_,"minutes")+s.getDstOffset(t,_);return Math.min(C,o)}return{groups:f,update:function(C){return ty(C)!==i?x0(C):this},dateIsInGroup:function(C,A){var B=f[A+1];return s.inRange(C,f[A][0],B?B[0]:e,"minutes")},nextSlot:function(C){var A=m[Math.min(m.findIndex(function(B){return B===C||s.eq(B,C)})+1,m.length-1)];return s.eq(A,C)&&(A=s.add(C,r,"minutes")),A},closestSlotToPosition:function(C){var A=Math.min(m.length-1,Math.max(0,Math.floor(C*d)));return m[A]},closestSlotFromPoint:function(C,A){var B=Math.abs(A.top-A.bottom);return this.closestSlotToPosition((C.y-A.top)/B)},closestSlotFromDate:function(C){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(s.lt(C,t,"minutes"))return m[0];if(s.gt(C,e,"minutes"))return m[m.length-1];var B=s.diff(t,C,"minutes");return m[(B-B%r)/r+A]},startsBeforeDay:function(C){return s.lt(C,t,"day")},startsAfterDay:function(C){return s.gt(C,e,"day")},startsBefore:function(C){return s.lt(s.merge(t,C),t,"minutes")},startsAfter:function(C){return s.gt(s.merge(e,C),e,"minutes")},getRange:function(C,A,B,D){B||(C=s.min(e,s.max(t,C))),D||(A=s.min(e,s.max(t,A)));var E=N(C),U=N(A),L=U>r*d&&!s.eq(e,A)?(E-r)/(r*d)*100:E/(r*d)*100;return{top:L,height:U/(r*d)*100-L,start:N(C),startDate:C,end:N(A),endDate:A}},getCurrentTimePosition:function(C){var A=N(C),B=A/(r*d)*100;return B}}}var EU=function(){function n(t,e){var r=e.accessors,a=e.slotMetrics;dr(this,n);var s=a.getRange(r.start(t),r.end(t)),i=s.start,o=s.startDate,l=s.end,u=s.endDate,d=s.top,f=s.height;this.start=i,this.end=l,this.startMs=+o,this.endMs=+u,this.top=d,this.height=f,this.data=t}return hr(n,[{key:"_width",get:function(){if(this.rows){var e=this.rows.reduce(function(a,s){return Math.max(a,s.leaves.length+1)},0)+1;return 100/e}if(this.leaves){var r=100-this.container._width;return r/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var e=this._width,r=Math.min(100,this._width*1.7);if(this.rows)return r;if(this.leaves)return this.leaves.length>0?r:e;var a=this.row.leaves,s=a.indexOf(this);return s===a.length-1?e:r}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var e=this.row,r=e.leaves,a=e.xOffset,s=e._width,i=r.indexOf(this)+1;return a+i*s}}])}();function PU(n,t,e){return Math.abs(t.start-n.start)<e||t.start>n.start&&t.start<n.end}function AU(n){for(var t=n$(n,["startMs",function(o){return-o.endMs}]),e=[];t.length>0;){var r=t.shift();e.push(r);for(var a=0;a<t.length;a++){var s=t[a];if(!(r.endMs>s.startMs)){if(a>0){var i=t.splice(a,1)[0];e.push(i)}break}}}return e}function qw(n){for(var t=n.events,e=n.minimumStartDifference,r=n.slotMetrics,a=n.accessors,s=t.map(function(d){return new EU(d,{slotMetrics:r,accessors:a})}),i=AU(s),o=[],l=function(){var f=i[u],m=o.find(function(v){return v.end>f.start||Math.abs(f.start-v.start)<e});if(!m)return f.rows=[],o.push(f),1;f.container=m;for(var p=null,y=m.rows.length-1;!p&&y>=0;y--)PU(m.rows[y],f,e)&&(p=m.rows[y]);p?(p.leaves.push(f),f.row=p):(f.leaves=[],m.rows.push(f))},u=0;u<i.length;u++)l();return i.map(function(d){return{event:d.data,style:{top:d.top,height:d.height,width:d.width,xOffset:Math.max(0,d.xOffset)}}})}function Uw(n,t,e){for(var r=0;r<n.friends.length;++r)if(!(e.indexOf(n.friends[r])>-1)){t=t>n.friends[r].idx?t:n.friends[r].idx,e.push(n.friends[r]);var a=Uw(n.friends[r],t,e);t=t>a?t:a}return t}function LU(n){var t=n.events,e=n.minimumStartDifference,r=n.slotMetrics,a=n.accessors,s=qw({events:t,minimumStartDifference:e,slotMetrics:r,accessors:a});s.sort(function(ee,re){return ee=ee.style,re=re.style,ee.top!==re.top?ee.top>re.top?1:-1:ee.height!==re.height?ee.top+ee.height<re.top+re.height?1:-1:0});for(var i=0;i<s.length;++i)s[i].friends=[],delete s[i].style.left,delete s[i].style.left,delete s[i].idx,delete s[i].size;for(var o=0;o<s.length-1;++o)for(var l=s[o],u=l.style.top,d=l.style.top+l.style.height,f=o+1;f<s.length;++f){var m=s[f],p=m.style.top,y=m.style.top+m.style.height;(p>=u&&y<=d||y>u&&y<=d||p>=u&&p<d)&&(l.friends.push(m),m.friends.push(l))}for(var v=0;v<s.length;++v){for(var x=s[v],w=[],N=0;N<100;++N)w.push(1);for(var _=0;_<x.friends.length;++_)x.friends[_].idx!==void 0&&(w[x.friends[_].idx]=0);x.idx=w.indexOf(1)}for(var C=0;C<s.length;++C){var A=0;if(!s[C].size){var B=[],D=Uw(s[C],0,B);A=100/(D+1),s[C].size=A;for(var E=0;E<B.length;++E)B[E].size=A}}for(var U=0;U<s.length;++U){var L=s[U];L.style.left=L.idx*L.size;for(var k=0,P=0;P<L.friends.length;++P){var F=L.friends[P].idx;k=k>F?k:F}k<=L.idx&&(L.size=100-L.idx*L.size);var I=L.idx===0?0:3;L.style.width="calc(".concat(L.size,"% - ").concat(I,"px)"),L.style.height="calc(".concat(L.style.height,"% - 2px)"),L.style.xOffset="calc(".concat(L.style.left,"% + ").concat(I,"px)")}return s}var ry={overlap:qw,"no-overlap":LU};function OU(n){return!!(n&&n.constructor&&n.call&&n.apply)}function TU(n){n.events,n.minimumStartDifference,n.slotMetrics,n.accessors;var t=n.dayLayoutAlgorithm,e=t;return t in ry&&(e=ry[t]),OU(e)?e.apply(this,arguments):[]}var Vw=function(n){function t(){return dr(this,t),Yr(this,t,arguments)}return Tr(t,n),hr(t,[{key:"render",value:function(){var r=this.props,a=r.renderSlot,s=r.resource,i=r.group,o=r.getters,l=r.components,u=l===void 0?{}:l,d=u.timeSlotWrapper,f=d===void 0?fs:d,m=o?o.slotGroupProp(i):{};return H.createElement("div",Object.assign({className:"rbc-timeslot-group"},m),i.map(function(p,y){var v=o?o.slotProp(p,s):{};return H.createElement(f,{key:y,value:p,resource:s},H.createElement("div",Object.assign({},v,{className:Qt("rbc-time-slot",v.className)}),a&&a(p,y)))}))}}])}(V.Component);function _d(n){return typeof n=="string"?n:n+"%"}function MU(n){var t=n.style,e=n.className,r=n.event,a=n.accessors,s=n.rtl,i=n.selected,o=n.label,l=n.continuesPrior,u=n.continuesAfter,d=n.getters,f=n.onClick,m=n.onDoubleClick,p=n.isBackgroundEvent,y=n.onKeyPress,v=n.components,x=v.event,w=v.eventWrapper,N=a.title(r),_=a.tooltip(r),C=a.end(r),A=a.start(r),B=d.eventProp(r,A,C,i),D=[H.createElement("div",{key:"1",className:"rbc-event-label"},o),H.createElement("div",{key:"2",className:"rbc-event-content"},x?H.createElement(x,{event:r,title:N}):N)],E=t.height,U=t.top,L=t.width,k=t.xOffset,P=Me(Me({},B.style),{},pa({top:_d(U),height:_d(E),width:_d(L)},s?"right":"left",_d(k)));return H.createElement(w,Object.assign({type:"time"},n),H.createElement("div",{role:"button",tabIndex:0,onClick:f,onDoubleClick:m,style:P,onKeyDown:y,title:_?(typeof o=="string"?o+": ":"")+_:void 0,className:Qt(p?"rbc-background-event":"rbc-event",e,B.className,{"rbc-selected":i,"rbc-event-continues-earlier":l,"rbc-event-continues-later":u})},D))}var IU=function(t){var e=t.children,r=t.className,a=t.style,s=t.innerRef;return H.createElement("div",{className:r,style:a,ref:s},e)},RU=H.forwardRef(function(n,t){return H.createElement(IU,Object.assign({},n,{innerRef:t}))}),$U=["dayProp"],FU=["eventContainerWrapper"],zw=function(n){function t(){var e;dr(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=Yr(this,t,[].concat(a)),e.state={selecting:!1,timeIndicatorPosition:null},e.intervalTriggered=!1,e.renderEvents=function(i){var o=i.events,l=i.isBackgroundEvent,u=e.props,d=u.rtl,f=u.selected,m=u.accessors,p=u.localizer,y=u.getters,v=u.components,x=u.step,w=u.timeslots,N=u.dayLayoutAlgorithm,_=u.resizable,C=e,A=C.slotMetrics,B=p.messages,D=TU({events:o,accessors:m,slotMetrics:A,minimumStartDifference:Math.ceil(x*w/2),dayLayoutAlgorithm:N});return D.map(function(E,U){var L,k=E.event,P=E.style,F=m.end(k),I=m.start(k),ee=(L=m.eventId(k))!==null&&L!==void 0?L:"evt_"+U,re="eventTimeRangeFormat",W,Z=A.startsBeforeDay(I),le=A.startsAfterDay(F);Z?re="eventTimeRangeEndFormat":le&&(re="eventTimeRangeStartFormat"),Z&&le?W=B.allDay:W=p.format({start:I,end:F},re);var de=Z||A.startsBefore(I),Ce=le||A.startsAfter(F);return H.createElement(MU,{style:P,event:k,label:W,key:ee,getters:y,rtl:d,components:v,continuesPrior:de,continuesAfter:Ce,accessors:m,resource:e.props.resource,selected:lf(k,f),onClick:function(Y){return e._select(Me(Me(Me({},k),e.props.resource&&{sourceResource:e.props.resource}),l&&{isBackgroundEvent:!0}),Y)},onDoubleClick:function(Y){return e._doubleClick(k,Y)},isBackgroundEvent:l,onKeyPress:function(Y){return e._keyPress(k,Y)},resizable:_})})},e._selectable=function(){var i=e.containerRef.current,o=e.props,l=o.longPressThreshold,u=o.localizer,d=e._selector=new Tw(function(){return i},{longPressThreshold:l}),f=function(v){var x=e.props.onSelecting,w=e.state||{},N=m(v),_=N.startDate,C=N.endDate;x&&(u.eq(w.startDate,_,"minutes")&&u.eq(w.endDate,C,"minutes")||x({start:_,end:C,resourceId:e.props.resource})===!1)||(e.state.start!==N.start||e.state.end!==N.end||e.state.selecting!==N.selecting)&&e.setState(N)},m=function(v){var x=e.slotMetrics.closestSlotFromPoint(v,Hi(i));e.state.selecting||(e._initialSlot=x);var w=e._initialSlot;u.lte(w,x)?x=e.slotMetrics.nextSlot(x):u.gt(w,x)&&(w=e.slotMetrics.nextSlot(w));var N=e.slotMetrics.getRange(u.min(w,x),u.max(w,x));return Me(Me({},N),{},{selecting:!0,top:"".concat(N.top,"%"),height:"".concat(N.height,"%")})},p=function(v,x){if(!xh(e.containerRef.current,v)){var w=m(v),N=w.startDate,_=w.endDate;e._selectSlot({startDate:N,endDate:_,action:x,box:v})}e.setState({selecting:!1})};d.on("selecting",f),d.on("selectStart",f),d.on("beforeSelect",function(y){if(e.props.selectable==="ignoreEvents")return!xh(e.containerRef.current,y)}),d.on("click",function(y){return p(y,"click")}),d.on("doubleClick",function(y){return p(y,"doubleClick")}),d.on("select",function(y){e.state.selecting&&(e._selectSlot(Me(Me({},e.state),{},{action:"select",bounds:y})),e.setState({selecting:!1}))}),d.on("reset",function(){e.state.selecting&&e.setState({selecting:!1})})},e._teardownSelectable=function(){e._selector&&(e._selector.teardown(),e._selector=null)},e._selectSlot=function(i){for(var o=i.startDate,l=i.endDate,u=i.action,d=i.bounds,f=i.box,m=o,p=[];e.props.localizer.lte(m,l);)p.push(m),m=new Date(+m+e.props.step*60*1e3);Ut(e.props.onSelectSlot,{slots:p,start:o,end:l,resourceId:e.props.resource,action:u,bounds:d,box:f})},e._select=function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];Ut(e.props.onSelectEvent,o)},e._doubleClick=function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];Ut(e.props.onDoubleClickEvent,o)},e._keyPress=function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];Ut(e.props.onKeyPressEvent,o)},e.slotMetrics=x0(e.props),e.containerRef=V.createRef(),e}return Tr(t,n),hr(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(r,a){this.props.selectable&&!r.selectable&&this._selectable(),!this.props.selectable&&r.selectable&&this._teardownSelectable();var s=this.props,i=s.getNow,o=s.isNow,l=s.localizer,u=s.date,d=s.min,f=s.max,m=l.neq(r.getNow(),i(),"minutes");if(r.isNow!==o||m){if(this.clearTimeIndicatorInterval(),o){var p=!m&&l.eq(r.date,u,"minutes")&&a.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(p)}}else o&&(l.neq(r.min,d,"minutes")||l.neq(r.max,f,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var r=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!a&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){r.intervalTriggered=!0,r.positionTimeIndicator(),r.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var r=this.props,a=r.min,s=r.max,i=r.getNow,o=i();if(o>=a&&o<=s){var l=this.slotMetrics.getCurrentTimePosition(o);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:l})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var r=this.props,a=r.date,s=r.max,i=r.rtl,o=r.isNow,l=r.resource,u=r.accessors,d=r.localizer,f=r.getters,m=f.dayProp,p=gr(f,$U),y=r.components,v=y.eventContainerWrapper,x=gr(y,FU);this.slotMetrics=this.slotMetrics.update(this.props);var w=this.slotMetrics,N=this.state,_=N.selecting,C=N.top,A=N.height,B=N.startDate,D=N.endDate,E={start:B,end:D},U=m(s,l),L=U.className,k=U.style,P=x.dayColumnWrapper||RU;return H.createElement(P,{ref:this.containerRef,date:a,style:k,className:Qt(L,"rbc-day-slot","rbc-time-column",o&&"rbc-now",o&&"rbc-today",_&&"rbc-slot-selecting"),slotMetrics:w,resource:l},w.groups.map(function(F,I){return H.createElement(Vw,{key:I,group:F,resource:l,getters:p,components:x})}),H.createElement(v,{localizer:d,resource:l,accessors:u,getters:p,components:x,slotMetrics:w},H.createElement("div",{className:Qt("rbc-events-container",i&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),_&&H.createElement("div",{className:"rbc-slot-selection",style:{top:C,height:A}},H.createElement("span",null,d.format(E,"selectRangeFormat"))),o&&this.intervalTriggered&&H.createElement("div",{className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}}))}}])}(H.Component);zw.defaultProps={dragThroughEvents:!0,timeslots:2};var Hw=function(t){var e=t.label;return H.createElement(H.Fragment,null,e)},BU=function(n){function t(){var e;dr(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=Yr(this,t,[].concat(a)),e.handleHeaderClick=function(i,o,l){l.preventDefault(),Ut(e.props.onDrillDown,[i,o])},e.renderRow=function(i){var o=e.props,l=o.events,u=o.rtl,d=o.selectable,f=o.getNow,m=o.range,p=o.getters,y=o.localizer,v=o.accessors,x=o.components,w=o.resizable,N=v.resourceId(i),_=i?l.filter(function(C){return v.resource(C)===N}):l;return H.createElement(Gc,{isAllDay:!0,rtl:u,getNow:f,minRows:2,maxRows:e.props.allDayMaxRows+1,range:m,events:_,resourceId:N,className:"rbc-allday-cell",selectable:d,selected:e.props.selected,components:x,accessors:v,getters:p,localizer:y,onSelect:e.props.onSelectEvent,onShowMore:e.props.onShowMore,onDoubleClick:e.props.onDoubleClickEvent,onKeyPress:e.props.onKeyPressEvent,onSelectSlot:e.props.onSelectSlot,longPressThreshold:e.props.longPressThreshold,resizable:w})},e}return Tr(t,n),hr(t,[{key:"renderHeaderCells",value:function(r){var a=this,s=this.props,i=s.localizer,o=s.getDrilldownView,l=s.getNow,u=s.getters.dayProp,d=s.components.header,f=d===void 0?y0:d,m=l();return r.map(function(p,y){var v=o(p),x=i.format(p,"dayFormat"),w=u(p),N=w.className,_=w.style,C=H.createElement(f,{date:p,label:x,localizer:i});return H.createElement("div",{key:y,style:_,className:Qt("rbc-header",N,i.isSameDate(p,m)&&"rbc-today")},v?H.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(B){return a.handleHeaderClick(p,v,B)}},C):H.createElement("span",null,C))})}},{key:"render",value:function(){var r=this,a=this.props,s=a.width,i=a.rtl,o=a.resources,l=a.range,u=a.events,d=a.getNow,f=a.accessors,m=a.selectable,p=a.components,y=a.getters,v=a.scrollRef,x=a.localizer,w=a.isOverflowing,N=a.components,_=N.timeGutterHeader,C=N.resourceHeader,A=C===void 0?Hw:C,B=a.resizable,D={};w&&(D[i?"marginLeft":"marginRight"]="".concat(Xg()-1,"px"));var E=o.groupEvents(u);return H.createElement("div",{style:D,ref:v,className:Qt("rbc-time-header",w&&"rbc-overflowing")},H.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:s,minWidth:s,maxWidth:s}},_&&H.createElement(_,null)),o.map(function(U,L){var k=Wr(U,2),P=k[0],F=k[1];return H.createElement("div",{className:"rbc-time-header-content",key:P||L},F&&H.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(L)},H.createElement("div",{className:"rbc-header"},H.createElement(A,{index:L,label:f.resourceTitle(F),resource:F}))),H.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(l.length<=1?" rbc-time-header-cell-single-day":"")},r.renderHeaderCells(l)),H.createElement(Gc,{isAllDay:!0,rtl:i,getNow:d,minRows:2,maxRows:r.props.allDayMaxRows+1,range:l,events:E.get(P)||[],resourceId:F&&P,className:"rbc-allday-cell",selectable:m,selected:r.props.selected,components:p,accessors:f,getters:y,localizer:x,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyDown:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:B}))}))}}])}(H.Component),qU=function(n){function t(){var e;dr(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=Yr(this,t,[].concat(a)),e.handleHeaderClick=function(i,o,l){l.preventDefault(),Ut(e.props.onDrillDown,[i,o])},e}return Tr(t,n),hr(t,[{key:"renderHeaderCells",value:function(r){var a=this,s=this.props,i=s.localizer,o=s.getDrilldownView,l=s.getNow,u=s.getters.dayProp,d=s.components,f=d.header,m=f===void 0?y0:f,p=d.resourceHeader,y=p===void 0?Hw:p,v=s.resources,x=s.accessors,w=s.events,N=s.rtl,_=s.selectable,C=s.components,A=s.getters,B=s.resizable,D=l(),E=v.groupEvents(w);return r.map(function(U,L){var k=o(U),P=i.format(U,"dayFormat"),F=u(U),I=F.className,ee=F.style,re=H.createElement(m,{date:U,label:P,localizer:i});return H.createElement("div",{key:L,className:"rbc-time-header-content rbc-resource-grouping"},H.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(r.length<=1?" rbc-time-header-cell-single-day":"")},H.createElement("div",{style:ee,className:Qt("rbc-header",I,i.isSameDate(U,D)&&"rbc-today")},k?H.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(Z){return a.handleHeaderClick(U,k,Z)}},re):H.createElement("span",null,re))),H.createElement("div",{className:"rbc-row"},v.map(function(W,Z){var le=Wr(W,2),de=le[0],Ce=le[1];return H.createElement("div",{key:"resource_".concat(de,"_").concat(Z),className:Qt("rbc-header",I,i.isSameDate(U,D)&&"rbc-today")},H.createElement(y,{index:Z,label:x.resourceTitle(Ce),resource:Ce}))})),H.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},v.map(function(W,Z){var le=Wr(W,2),de=le[0],Ce=le[1],M=(E.get(de)||[]).filter(function(Y){return i.isSameDate(Y.start,U)||i.isSameDate(Y.end,U)});return H.createElement(Gc,{key:"resource_".concat(de,"_").concat(Z),isAllDay:!0,rtl:N,getNow:l,minRows:2,maxRows:a.props.allDayMaxRows+1,range:[U],events:M,resourceId:Ce&&de,className:"rbc-allday-cell",selectable:_,selected:a.props.selected,components:C,accessors:x,getters:A,localizer:i,onSelect:a.props.onSelectEvent,onShowMore:a.props.onShowMore,onDoubleClick:a.props.onDoubleClickEvent,onKeyDown:a.props.onKeyPressEvent,onSelectSlot:a.props.onSelectSlot,longPressThreshold:a.props.longPressThreshold,resizable:B})})))})}},{key:"render",value:function(){var r=this.props,a=r.width,s=r.rtl,i=r.range,o=r.scrollRef,l=r.isOverflowing,u=r.components.timeGutterHeader,d={};return l&&(d[s?"marginLeft":"marginRight"]="".concat(Xg()-1,"px")),H.createElement("div",{style:d,ref:o,className:Qt("rbc-time-header",l&&"rbc-overflowing")},H.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:a,minWidth:a,maxWidth:a}},u&&H.createElement(u,null)),this.renderHeaderCells(i))}}])}(H.Component);function UU(n){var t=n.min,e=n.max,r=n.localizer;return r.getTimezoneOffset(t)!==r.getTimezoneOffset(e)?{start:r.add(t,-1,"day"),end:r.add(e,-1,"day")}:{start:t,end:e}}var VU=function(t){var e=t.min,r=t.max,a=t.timeslots,s=t.step,i=t.localizer,o=t.getNow,l=t.resource,u=t.components,d=t.getters,f=t.gutterRef,m=u.timeGutterWrapper,p=V.useMemo(function(){return UU({min:e,max:r,localizer:i})},[e==null?void 0:e.toISOString(),r==null?void 0:r.toISOString(),i]),y=p.start,v=p.end,x=V.useState(x0({min:y,max:v,timeslots:a,step:s,localizer:i})),w=Wr(x,2),N=w[0],_=w[1];V.useEffect(function(){N&&_(N.update({min:y,max:v,timeslots:a,step:s,localizer:i}))},[y==null?void 0:y.toISOString(),v==null?void 0:v.toISOString(),a,s]);var C=V.useCallback(function(A,B){if(B)return null;var D=N.dateIsInGroup(o(),B);return H.createElement("span",{className:Qt("rbc-label",D&&"rbc-now")},i.format(A,"timeGutterFormat"))},[N,i,o]);return H.createElement(m,{slotMetrics:N},H.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:f},N.groups.map(function(A,B){return H.createElement(Vw,{key:B,group:A,resource:l,components:u,renderSlot:C,getters:d})})))},zU=H.forwardRef(function(n,t){return H.createElement(VU,Object.assign({gutterRef:t},n))}),Jp={};function HU(n,t){return{map:function(r){return n?n.map(function(a,s){return r([t.resourceId(a),a],s)}):[r([Jp,null],0)]},groupEvents:function(r){var a=new Map;return n?(r.forEach(function(s){var i=t.resource(s)||Jp;if(Array.isArray(i))i.forEach(function(l){var u=a.get(l)||[];u.push(s),a.set(l,u)});else{var o=a.get(i)||[];o.push(s),a.set(i,o)}}),a):(a.set(Jp,r),a)}}}var jl=function(n){function t(e){var r;return dr(this,t),r=Yr(this,t,[e]),r.handleScroll=function(a){r.scrollRef.current&&(r.scrollRef.current.scrollLeft=a.target.scrollLeft)},r.handleResize=function(){q1(r.rafHandle),r.rafHandle=Bx(r.checkOverflow)},r.handleKeyPressEvent=function(){r.clearSelection();for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];Ut(r.props.onKeyPressEvent,s)},r.handleSelectEvent=function(){r.clearSelection();for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];Ut(r.props.onSelectEvent,s)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];Ut(r.props.onDoubleClickEvent,s)},r.handleShowMore=function(a,s,i,o,l){var u=r.props,d=u.popup,f=u.onDrillDown,m=u.onShowMore,p=u.getDrilldownView,y=u.doShowMoreDrillDown;if(r.clearSelection(),d){var v=Fx(i,r.containerRef.current);r.setState({overlay:{date:s,events:a,position:Me(Me({},v),{},{width:"200px"}),target:l}})}else y&&Ut(f,[s,p(s)||Xr.DAY]);Ut(m,[a,s,o])},r.handleSelectAllDaySlot=function(a,s){var i=r.props.onSelectSlot,o=new Date(a[0]),l=new Date(a[a.length-1]);l.setDate(a[a.length-1].getDate()+1),Ut(i,{slots:a,start:o,end:l,action:s.action,resourceId:s.resourceId})},r.overlayDisplay=function(){r.setState({overlay:null})},r.checkOverflow=function(){if(!r._updatingOverflow){var a=r.contentRef.current;if(a!=null&&a.scrollHeight){var s=a.scrollHeight>a.clientHeight;r.state.isOverflowing!==s&&(r._updatingOverflow=!0,r.setState({isOverflowing:s},function(){r._updatingOverflow=!1}))}}},r.memoizedResources=h0(function(a,s){return HU(a,s)}),r.state={gutterWidth:void 0,isOverflowing:null},r.scrollRef=H.createRef(),r.contentRef=H.createRef(),r.containerRef=H.createRef(),r._scrollRatio=null,r.gutterRef=V.createRef(),r}return Tr(t,n),hr(t,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),q1(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(r,a,s,i,o,l,u,d,f,m){var p=this.props,y=p.min,v=p.max,x=(i.get(a)||[]).filter(function(N){return l.inRange(r,u.start(N),u.end(N),"day")}),w=(o.get(a)||[]).filter(function(N){return l.inRange(r,u.start(N),u.end(N),"day")});return H.createElement(zw,Object.assign({},this.props,{localizer:l,min:l.merge(r,y),max:l.merge(r,v),resource:s&&a,components:d,isNow:l.isSameDate(r,m),key:"".concat(a,"-").concat(r),date:r,events:x,backgroundEvents:w,dayLayoutAlgorithm:f}))}},{key:"renderResourcesFirst",value:function(r,a,s,i,o,l,u,d,f){var m=this;return a.map(function(p){var y=Wr(p,2),v=y[0],x=y[1];return r.map(function(w){return m.renderDayColumn(w,v,x,s,i,o,l,d,f,u)})})}},{key:"renderRangeFirst",value:function(r,a,s,i,o,l,u,d,f){var m=this;return r.map(function(p){return H.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:p},a.map(function(y){var v=Wr(y,2),x=v[0],w=v[1];return H.createElement("div",{style:{flex:1},key:l.resourceId(w)},m.renderDayColumn(p,x,w,s,i,o,l,d,f,u))}))})}},{key:"renderEvents",value:function(r,a,s,i){var o=this.props,l=o.accessors,u=o.localizer,d=o.resourceGroupingLayout,f=o.components,m=o.dayLayoutAlgorithm,p=this.memoizedResources(this.props.resources,l),y=p.groupEvents(a),v=p.groupEvents(s);return d?this.renderRangeFirst(r,p,y,v,u,l,i,f,m):this.renderResourcesFirst(r,p,y,v,u,l,i,f,m)}},{key:"render",value:function(){var r,a=this.props,s=a.events,i=a.backgroundEvents,o=a.range,l=a.width,u=a.rtl,d=a.selected,f=a.getNow,m=a.resources,p=a.components,y=a.accessors,v=a.getters,x=a.localizer,w=a.min,N=a.max,_=a.showMultiDayTimes,C=a.longPressThreshold,A=a.resizable,B=a.resourceGroupingLayout;l=l||this.state.gutterWidth;var D=o[0],E=o[o.length-1];this.slots=o.length;var U=[],L=[],k=[];s.forEach(function(F){if(Yc(F,D,E,y,x)){var I=y.start(F),ee=y.end(F);y.allDay(F)||x.startAndEndAreDateOnly(I,ee)||!_&&!x.isSameDate(I,ee)?U.push(F):L.push(F)}}),i.forEach(function(F){Yc(F,D,E,y,x)&&k.push(F)}),U.sort(function(F,I){return ng(F,I,y,x)});var P={range:o,events:U,width:l,rtl:u,getNow:f,localizer:x,selected:d,allDayMaxRows:this.props.showAllEvents?1/0:(r=this.props.allDayMaxRows)!==null&&r!==void 0?r:1/0,resources:this.memoizedResources(m,y),selectable:this.props.selectable,accessors:y,getters:v,components:p,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:C,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:A};return H.createElement("div",{className:Qt("rbc-time-view",m&&"rbc-time-view-resources"),ref:this.containerRef},m&&m.length>1&&B?H.createElement(qU,P):H.createElement(BU,P),this.props.popup&&this.renderOverlay(),H.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},H.createElement(zU,{date:D,ref:this.gutterRef,localizer:x,min:x.merge(D,w),max:x.merge(D,N),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:p,className:"rbc-time-gutter",getters:v}),this.renderEvents(o,L,k,f())))}},{key:"renderOverlay",value:function(){var r,a,s=this,i=(r=(a=this.state)===null||a===void 0?void 0:a.overlay)!==null&&r!==void 0?r:{},o=this.props,l=o.accessors,u=o.localizer,d=o.components,f=o.getters,m=o.selected,p=o.popupOffset,y=o.handleDragStart,v=function(){return s.setState({overlay:null})};return H.createElement(b0,{overlay:i,accessors:l,localizer:u,components:d,getters:f,selected:m,popupOffset:p,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:y,show:!!i.position,overlayDisplay:this.overlayDisplay,onHide:v})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var r=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var a,s=(a=r.gutterRef)!==null&&a!==void 0&&a.current?tg(r.gutterRef.current):void 0;s&&r.state.gutterWidth!==s&&r.setState({gutterWidth:s})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var r=this.contentRef.current;r.scrollTop=r.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=r.min,s=r.max,i=r.scrollToTime,o=r.localizer,l=o.diff(o.merge(i,a),i,"milliseconds"),u=o.diff(a,s,"milliseconds");this._scrollRatio=l/u}}])}(V.Component);jl.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var WU=["date","localizer","min","max","scrollToTime","enableAutoScroll"],uf=function(n){function t(){return dr(this,t),Yr(this,t,arguments)}return Tr(t,n),hr(t,[{key:"render",value:function(){var r=this.props,a=r.date,s=r.localizer,i=r.min,o=i===void 0?s.startOf(new Date,"day"):i,l=r.max,u=l===void 0?s.endOf(new Date,"day"):l,d=r.scrollToTime,f=d===void 0?s.startOf(new Date,"day"):d,m=r.enableAutoScroll,p=m===void 0?!0:m,y=gr(r,WU),v=t.range(a,{localizer:s});return H.createElement(jl,Object.assign({},y,{range:v,eventOffset:10,localizer:s,min:o,max:u,scrollToTime:f,enableAutoScroll:p}))}}])}(H.Component);uf.range=function(n,t){var e=t.localizer;return[e.startOf(n,"day")]};uf.navigate=function(n,t,e){var r=e.localizer;switch(t){case yn.PREVIOUS:return r.add(n,-1,"day");case yn.NEXT:return r.add(n,1,"day");default:return n}};uf.title=function(n,t){var e=t.localizer;return e.format(n,"dayHeaderFormat")};var YU=["date","localizer","min","max","scrollToTime","enableAutoScroll"],ei=function(n){function t(){return dr(this,t),Yr(this,t,arguments)}return Tr(t,n),hr(t,[{key:"render",value:function(){var r=this.props,a=r.date,s=r.localizer,i=r.min,o=i===void 0?s.startOf(new Date,"day"):i,l=r.max,u=l===void 0?s.endOf(new Date,"day"):l,d=r.scrollToTime,f=d===void 0?s.startOf(new Date,"day"):d,m=r.enableAutoScroll,p=m===void 0?!0:m,y=gr(r,YU),v=t.range(a,this.props);return H.createElement(jl,Object.assign({},y,{range:v,eventOffset:15,localizer:s,min:o,max:u,scrollToTime:f,enableAutoScroll:p}))}}])}(H.Component);ei.defaultProps=jl.defaultProps;ei.navigate=function(n,t,e){var r=e.localizer;switch(t){case yn.PREVIOUS:return r.add(n,-1,"week");case yn.NEXT:return r.add(n,1,"week");default:return n}};ei.range=function(n,t){var e=t.localizer,r=e.startOfWeek(),a=e.startOf(n,"week",r),s=e.endOf(n,"week",r);return e.range(a,s)};ei.title=function(n,t){var e=t.localizer,r=ei.range(n,{localizer:e}),a=vw(r),s=a[0],i=a.slice(1);return e.format({start:s,end:i.pop()},"dayRangeHeaderFormat")};var GU=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function w0(n,t){return ei.range(n,t).filter(function(e){return[6,0].indexOf(e.getDay())===-1})}var pu=function(n){function t(){return dr(this,t),Yr(this,t,arguments)}return Tr(t,n),hr(t,[{key:"render",value:function(){var r=this.props,a=r.date,s=r.localizer,i=r.min,o=i===void 0?s.startOf(new Date,"day"):i,l=r.max,u=l===void 0?s.endOf(new Date,"day"):l,d=r.scrollToTime,f=d===void 0?s.startOf(new Date,"day"):d,m=r.enableAutoScroll,p=m===void 0?!0:m,y=gr(r,GU),v=w0(a,this.props);return H.createElement(jl,Object.assign({},y,{range:v,eventOffset:15,localizer:s,min:o,max:u,scrollToTime:f,enableAutoScroll:p}))}}])}(H.Component);pu.defaultProps=jl.defaultProps;pu.range=w0;pu.navigate=ei.navigate;pu.title=function(n,t){var e=t.localizer,r=w0(n,{localizer:e}),a=vw(r),s=a[0],i=a.slice(1);return e.format({start:s,end:i.pop()},"dayRangeHeaderFormat")};var df=30;function hf(n){var t=n.accessors,e=n.components,r=n.date,a=n.events,s=n.getters,i=n.length,o=i===void 0?df:i,l=n.localizer,u=n.onDoubleClickEvent,d=n.onSelectEvent,f=n.selected,m=V.useRef(null),p=V.useRef(null),y=V.useRef(null),v=V.useRef(null),x=V.useRef(null);V.useEffect(function(){_()});var w=function(E,U,L){var k=e.event,P=e.date;return U=U.filter(function(F){return Yc(F,l.startOf(E,"day"),l.endOf(E,"day"),t,l)}),U.map(function(F,I){var ee=t.title(F),re=t.end(F),W=t.start(F),Z=s.eventProp(F,W,re,lf(F,f)),le=I===0&&l.format(E,"agendaDateFormat"),de=I===0?H.createElement("td",{rowSpan:U.length,className:"rbc-agenda-date-cell"},P?H.createElement(P,{day:E,label:le}):le):!1;return H.createElement("tr",{key:L+"_"+I,className:Z.className,style:Z.style},de,H.createElement("td",{className:"rbc-agenda-time-cell"},N(E,F)),H.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(M){return d&&d(F,M)},onDoubleClick:function(M){return u&&u(F,M)}},k?H.createElement(k,{event:F,title:ee}):ee))},[])},N=function(E,U){var L="",k=e.time,P=l.messages.allDay,F=t.end(U),I=t.start(U);return t.allDay(U)||(l.eq(I,F)?P=l.format(I,"agendaTimeFormat"):l.isSameDate(I,F)?P=l.format({start:I,end:F},"agendaTimeRangeFormat"):l.isSameDate(E,I)?P=l.format(I,"agendaTimeFormat"):l.isSameDate(E,F)&&(P=l.format(F,"agendaTimeFormat"))),l.gt(E,I,"day")&&(L="rbc-continues-prior"),l.lt(E,F,"day")&&(L+=" rbc-continues-after"),H.createElement("span",{className:L.trim()},k?H.createElement(k,{event:U,day:E,label:P}):P)},_=function(){if(x.current){var E=m.current,U=x.current.firstChild;if(U){var L=v.current.scrollHeight>v.current.clientHeight,k=[],P=k;k=[tg(U.children[0]),tg(U.children[1])],(P[0]!==k[0]||P[1]!==k[1])&&(p.current.style.width=k[0]+"px",y.current.style.width=k[1]+"px"),L?(GA(E,"rbc-header-overflowing"),E.style.marginRight=Xg()+"px"):KA(E,"rbc-header-overflowing")}}},C=l.messages,A=l.add(r,o,"day"),B=l.range(r,A,"day");return a=a.filter(function(D){return Yc(D,l.startOf(r,"day"),l.endOf(A,"day"),t,l)}),a.sort(function(D,E){return+t.start(D)-+t.start(E)}),H.createElement("div",{className:"rbc-agenda-view"},a.length!==0?H.createElement(H.Fragment,null,H.createElement("table",{ref:m,className:"rbc-agenda-table"},H.createElement("thead",null,H.createElement("tr",null,H.createElement("th",{className:"rbc-header",ref:p},C.date),H.createElement("th",{className:"rbc-header",ref:y},C.time),H.createElement("th",{className:"rbc-header"},C.event)))),H.createElement("div",{className:"rbc-agenda-content",ref:v},H.createElement("table",{className:"rbc-agenda-table"},H.createElement("tbody",{ref:x},B.map(function(D,E){return w(D,a,E)}))))):H.createElement("span",{className:"rbc-agenda-empty"},C.noEventsInRange))}hf.range=function(n,t){var e=t.length,r=e===void 0?df:e,a=t.localizer,s=a.add(n,r,"day");return{start:n,end:s}};hf.navigate=function(n,t,e){var r=e.length,a=r===void 0?df:r,s=e.localizer;switch(t){case yn.PREVIOUS:return s.add(n,-a,"day");case yn.NEXT:return s.add(n,a,"day");default:return n}};hf.title=function(n,t){var e=t.length,r=e===void 0?df:e,a=t.localizer,s=a.add(n,r,"day");return a.format({start:n,end:s},"agendaHeaderFormat")};var zd=pa(pa(pa(pa(pa({},Xr.MONTH,cf),Xr.WEEK,ei),Xr.WORK_WEEK,pu),Xr.DAY,uf),Xr.AGENDA,hf),KU=["action","date","today"];function JU(n,t){var e=t.action,r=t.date,a=t.today,s=gr(t,KU);switch(n=typeof n=="string"?zd[n]:n,e){case yn.TODAY:r=a||new Date;break;case yn.DATE:break;default:Mc(n&&typeof n.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),r=n.navigate(r,e,s)}return r}function XU(n,t){var e=null;return typeof t=="function"?e=t(n):typeof t=="string"&&pt(n)==="object"&&n!=null&&t in n&&(e=n[t]),e}var ds=function(t){return function(e){return XU(e,t)}},QU=["view","date","getNow","onNavigate"],ZU=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function Ww(n){if(Array.isArray(n))return n;for(var t=[],e=0,r=Object.entries(n);e<r.length;e++){var a=Wr(r[e],2),s=a[0],i=a[1];i&&t.push(s)}return t}function eV(n,t){var e=t.views,r=Ww(e);return r.indexOf(n)!==-1}var Yw=function(n){function t(){var e;dr(this,t);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return e=Yr(this,t,[].concat(a)),e.getViews=function(){var i=e.props.views;return Array.isArray(i)?Aq(i,function(o,l){return o[l]=zd[l]},{}):pt(i)==="object"?A$(i,function(o,l){return o===!0?zd[l]:o}):zd},e.getView=function(){var i=e.getViews();return i[e.props.view]},e.getDrilldownView=function(i){var o=e.props,l=o.view,u=o.drilldownView,d=o.getDrilldownView;return d?d(i,l,Object.keys(e.getViews())):u},e.handleRangeChange=function(i,o,l){var u=e.props,d=u.onRangeChange,f=u.localizer;d&&o.range&&d(o.range(i,{localizer:f}),l)},e.handleNavigate=function(i,o){var l=e.props,u=l.view,d=l.date,f=l.getNow,m=l.onNavigate,p=gr(l,QU),y=e.getView(),v=f();d=JU(y,Me(Me({},p),{},{action:i,date:o||d||v,today:v})),m(d,u,i),e.handleRangeChange(d,y)},e.handleViewChange=function(i){i!==e.props.view&&eV(i,e.props)&&e.props.onView(i);var o=e.getViews();e.handleRangeChange(e.props.date||e.props.getNow(),o[i],i)},e.handleSelectEvent=function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];Ut(e.props.onSelectEvent,o)},e.handleDoubleClickEvent=function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];Ut(e.props.onDoubleClickEvent,o)},e.handleKeyPressEvent=function(){for(var i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];Ut(e.props.onKeyPressEvent,o)},e.handleSelectSlot=function(i){Ut(e.props.onSelectSlot,i)},e.handleDrillDown=function(i,o){var l=e.props.onDrillDown;if(l){l(i,o,e.drilldownView);return}o&&e.handleViewChange(o),e.handleNavigate(yn.DATE,i)},e.state={context:t.getContext(e.props)},e}return Tr(t,n),hr(t,[{key:"render",value:function(){var r=this.props,a=r.view,s=r.toolbar,i=r.events,o=r.backgroundEvents,l=r.resourceGroupingLayout,u=r.style,d=r.className,f=r.elementProps,m=r.date,p=r.getNow,y=r.length,v=r.showMultiDayTimes,x=r.onShowMore,w=r.doShowMoreDrillDown;r.components,r.formats,r.messages,r.culture;var N=gr(r,ZU);m=m||p();var _=this.getView(),C=this.state.context,A=C.accessors,B=C.components,D=C.getters,E=C.localizer,U=C.viewNames,L=B.toolbar||nU,k=_.title(m,{localizer:E,length:y});return H.createElement("div",Object.assign({},f,{className:Qt(d,"rbc-calendar",N.rtl&&"rbc-rtl"),style:u}),s&&H.createElement(L,{date:m,view:a,views:U,label:k,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:E}),H.createElement(_,Object.assign({},N,{events:i,backgroundEvents:o,date:m,getNow:p,length:y,localizer:E,getters:D,components:B,accessors:A,showMultiDayTimes:v,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:x,doShowMoreDrillDown:w,resourceGroupingLayout:l})))}}],[{key:"getDerivedStateFromProps",value:function(r){return{context:t.getContext(r)}}},{key:"getContext",value:function(r){var a=r.startAccessor,s=r.endAccessor,i=r.allDayAccessor,o=r.tooltipAccessor,l=r.titleAccessor,u=r.resourceAccessor,d=r.resourceIdAccessor,f=r.resourceTitleAccessor,m=r.eventIdAccessor,p=r.eventPropGetter,y=r.backgroundEventPropGetter,v=r.slotPropGetter,x=r.slotGroupPropGetter,w=r.dayPropGetter,N=r.view,_=r.views,C=r.localizer,A=r.culture,B=r.messages,D=B===void 0?{}:B,E=r.components,U=E===void 0?{}:E,L=r.formats,k=L===void 0?{}:L,P=Ww(_),F=sU(D);return{viewNames:P,localizer:rU(C,A,k,F),getters:{eventProp:function(){return p&&p.apply(void 0,arguments)||{}},backgroundEventProp:function(){return y&&y.apply(void 0,arguments)||{}},slotProp:function(){return v&&v.apply(void 0,arguments)||{}},slotGroupProp:function(){return x&&x.apply(void 0,arguments)||{}},dayProp:function(){return w&&w.apply(void 0,arguments)||{}}},components:_$(U[N]||{},bq(U,P),{eventWrapper:fs,backgroundEventWrapper:fs,eventContainerWrapper:fs,dateCellWrapper:fs,weekWrapper:fs,timeSlotWrapper:fs,timeGutterWrapper:fs}),accessors:{start:ds(a),end:ds(s),allDay:ds(i),tooltip:ds(o),title:ds(l),resource:ds(u),resourceId:ds(d),resourceTitle:ds(f),eventId:ds(m)}}}}])}(H.Component);Yw.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:Xr.MONTH,views:[Xr.MONTH,Xr.WEEK,Xr.DAY,Xr.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:Xr.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var tV=Sx(Yw,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),rV=function(t,e,r){var a=t.start,s=t.end;return"".concat(r.format(a,"P",e),"  ").concat(r.format(s,"P",e))},Xp=function(t,e,r){var a=t.start,s=t.end;return"".concat(r.format(a,"p",e),"  ").concat(r.format(s,"p",e))},nV=function(t,e,r){var a=t.start;return"".concat(r.format(a,"h:mma",e),"  ")},aV=function(t,e,r){var a=t.end;return"  ".concat(r.format(a,"h:mma",e))},sV=function(t,e,r){var a=t.start,s=t.end;return"".concat(r.format(a,"MMMM dd",e),"  ").concat(r.format(s,ml(a,s,"month")?"dd":"MMMM dd",e))},iV={dateFormat:"dd",dayFormat:"dd eee",weekdayFormat:"ccc",selectRangeFormat:Xp,eventTimeRangeFormat:Xp,eventTimeRangeStartFormat:nV,eventTimeRangeEndFormat:aV,timeGutterFormat:"p",monthHeaderFormat:"MMMM yyyy",dayHeaderFormat:"cccc MMM dd",dayRangeHeaderFormat:sV,agendaHeaderFormat:rV,agendaDateFormat:"ccc MMM dd",agendaTimeFormat:"p",agendaTimeRangeFormat:Xp},oV=function(t){var e=t.startOfWeek,r=t.getDay,a=t.format,s=t.locales;return new tU({formats:iV,firstOfWeek:function(o){return r(e(new Date,{locale:s[o]}))},format:function(o,l,u){return a(new Date(o),l,{locale:s[u]})}})};const lV={"pt-BR":Ci},cV=oV({format:Ra,parse:Ed,startOfWeek:Py,getDay:ky,locales:lV});function Gw({vendorId:n,onEventSelect:t}){const[e,r]=V.useState(null),[a,s]=V.useState(!1),{visits:i,getVisitsByVendor:o,syncWithSupabase:l}=Ri();V.useEffect(()=>{l()},[l]);const d=(n?i.filter(p=>p.vendorId===n):i).map(p=>({id:p.id,title:`${p.clientName}`,start:new Date(p.scheduledDate),end:new Date(new Date(p.scheduledDate).getTime()+60*60*1e3),visit:p})),f=p=>{p.visit&&(r(p.visit),s(!0)),t&&t(p)},m=()=>({style:{backgroundColor:"#3b82f6",color:"white",border:"none",borderRadius:"4px",fontSize:"12px",padding:"2px 4px"}});return c.jsxs("div",{className:"h-[600px] bg-white rounded-lg shadow-md p-4",children:[c.jsx(tV,{localizer:cV,events:d,startAccessor:"start",endAccessor:"end",culture:"pt-BR",onSelectEvent:f,eventPropGetter:m,messages:{next:"Prximo",previous:"Anterior",today:"Hoje",month:"Ms",week:"Semana",day:"Dia",agenda:"Agenda",date:"Data",time:"Hora",event:"Evento",noEventsInRange:"No h eventos neste perodo."}}),c.jsx(en,{open:a,onOpenChange:s,children:c.jsxs(tn,{children:[c.jsx(rn,{className:"fixed inset-0 bg-black/50"}),c.jsxs(nn,{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white rounded-lg p-6 w-[90vw] max-w-[500px]",children:[c.jsx(an,{className:"text-xl font-semibold mb-4",children:"Detalhes da Visita"}),e&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between border-b pb-4",children:[c.jsx("h3",{className:"text-lg font-medium",children:e.clientName}),c.jsx("span",{className:"px-2 py-1 rounded-full text-sm bg-blue-100 text-blue-800",children:e.status==="scheduled"?"Agendada":e.status==="in_negotiation"?"Em Negociao":e.status==="completed_purchase"?"Venda Realizada":e.status==="completed_no_purchase"?"Sem Venda":e.status})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center text-gray-600",children:[c.jsx(u2,{className:"w-5 h-5 mr-2"}),c.jsx("span",{children:e.location})]}),e.notes&&c.jsxs("div",{className:"text-gray-600",children:[c.jsx("strong",{children:"Observaes:"})," ",e.notes]})]}),c.jsxs("div",{className:"mt-6 bg-gray-50 rounded-lg p-4",children:[c.jsx("h4",{className:"font-medium mb-2",children:"Detalhes da Visita"}),c.jsxs("p",{className:"text-gray-600",children:["Data: ",Ra(new Date(e.scheduledDate),"dd/MM/yyyy 's' HH:mm",{locale:Ci})]})]}),c.jsx("div",{className:"mt-6 flex justify-end",children:c.jsx("button",{onClick:()=>s(!1),className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200",children:"Fechar"})})]}),c.jsx(sn,{className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:c.jsx(Lr,{size:20})})]})]})})]})}function uV(){const{profile:n,signOut:t}=Jn(),e=on(),[r,a]=V.useState(!1),[s,i]=V.useState(!1),[o,l]=V.useState(!1),[u,d]=V.useState(!1),[f,m]=V.useState(),[p,y]=V.useState("dashboard"),v=ri(I=>I.products),x=Ii(I=>I.services),w=Hn(I=>I.getClientsByVendor((n==null?void 0:n.id)||"")),N=Ri(I=>I.getVisitsByVendor((n==null?void 0:n.id)||"")),_=w.reduce((I,ee)=>I+ee.totalValue,0),C=_*.1,A=C*.7,B=C-A,D=async()=>{await t(),e("/login")},E=I=>{y(I)},U=I=>{m(I),i(!0)},k=(I=>I>=1e5?{level:"Diamante",color:"text-blue-600"}:I>=5e4?{level:"Ouro",color:"text-yellow-600"}:I>=25e3?{level:"Prata",color:"text-gray-600"}:{level:"Bronze",color:"text-orange-600"})(_),P=N.reduce((I,ee)=>(I[ee.status]=(I[ee.status]||0)+1,I),{}),F=[{icon:Mi,label:"Produtos",color:"bg-emerald-500 hover:bg-emerald-600",onClick:()=>E("products"),gradient:"from-emerald-500 to-emerald-600"},{icon:Ec,label:"Servios",color:"bg-blue-500 hover:bg-blue-600",onClick:()=>E("services"),gradient:"from-blue-500 to-blue-600"},{icon:vg,label:"Clientes",color:"bg-purple-500 hover:bg-purple-600",onClick:()=>a(!0),gradient:"from-purple-500 to-purple-600"},{icon:eu,label:"Agenda",color:"bg-pink-500 hover:bg-pink-600",onClick:()=>E("calendar"),gradient:"from-pink-500 to-pink-600"},{icon:Xo,label:"Nova Visita",color:"bg-yellow-500 hover:bg-yellow-600",onClick:()=>i(!0),gradient:"from-yellow-500 to-yellow-600"},{icon:Sm,label:"Manuteno",color:"bg-red-500 hover:bg-red-600",onClick:()=>d(!0),gradient:"from-red-500 to-red-600"},{icon:Qo,label:"Vendas",color:"bg-green-500 hover:bg-green-600",onClick:()=>l(!0),gradient:"from-green-500 to-green-600"},{icon:wc,label:"Oramentos",color:"bg-teal-500 hover:bg-teal-600",onClick:()=>e("/vendor/quotations"),gradient:"from-teal-500 to-teal-600"},{icon:i2,label:"Relatrios",color:"bg-indigo-500 hover:bg-indigo-600",onClick:()=>E("reports"),gradient:"from-indigo-500 to-indigo-600"}];return p!=="dashboard"?c.jsxs("div",{className:"min-h-screen bg-gray-50",children:[c.jsx("div",{className:"bg-white shadow-md",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("button",{onClick:()=>y("dashboard"),className:"text-cyan-600 hover:text-cyan-800 font-medium",children:" Voltar ao Dashboard"}),c.jsx("div",{className:"w-16 h-16 flex items-center justify-center",children:c.jsx(th,{})}),c.jsxs("h1",{className:"text-xl font-semibold text-cyan-600",children:[p==="products"&&"Produtos Disponveis",p==="services"&&"Servios Disponveis",p==="reports"&&"Relatrios",p==="calendar"&&"Agenda",p==="maintenance"&&"Agendamento de Manuteno"]})]}),c.jsxs("button",{onClick:D,className:"flex items-center px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700",children:[c.jsx(ym,{className:"w-4 h-4 mr-2"}),"Sair"]})]})})}),c.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[p==="calendar"&&c.jsx(Gw,{vendorId:n==null?void 0:n.id,onEventSelect:U}),p==="products"&&c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:v.map(I=>c.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[I.imageUrl?c.jsx("img",{src:I.imageUrl,alt:I.name,className:"w-full h-48 object-cover",style:{aspectRatio:"4/5"},onError:ee=>{ee.currentTarget.style.display="none";const re=ee.currentTarget.nextElementSibling;re&&(re.style.display="flex")}}):null,c.jsx("div",{className:"w-full h-48 bg-gray-200 flex items-center justify-center",style:{aspectRatio:"4/5",display:I.imageUrl?"none":"flex"},children:c.jsx(Mi,{className:"h-12 w-12 text-gray-400"})}),c.jsxs("div",{className:"p-4",children:[c.jsx("h4",{className:"font-medium text-gray-900",children:I.name}),c.jsx("p",{className:"text-gray-600 text-sm mt-1 line-clamp-2",children:I.description}),c.jsx("div",{className:"mt-2",children:c.jsxs("span",{className:"text-sm text-gray-500",children:["Cdigo: ",I.code]})}),c.jsxs("div",{className:"mt-2 flex flex-wrap gap-1",children:[I.colors.slice(0,2).map((ee,re)=>c.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded-full text-xs text-gray-600",children:ee},re)),I.colors.length>2&&c.jsxs("span",{className:"px-2 py-1 bg-gray-100 rounded-full text-xs text-gray-600",children:["+",I.colors.length-2]})]}),c.jsx("p",{className:"mt-3 text-lg font-semibold text-emerald-600",children:bt(I.price)})]})]},I.id))}),p==="services"&&c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(I=>c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow",children:[c.jsx("h4",{className:"font-medium text-gray-900",children:I.name}),c.jsx("p",{className:"text-gray-600 text-sm mt-2",children:I.description}),c.jsx("p",{className:"mt-4 text-lg font-semibold text-blue-600",children:bt(I.price)})]},I.id))}),p==="reports"&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Status das Visitas"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-600",children:"Agendadas"}),c.jsx("p",{className:"text-2xl font-bold text-green-600",children:P.scheduled||0})]}),c.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-600",children:"Em Negociao"}),c.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:P.in_negotiation||0})]}),c.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-600",children:"Finalizadas com Sucesso"}),c.jsx("p",{className:"text-2xl font-bold text-blue-600",children:P.completed_purchase||0})]})]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Relatrio Financeiro"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-600",children:"Total em Vendas"}),c.jsx("p",{className:"text-2xl font-bold text-green-600",children:bt(_)})]}),c.jsxs("div",{className:"bg-blue-50  rounded-lg p-4",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-600",children:"Comisses Recebidas"}),c.jsx("p",{className:"text-2xl font-bold text-blue-600",children:bt(A)})]}),c.jsxs("div",{className:"bg-orange-50 rounded-lg p-4",children:[c.jsx("h4",{className:"text-sm font-medium text-gray-600",children:"Comisses Pendentes"}),c.jsx("p",{className:"text-2xl font-bold text-orange-600",children:bt(B)})]})]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Histrico de Vendas"}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Cliente"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Item"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Valor"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Data"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200",children:w.map(I=>c.jsxs("tr",{children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:I.name}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:I.purchasedItem}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["R$ ",I.totalValue.toFixed(2)]}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:bt(I.totalValue)}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(I.created_at).toLocaleDateString()}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${I.isPremium?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}`,children:I.isPremium?"Premium":"Regular"})})]},I.id))})]})})]})]}),p==="maintenance"&&c.jsx("div",{className:"space-y-6",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Agendamentos de Manuteno"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"Gerencie os agendamentos de manuteno dos equipamentos dos seus clientes."}),c.jsxs("button",{onClick:()=>d(!0),className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:[c.jsx(Sm,{className:"h-4 w-4 mr-2"}),"Agendar Nova Manuteno"]})]})})]}),c.jsx(Um,{open:s,onOpenChange:i,visit:f,mode:f?"edit":"create"})]}):c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-cyan-50 to-cyan-100",children:[c.jsx("div",{className:"bg-white shadow-md",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"w-16 h-16 flex items-center justify-center",children:c.jsx(th,{})}),c.jsx("h1",{className:"text-xl font-semibold text-cyan-600",children:"Painel do Vendedor"})]}),c.jsxs("button",{onClick:D,className:"flex items-center px-4 py-2 text-sm font-medium text-white bg-red-600 rounded-md hover:bg-red-700",children:[c.jsx(ym,{className:"w-4 h-4 mr-2"}),"Sair"]})]})})}),c.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[c.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("h2",{className:"text-lg font-medium text-gray-900",children:["Bem-vindo, ",n==null?void 0:n.full_name]}),c.jsxs("div",{className:`font-medium ${k.color}`,children:["Nvel: ",k.level]})]})}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:F.map((I,ee)=>c.jsxs("button",{onClick:I.onClick,className:`flex flex-col items-center justify-center p-4 md:p-6 rounded-xl shadow-md bg-gradient-to-br ${I.gradient} text-white transform hover:scale-105 transition-all duration-200`,children:[c.jsx(I.icon,{className:"w-6 h-6 md:w-8 md:h-8 mb-2 md:mb-3"}),c.jsx("span",{className:"text-sm md:text-base font-medium text-center",children:I.label})]},ee))}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mt-8",children:[c.jsxs("div",{className:"bg-green-100 rounded-xl shadow-md p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("div",{className:"text-green-600 bg-white rounded-full p-3",children:c.jsx(f2,{className:"w-6 h-6"})}),c.jsx("span",{className:"text-green-600 font-semibold",children:"+15%"})]}),c.jsx("h3",{className:"text-gray-800 font-medium mb-2",children:"Cadastros Iniciados"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:w.length})]}),c.jsxs("div",{className:"bg-blue-100 rounded-xl shadow-md p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("div",{className:"text-blue-600 bg-white rounded-full p-3",children:c.jsx(Qo,{className:"w-6 h-6"})}),c.jsx("span",{className:"text-green-600 font-semibold",children:"+22%"})]}),c.jsx("h3",{className:"text-gray-800 font-medium mb-2",children:"Vendas"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:bt(_)})]}),c.jsxs("div",{className:"bg-purple-100 rounded-xl shadow-md p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("div",{className:"text-purple-600 bg-white rounded-full p-3",children:c.jsx(Gs,{className:"w-6 h-6"})}),c.jsx("span",{className:"text-green-600 font-semibold",children:"+8%"})]}),c.jsx("h3",{className:"text-gray-800 font-medium mb-2",children:"Meta Mensal"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"68%"})]}),c.jsxs("div",{className:"bg-orange-100 rounded-xl shadow-md p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("div",{className:"text-orange-600 bg-white rounded-full p-3",children:c.jsx(Xo,{className:"w-6 h-6"})}),c.jsx("span",{className:"text-green-600 font-semibold",children:"+30%"})]}),c.jsx("h3",{className:"text-gray-800 font-medium mb-2",children:"Visitas Realizadas"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:N.length})]})]})]}),c.jsx(Dg,{open:r,onOpenChange:a}),c.jsx(Um,{open:s,onOpenChange:i,visit:f,mode:f?"edit":"create"}),c.jsx(dx,{open:o,onOpenChange:l}),c.jsx(fx,{open:u,onOpenChange:d})]})}function mn({children:n,role:t}){const{user:e,profile:r}=Jn();return e?(r==null?void 0:r.role)!==t?c.jsx(im,{to:(r==null?void 0:r.role)==="admin"?"/admin":"/vendor"}):c.jsx(c.Fragment,{children:n}):c.jsx(im,{to:"/login"})}function dV({open:n,onOpenChange:t,product:e}){const[r,a]=V.useState(""),[s,i]=V.useState(""),[o,l]=V.useState(""),[u,d]=V.useState(""),[f,m]=V.useState(""),[p,y]=V.useState(null),[v,x]=V.useState(""),[w,N]=V.useState(""),[_,C]=V.useState(""),[A,B]=V.useState(""),[D,E]=V.useState(""),[U,L]=V.useState(""),[k,P]=V.useState(""),[F,I]=V.useState(!1),ee=V.useRef(null),{addProduct:re,updateProduct:W,loading:Z}=ri();V.useEffect(()=>{var ae,fe,Ne,_e,Oe,Pe,De,ve,te,He,Fe;e&&n?(a(e.name),i(e.code),l(((ae=e.colors)==null?void 0:ae.join(", "))||""),d(e.price.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})),m(e.description),x(e.imageUrl||""),N(((fe=e.taxInfo)==null?void 0:fe.ncm)||""),C(((_e=(Ne=e.taxInfo)==null?void 0:Ne.icms)==null?void 0:_e.toString())||""),B(((Pe=(Oe=e.taxInfo)==null?void 0:Oe.ipi)==null?void 0:Pe.toString())||""),E(((ve=(De=e.taxInfo)==null?void 0:De.pis)==null?void 0:ve.toString())||""),L(((He=(te=e.taxInfo)==null?void 0:te.cofins)==null?void 0:He.toString())||""),P(((Fe=e.taxInfo)==null?void 0:Fe.cfop)||""),y(null)):!e&&n&&le()},[e,n]);const le=()=>{a(""),i(""),l(""),d(""),m(""),y(null),x(""),N(""),C(""),B(""),E(""),L(""),P("")},de=async ae=>{var Ne;const fe=(Ne=ae.target.files)==null?void 0:Ne[0];fe&&await Ce(fe)},Ce=async ae=>{if(!ae.type.startsWith("image/")){alert("Por favor, selecione apenas arquivos de imagem (JPG, PNG, GIF, etc.).");return}if(ae.size>5*1024*1024){alert("A imagem deve ter no mximo 5MB para armazenamento otimizado.");return}I(!0);try{let fe=ae;ae.size>1024*1024&&(fe=await m2(ae,800,.8)),y(fe);const Ne=new FileReader;Ne.onloadend=()=>{x(Ne.result),I(!1)},Ne.readAsDataURL(fe)}catch(fe){console.error("Error processing image:",fe),alert("Erro ao processar a imagem"),I(!1)}},M=()=>{y(null),x(""),ee.current&&(ee.current.value="")},Y=ae=>{ae.preventDefault(),ae.stopPropagation()},X=async ae=>{ae.preventDefault(),ae.stopPropagation();const fe=ae.dataTransfer.files;if(fe.length>0){const Ne=fe[0];await Ce(Ne)}},K=ae=>{const fe=Og(ae.target.value);d(fe)},ne=async ae=>{ae.preventDefault();const fe=Lg(u),Ne={name:r,code:s,colors:o.split(",").map(_e=>_e.trim()).filter(_e=>_e.length>0),price:fe,description:f,imageUrl:v,stockQuantity:(e==null?void 0:e.stockQuantity)||0,taxInfo:{ncm:w,icms:Number(_)||0,ipi:Number(A)||0,pis:Number(D)||0,cofins:Number(U)||0,cfop:k}};try{e?await W(e.id,Ne,p||void 0):await re(Ne,p||void 0),t(!1),le()}catch(_e){console.error("Erro ao salvar produto:",_e),alert("Erro ao salvar produto")}},ue=ae=>{t(ae),ae||le()};return c.jsx(en,{open:n,onOpenChange:ue,children:c.jsxs(tn,{children:[c.jsx(rn,{className:"fixed inset-0 bg-black/50"}),c.jsxs(nn,{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white rounded-lg p-6 w-[90vw] max-w-[700px] max-h-[90vh] overflow-y-auto",children:[c.jsx(an,{className:"text-xl font-semibold mb-4",children:e?"Editar Produto":"Novo Produto"}),c.jsxs("form",{onSubmit:ne,className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome *"}),c.jsx("input",{type:"text",value:r,onChange:ae=>a(ae.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,placeholder:"Nome do produto"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Cdigo *"}),c.jsx("input",{type:"text",value:s,onChange:ae=>i(ae.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,placeholder:"Cdigo do produto"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Cores Disponveis *"}),c.jsx("input",{type:"text",value:o,onChange:ae=>l(ae.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Vermelho, Azul, Verde (separadas por vrgula)",required:!0}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Separe as cores com vrgulas"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Preo (R$) *"}),c.jsx("input",{type:"text",value:u,onChange:K,className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"75.000,00",required:!0}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Formato: 75.000,00 (use pontos para milhares e vrgula para centavos)"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Descrio *"}),c.jsx("textarea",{value:f,onChange:ae=>m(ae.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:3,required:!0,placeholder:"Descrio detalhada do produto"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Imagem do Produto"}),c.jsxs("div",{className:"space-y-4",children:[v?c.jsxs("div",{className:"relative group",children:[c.jsx("img",{src:v,alt:"Preview do produto",className:"w-full h-64 object-cover rounded-lg border-2 border-gray-200"}),F&&c.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 rounded-lg flex items-center justify-center",children:c.jsxs("div",{className:"flex items-center text-white",children:[c.jsx(Sc,{className:"h-6 w-6 animate-spin mr-2"}),"Processando imagem..."]})}),!F&&c.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity rounded-lg flex items-center justify-center",children:c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{type:"button",onClick:()=>{var ae;return(ae=ee.current)==null?void 0:ae.click()},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Trocar Imagem"}),c.jsx("button",{type:"button",onClick:M,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors",children:"Remover"})]})})]}):c.jsx("div",{className:"w-full h-64 border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-blue-400 hover:bg-blue-50 transition-colors",onClick:()=>{var ae;return(ae=ee.current)==null?void 0:ae.click()},onDragOver:Y,onDrop:X,children:F?c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx(Sc,{className:"h-16 w-16 text-blue-500 animate-spin mb-4"}),c.jsx("p",{className:"text-lg font-medium text-gray-700",children:"Processando imagem..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(c2,{className:"h-16 w-16 text-gray-400 mb-4"}),c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-lg font-medium text-gray-700 mb-2",children:"Adicione uma imagem do produto"}),c.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Clique aqui ou arraste uma imagem"}),c.jsxs("p",{className:"text-xs text-gray-400",children:["Formatos aceitos: JPG, PNG, GIF",c.jsx("br",{}),"Tamanho mximo: 5MB",c.jsx("br",{}),"Recomendado: 800x800px ou maior"]})]})]})}),c.jsx("input",{ref:ee,type:"file",accept:"image/*",onChange:de,className:"hidden"}),!v&&!F&&c.jsxs("button",{type:"button",onClick:()=>{var ae;return(ae=ee.current)==null?void 0:ae.click()},className:"w-full px-4 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center justify-center",children:[c.jsx(h2,{className:"h-5 w-5 mr-2"}),"Escolher Imagem do Computador"]}),c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:c.jsxs("p",{className:"text-sm text-blue-800",children:[c.jsx("strong",{children:" Armazenamento Otimizado:"})," As imagens so convertidas e armazenadas diretamente no banco de dados, garantindo que permaneam sempre disponveis e no dependam de servios externos."]})})]})]}),c.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[c.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Informaes Fiscais"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"NCM *"}),c.jsx("input",{type:"text",value:w,onChange:ae=>N(ae.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"00000000",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"CFOP *"}),c.jsx("input",{type:"text",value:k,onChange:ae=>P(ae.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0000",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"ICMS (%)"}),c.jsx("input",{type:"number",value:_,onChange:ae=>C(ae.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",step:"0.01",min:"0",max:"100",placeholder:"0.00"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"IPI (%)"}),c.jsx("input",{type:"number",value:A,onChange:ae=>B(ae.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",step:"0.01",min:"0",max:"100",placeholder:"0.00"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"PIS (%)"}),c.jsx("input",{type:"number",value:D,onChange:ae=>E(ae.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",step:"0.01",min:"0",max:"100",placeholder:"0.00"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"COFINS (%)"}),c.jsx("input",{type:"number",value:U,onChange:ae=>L(ae.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",step:"0.01",min:"0",max:"100",placeholder:"0.00"})]})]})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[c.jsx("button",{type:"button",onClick:()=>ue(!1),className:"px-6 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-md transition-colors",disabled:Z||F,children:"Cancelar"}),c.jsxs("button",{type:"submit",disabled:Z||F,className:"px-6 py-2 text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700 rounded-md transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center",children:[Z&&c.jsx(Sc,{className:"h-4 w-4 mr-2 animate-spin"}),e?"Atualizar Produto":"Criar Produto"]})]})]}),c.jsx(sn,{className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:c.jsx(Lr,{size:20})})]})]})})}function hV(){const n=on(),[t,e]=V.useState(!1),[r,a]=V.useState(null),{products:s,loading:i,error:o,getProducts:l,deleteProduct:u,syncWithSupabase:d}=ri();V.useEffect(()=>{l()},[l]);const f=v=>{a(v),e(!0)},m=async v=>{if(confirm("Tem certeza que deseja excluir este produto?"))try{await u(v)}catch(x){console.error("Error deleting product:",x)}},p=async()=>{await l()},y=()=>{e(!1),a(null),l()};return c.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("button",{onClick:()=>n("/admin"),className:"mr-4 text-gray-600 hover:text-gray-900",children:c.jsx(Xn,{className:"h-6 w-6"})}),c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Produtos"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:p,disabled:i,className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:bg-gray-400",children:[c.jsx(gs,{className:`h-5 w-5 mr-2 ${i?"animate-spin":""}`}),"Atualizar"]}),c.jsxs("button",{onClick:()=>{a(null),e(!0)},className:"flex items-center px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700",children:[c.jsx(On,{className:"h-5 w-5 mr-2"}),"Novo Produto"]})]})]}),o&&c.jsx("div",{className:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:o}),i&&c.jsx("div",{className:"mb-4 text-center",children:c.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-blue-100 text-blue-700 rounded-lg",children:[c.jsx(gs,{className:"h-5 w-5 mr-2 animate-spin"}),"Carregando produtos..."]})}),s.length===0&&!i?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Mi,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum produto cadastrado"}),c.jsx("p",{className:"text-gray-500 mb-6",children:"Comece adicionando seu primeiro produto"}),c.jsxs("button",{onClick:()=>{a(null),e(!0)},className:"inline-flex items-center px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700",children:[c.jsx(On,{className:"h-5 w-5 mr-2"}),"Adicionar Produto"]})]}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:s.map(v=>c.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[c.jsxs("div",{className:"relative",children:[v.imageUrl?c.jsx("img",{src:v.imageUrl,alt:v.name,className:"w-full h-64 object-cover",style:{aspectRatio:"4/5"},onError:x=>{x.currentTarget.style.display="none";const w=x.currentTarget.nextElementSibling;w&&(w.style.display="flex")}}):null,c.jsx("div",{className:"w-full h-64 bg-gray-200 flex items-center justify-center",style:{aspectRatio:"4/5",display:v.imageUrl?"none":"flex"},children:c.jsxs("div",{className:"text-center",children:[c.jsx(Mi,{className:"h-16 w-16 text-gray-400 mx-auto mb-2"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Sem imagem"})]})}),c.jsxs("div",{className:"absolute top-2 right-2 flex gap-1",children:[c.jsx("button",{onClick:()=>f(v),className:"p-2 bg-white/90 text-blue-600 hover:bg-white rounded-full shadow-sm transition-colors",children:c.jsx(Yi,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>m(v.id),className:"p-2 bg-white/90 text-red-600 hover:bg-white rounded-full shadow-sm transition-colors",children:c.jsx(Ga,{className:"h-4 w-4"})})]})]}),c.jsxs("div",{className:"p-4",children:[c.jsxs("div",{className:"flex justify-between items-start mb-2",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 truncate",children:v.name}),c.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["#",v.code]})]}),c.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-2",children:v.description}),c.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[v.colors.slice(0,3).map((x,w)=>c.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded-full text-xs text-gray-600",children:x},w)),v.colors.length>3&&c.jsxs("span",{className:"px-2 py-1 bg-gray-100 rounded-full text-xs text-gray-600",children:["+",v.colors.length-3]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("p",{className:"text-lg font-semibold text-emerald-600",children:bt(v.price)}),c.jsxs("span",{className:"text-sm text-gray-500",children:["Estoque: ",v.stockQuantity]})]})]})]},v.id))}),c.jsx(dV,{open:t,onOpenChange:y,product:r})]})})}function fV({open:n,onOpenChange:t,service:e}){const[r,a]=V.useState((e==null?void 0:e.name)||""),[s,i]=V.useState((e==null?void 0:e.description)||""),[o,l]=V.useState(e!=null&&e.price?e.price.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}):""),u=Ii(p=>p.addService),d=Ii(p=>p.updateService),f=p=>{const y=Og(p.target.value);l(y)},m=p=>{p.preventDefault();const y=Lg(o),v={name:r,description:s,price:y};e?d(e.id,v):u(v),t(!1)};return c.jsx(en,{open:n,onOpenChange:t,children:c.jsxs(tn,{children:[c.jsx(rn,{className:"fixed inset-0 bg-black/50"}),c.jsxs(nn,{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white rounded-lg p-6 w-[90vw] max-w-[500px] max-h-[85vh] overflow-y-auto",children:[c.jsx(an,{className:"text-xl font-semibold mb-4",children:e?"Editar Servio":"Novo Servio"}),c.jsxs("form",{onSubmit:m,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome"}),c.jsx("input",{type:"text",value:r,onChange:p=>a(p.target.value),className:"w-full px-3 py-2 border rounded-md",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Descrio"}),c.jsx("textarea",{value:s,onChange:p=>i(p.target.value),className:"w-full px-3 py-2 border rounded-md",rows:3,required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Preo (R$)"}),c.jsx("input",{type:"text",value:o,onChange:f,className:"w-full px-3 py-2 border rounded-md",placeholder:"1.500,00",required:!0}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Formato: 1.500,00 (use pontos para milhares e vrgula para centavos)"})]}),c.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[c.jsx("button",{type:"button",onClick:()=>t(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-md",children:"Cancelar"}),c.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md",children:"Salvar"})]})]}),c.jsx(sn,{className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:c.jsx(Lr,{size:20})})]})]})})}function pV(){const n=on(),[t,e]=V.useState(!1),[r,a]=V.useState(null),{services:s,loading:i,error:o,getServices:l,deleteService:u,syncWithSupabase:d}=Ii();V.useEffect(()=>{l()},[l]);const f=v=>{a(v),e(!0)},m=async v=>{if(confirm("Tem certeza que deseja excluir este servio?"))try{await u(v)}catch(x){console.error("Error deleting service:",x)}},p=async()=>{await d(),await l()},y=v=>{e(v),v||a(null)};return c.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("button",{onClick:()=>n("/admin"),className:"mr-4 text-gray-600 hover:text-gray-900",children:c.jsx(Xn,{className:"h-6 w-6"})}),c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Servios"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:p,disabled:i,className:"flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:bg-gray-400",children:[c.jsx(gs,{className:`h-5 w-5 mr-2 ${i?"animate-spin":""}`}),"Atualizar"]}),c.jsxs("button",{onClick:()=>{a(null),e(!0)},className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[c.jsx(On,{className:"h-5 w-5 mr-2"}),"Novo Servio"]})]})]}),o&&c.jsx("div",{className:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:o}),i&&c.jsx("div",{className:"mb-4 text-center",children:c.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-blue-100 text-blue-700 rounded-lg",children:[c.jsx(gs,{className:"h-5 w-5 mr-2 animate-spin"}),"Carregando servios..."]})}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(v=>c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[c.jsxs("div",{className:"flex justify-between items-start mb-3",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900",children:v.name}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>f(v),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-full",children:c.jsx(Yi,{className:"h-5 w-5"})}),c.jsx("button",{onClick:()=>m(v.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-full",children:c.jsx(Ga,{className:"h-5 w-5"})})]})]}),c.jsx("p",{className:"text-gray-600 text-sm mb-4",children:v.description}),c.jsx("p",{className:"text-lg font-semibold text-blue-600",children:bt(v.price)})]},v.id))}),c.jsx(fV,{open:t,onOpenChange:y,service:r})]})})}function mV(){const n=on(),[t,e]=V.useState(!1),[r,a]=V.useState(null),{clients:s,loading:i,error:o,getClients:l,deleteClient:u,clearError:d,syncWithSupabase:f}=Hn();V.useEffect(()=>{l()},[]);const m=x=>{a(x),e(!0)},p=async x=>{if(confirm("Tem certeza que deseja excluir este cliente?"))try{await u(x)}catch(w){console.error("Error deleting client:",w)}},y=async()=>{await f(),await l()},v=()=>{e(!1),a(null),l()};return c.jsx("div",{className:"min-h-screen bg-gray-50 p-4 md:p-8",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"mb-6 md:mb-8 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("button",{onClick:()=>n("/admin"),className:"mr-4 text-gray-600 hover:text-gray-900",children:c.jsx(Xn,{className:"h-6 w-6"})}),c.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Clientes"})]}),c.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[c.jsxs("button",{onClick:y,disabled:i,className:"flex items-center justify-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:bg-gray-400",children:[c.jsx(gs,{className:`h-5 w-5 mr-2 ${i?"animate-spin":""}`}),"Atualizar"]}),c.jsxs("button",{onClick:()=>{a(null),e(!0)},className:"flex items-center justify-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:[c.jsx(On,{className:"h-5 w-5 mr-2"}),"Novo Cliente"]})]})]}),o&&c.jsxs("div",{className:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[o,c.jsx("button",{onClick:d,className:"ml-2 text-red-800 hover:text-red-900",children:""})]}),i&&c.jsx("div",{className:"mb-4 text-center",children:c.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-blue-100 text-blue-700 rounded-lg",children:[c.jsx(gs,{className:"h-5 w-5 mr-2 animate-spin"}),"Carregando clientes..."]})}),c.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-3 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),c.jsx("th",{className:"px-3 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden md:table-cell",children:"Documento"}),c.jsx("th",{className:"px-3 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden lg:table-cell",children:"Email"}),c.jsx("th",{className:"px-3 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Telefone"}),c.jsx("th",{className:"px-3 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden xl:table-cell",children:"Endereo"}),c.jsx("th",{className:"px-3 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden lg:table-cell",children:"Agendamento"}),c.jsx("th",{className:"px-3 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(x=>c.jsxs("tr",{children:[c.jsxs("td",{className:"px-3 md:px-6 py-4 whitespace-nowrap",children:[c.jsx("div",{className:"text-sm font-medium text-gray-900",children:x.name}),c.jsx("div",{className:"text-sm text-gray-500 md:hidden",children:x.phone||"-"})]}),c.jsx("td",{className:"px-3 md:px-6 py-4 whitespace-nowrap hidden md:table-cell",children:c.jsxs("div",{className:"text-sm text-gray-900",children:[c.jsx("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded mr-2",children:x.documentType||"CPF"}),x.document||"-"]})}),c.jsx("td",{className:"px-3 md:px-6 py-4 whitespace-nowrap hidden lg:table-cell",children:c.jsx("div",{className:"text-sm text-gray-900",children:x.email||"-"})}),c.jsx("td",{className:"px-3 md:px-6 py-4 whitespace-nowrap hidden md:table-cell",children:c.jsx("div",{className:"text-sm text-gray-900",children:x.phone||"-"})}),c.jsx("td",{className:"px-3 md:px-6 py-4 whitespace-nowrap hidden xl:table-cell",children:c.jsx("div",{className:"text-sm text-gray-900",children:x.address||"-"})}),c.jsx("td",{className:"px-3 md:px-6 py-4 whitespace-nowrap hidden lg:table-cell",children:c.jsx("div",{className:"text-sm text-gray-900",children:x.scheduledDate?new Date(x.scheduledDate).toLocaleString("pt-BR"):"-"})}),c.jsx("td",{className:"px-3 md:px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:c.jsxs("div",{className:"flex flex-col md:flex-row gap-1 md:gap-2",children:[c.jsx("button",{onClick:()=>m(x),className:"text-blue-600 hover:text-blue-900",children:c.jsx(Yi,{className:"h-5 w-5"})}),c.jsx("button",{onClick:()=>p(x.id),className:"text-red-600 hover:text-red-900",children:c.jsx(Ga,{className:"h-5 w-5"})})]})})]},x.id))})]})})}),c.jsx(Dg,{open:t,onOpenChange:v,client:r})]})})}function gV({open:n,onOpenChange:t,vendor:e}){var X;const[r,a]=V.useState((e==null?void 0:e.name)||""),[s,i]=V.useState((e==null?void 0:e.phone)||""),[o,l]=V.useState((e==null?void 0:e.email)||""),[u,d]=V.useState((e==null?void 0:e.address)||""),[f,m]=V.useState(null),[p,y]=V.useState((e==null?void 0:e.photoUrl)||""),[v,x]=V.useState(((X=e==null?void 0:e.commissionRate)==null?void 0:X.toString())||""),[w,N]=V.useState(""),[_,C]=V.useState(""),[A,B]=V.useState(!1),[D,E]=V.useState(!1),[U,L]=V.useState(!1),[k,P]=V.useState(!1),F=H.useRef(null),I=nl(K=>K.addVendor),ee=nl(K=>K.updateVendor),re=()=>{const K="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let ne="";for(let ue=0;ue<8;ue++)ne+=K.charAt(Math.floor(Math.random()*K.length));N(ne),C(ne)},W=async K=>{var ue;const ne=(ue=K.target.files)==null?void 0:ue[0];ne&&await Z(ne)},Z=async K=>{if(!K.type.startsWith("image/")){alert("Por favor, selecione apenas arquivos de imagem (JPG, PNG, GIF, etc.).");return}if(K.size>5*1024*1024){alert("A imagem deve ter no mximo 5MB.");return}P(!0);try{let ne=K;K.size>1024*1024&&(ne=await m2(K,400,.8)),m(ne);const ue=new FileReader;ue.onloadend=()=>{y(ue.result),P(!1)},ue.readAsDataURL(ne)}catch(ne){console.error("Error processing image:",ne),alert("Erro ao processar a imagem"),P(!1)}},le=()=>{m(null),y(""),F.current&&(F.current.value="")},de=K=>{K.preventDefault(),K.stopPropagation()},Ce=async K=>{K.preventDefault(),K.stopPropagation();const ne=K.dataTransfer.files;if(ne.length>0){const ue=ne[0];await Z(ue)}},M=async K=>{if(K.preventDefault(),!e&&(!w||w!==_)){alert("As senhas devem coincidir");return}if(!e&&w.length<6){alert("A senha deve ter pelo menos 6 caracteres");return}L(!0);try{let ne=p;f&&p.startsWith("data:image/")&&(ne=p);const ue={name:r,phone:s,email:o,address:u,photoUrl:ne,commissionRate:Number(v)};if(e)await ee(e.id,ue),alert("Vendedor atualizado com sucesso!");else{const{data:ae,error:fe}=await We.auth.signUp({email:o,password:w,options:{data:{full_name:r,role:"vendor"}}});if(fe)throw new Error(`Erro ao criar login: ${fe.message}`);if(!ae.user)throw new Error("Erro ao criar usurio");const{error:Ne}=await We.from("profiles").insert([{id:ae.user.id,role:"vendor",full_name:r}]);Ne&&console.error("Erro ao criar perfil:",Ne),await I({...ue,authId:ae.user.id}),alert(`Vendedor cadastrado com sucesso!

Credenciais de acesso:
Email: ${o}
Senha: ${w}

O vendedor pode fazer login no sistema com essas credenciais.`)}t(!1),Y()}catch(ne){console.error("Erro ao salvar vendedor:",ne),alert(ne instanceof Error?ne.message:"Erro ao salvar vendedor")}finally{L(!1)}},Y=()=>{a(""),i(""),l(""),d(""),m(null),y(""),x(""),N(""),C(""),B(!1),E(!1),P(!1),F.current&&(F.current.value="")};return c.jsx(en,{open:n,onOpenChange:t,children:c.jsxs(tn,{children:[c.jsx(rn,{className:"fixed inset-0 bg-black/50"}),c.jsxs(nn,{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white rounded-lg p-6 w-[90vw] max-w-[600px] max-h-[85vh] overflow-y-auto",children:[c.jsx(an,{className:"text-xl font-semibold mb-4",children:e?"Editar Vendedor":"Novo Vendedor"}),c.jsxs("form",{onSubmit:M,className:"space-y-4",children:[c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[c.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Informaes Pessoais"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Nome Completo *"}),c.jsx("input",{type:"text",value:r,onChange:K=>a(K.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-orange-500 focus:border-orange-500",required:!0,placeholder:"Nome do vendedor"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Telefone *"}),c.jsx("input",{type:"tel",value:s,onChange:K=>i(K.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-orange-500 focus:border-orange-500",required:!0,placeholder:"(00) 00000-0000"})]})]}),c.jsxs("div",{className:"mt-4",children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Endereo *"}),c.jsx("input",{type:"text",value:u,onChange:K=>d(K.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-orange-500 focus:border-orange-500",required:!0,placeholder:"Endereo completo"})]}),c.jsxs("div",{className:"mt-4",children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Foto do Vendedor *"}),c.jsxs("div",{className:"space-y-4",children:[p?c.jsxs("div",{className:"relative group",children:[c.jsx("img",{src:p,alt:"Preview do vendedor",className:"w-32 h-32 object-cover rounded-full border-4 border-gray-200 mx-auto"}),k&&c.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 rounded-full flex items-center justify-center",children:c.jsx("div",{className:"flex items-center text-white",children:c.jsx(Sc,{className:"h-6 w-6 animate-spin mr-2"})})}),!k&&c.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 opacity-0 group-hover:opacity-100 transition-opacity rounded-full flex items-center justify-center",children:c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{type:"button",onClick:()=>{var K;return(K=F.current)==null?void 0:K.click()},className:"px-3 py-1 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors text-sm",children:"Trocar"}),c.jsx("button",{type:"button",onClick:le,className:"px-3 py-1 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors text-sm",children:"Remover"})]})})]}):c.jsx("div",{className:"w-32 h-32 mx-auto border-2 border-dashed border-gray-300 rounded-full flex flex-col items-center justify-center cursor-pointer hover:border-orange-400 hover:bg-orange-50 transition-colors",onClick:()=>{var K;return(K=F.current)==null?void 0:K.click()},onDragOver:de,onDrop:Ce,children:k?c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx(Sc,{className:"h-8 w-8 text-orange-500 animate-spin mb-2"}),c.jsx("p",{className:"text-xs font-medium text-gray-700",children:"Processando..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(c2,{className:"h-8 w-8 text-gray-400 mb-2"}),c.jsx("p",{className:"text-xs font-medium text-gray-700 text-center",children:"Adicionar Foto"}),c.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Clique ou arraste"})]})}),c.jsx("input",{ref:F,type:"file",accept:"image/*",onChange:W,className:"hidden"}),!p&&!k&&c.jsxs("button",{type:"button",onClick:()=>{var K;return(K=F.current)==null?void 0:K.click()},className:"w-full px-4 py-2 bg-orange-600 text-white rounded-md hover:bg-orange-700 transition-colors flex items-center justify-center",children:[c.jsx(h2,{className:"h-4 w-4 mr-2"}),"Escolher Foto do Computador"]}),c.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-3",children:c.jsxs("p",{className:"text-xs text-orange-800",children:[c.jsx("strong",{children:" Foto Profissional:"})," A foto ser armazenada de forma segura no sistema. Recomendado: foto quadrada, boa qualidade, fundo neutro."]})})]})]}),c.jsxs("div",{className:"mt-4",children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Taxa de Comisso (%) *"}),c.jsx("input",{type:"number",value:v,onChange:K=>x(K.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-orange-500 focus:border-orange-500",min:"0",max:"100",step:"0.1",required:!0,placeholder:"10.0"})]})]}),!e&&c.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[c.jsx("h3",{className:"font-medium text-blue-900 mb-3",children:" Credenciais de Acesso ao Sistema"}),c.jsxs("div",{className:"mb-4",children:[c.jsx("label",{className:"block text-sm font-medium mb-1 text-blue-800",children:"Email de Login *"}),c.jsx("input",{type:"email",value:o,onChange:K=>l(K.target.value),className:"w-full px-3 py-2 border border-blue-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,placeholder:"vendedor@empresa.com"}),c.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Este email ser usado pelo vendedor para fazer login no sistema"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1 text-blue-800",children:"Senha *"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:A?"text":"password",value:w,onChange:K=>N(K.target.value),className:"w-full px-3 py-2 pr-10 border border-blue-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,minLength:6,placeholder:"Mnimo 6 caracteres"}),c.jsx("button",{type:"button",onClick:()=>B(!A),className:"absolute right-3 top-1/2 -translate-y-1/2 text-blue-500 hover:text-blue-700",children:A?c.jsx(Pv,{className:"h-4 w-4"}):c.jsx(Xo,{className:"h-4 w-4"})})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1 text-blue-800",children:"Confirmar Senha *"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:D?"text":"password",value:_,onChange:K=>C(K.target.value),className:"w-full px-3 py-2 pr-10 border border-blue-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,minLength:6,placeholder:"Repita a senha"}),c.jsx("button",{type:"button",onClick:()=>E(!D),className:"absolute right-3 top-1/2 -translate-y-1/2 text-blue-500 hover:text-blue-700",children:D?c.jsx(Pv,{className:"h-4 w-4"}):c.jsx(Xo,{className:"h-4 w-4"})})]})]})]}),c.jsx("div",{className:"mt-3 flex justify-center",children:c.jsx("button",{type:"button",onClick:re,className:"px-4 py-2 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition-colors",children:" Gerar Senha Aleatria"})}),c.jsx("div",{className:"mt-3 bg-blue-100 rounded-md p-3",children:c.jsxs("p",{className:"text-xs text-blue-800",children:[c.jsx("strong",{children:" Importante:"})," Aps criar o vendedor, anote as credenciais e repasse para ele. O vendedor poder fazer login em ",c.jsx("strong",{children:"/login"}),' selecionando "Vendedor\\" como tipo de acesso.']})})]}),c.jsxs("div",{className:"flex justify-end gap-2 mt-6 pt-4 border-t",children:[c.jsx("button",{type:"button",onClick:()=>t(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-md transition-colors",disabled:U,children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:U,className:"px-6 py-2 text-sm font-medium text-white bg-orange-600 hover:bg-orange-700 rounded-md transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center",children:U?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),e?"Atualizando...":"Criando..."]}):e?"Atualizar Vendedor":"Criar Vendedor"})]})]}),c.jsx(sn,{className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:c.jsx(Lr,{size:20})})]})]})})}function vV(){const n=on(),[t,e]=V.useState(!1),[r,a]=V.useState(null),s=nl(d=>d.vendors),i=nl(d=>d.deleteVendor),o=d=>{a(d),e(!0)},l=d=>{confirm("Tem certeza que deseja excluir este vendedor?")&&i(d)},u=d=>{switch(d){case"diamond":return"text-blue-600";case"gold":return"text-yellow-600";case"silver":return"text-gray-600";default:return"text-orange-600"}};return c.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("button",{onClick:()=>n("/admin"),className:"mr-4 text-gray-600 hover:text-gray-900",children:c.jsx(Xn,{className:"h-6 w-6"})}),c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Vendedores"})]}),c.jsxs("button",{onClick:()=>{a(null),e(!0)},className:"flex items-center px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700",children:[c.jsx(On,{className:"h-5 w-5 mr-2"}),"Novo Vendedor"]})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(d=>c.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:c.jsxs("div",{className:"p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("img",{src:d.photoUrl,alt:d.name,className:"h-12 w-12 rounded-full object-cover"}),c.jsxs("div",{className:"ml-3",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900",children:d.name}),c.jsxs("span",{className:`text-sm font-medium ${u(d.level)}`,children:["Nvel ",d.level.charAt(0).toUpperCase()+d.level.slice(1)]})]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>o(d),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-full",children:c.jsx(Yi,{className:"h-5 w-5"})}),c.jsx("button",{onClick:()=>l(d.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-full",children:c.jsx(Ga,{className:"h-5 w-5"})})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"text-gray-500",children:"E-mail:"}),c.jsx("span",{className:"text-gray-900",children:d.email})]}),c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"text-gray-500",children:"Telefone:"}),c.jsx("span",{className:"text-gray-900",children:d.phone})]}),c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"text-gray-500",children:"Comisso:"}),c.jsxs("span",{className:"text-gray-900",children:[d.commissionRate,"%"]})]})]}),c.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-gray-500",children:"Total em Vendas"}),c.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["R$ ",d.totalSales.toFixed(2)]})]}),c.jsxs("div",{className:"flex items-center text-green-600",children:[c.jsx(Gs,{className:"h-5 w-5 mr-1"}),c.jsx("span",{className:"text-sm font-medium",children:"+15%"})]})]})})]})},d.id))}),c.jsx(gV,{open:t,onOpenChange:e,vendor:r})]})})}const bV={entrada:["Vendas","Servios","Comisses Recebidas","Juros Recebidos","Outras Receitas"],saida:["Fornecedores","Salrios","Comisses Pagas","Aluguel","Energia Eltrica","Telefone/Internet","Combustvel","Manuteno","Marketing","Impostos","Outras Despesas"]},yV=["Dinheiro","Carto de Crdito","Carto de Dbito","PIX","Transferncia Bancria","Cheque","Boleto"],Kw=Ya()(Ka((n,t)=>({transactions:[],loading:!1,error:null,clearError:()=>n({error:null}),syncWithSupabase:async()=>{try{const{data:e,error:r}=await We.from("financial_transactions").select("*").order("date",{ascending:!1});if(r){console.error("Sync error:",r);return}n({transactions:e||[]})}catch(e){console.error("Sync failed:",e)}},addTransaction:async e=>{n({loading:!0,error:null});try{const{data:r,error:a}=await We.from("financial_transactions").insert([{...e,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(a)throw a;n(s=>({transactions:[r,...s.transactions],loading:!1}))}catch(r){throw console.error("Error adding transaction:",r),n({loading:!1,error:r instanceof Error?r.message:"Erro ao adicionar transao"}),r}},updateTransaction:async(e,r)=>{n({loading:!0,error:null});try{const{error:a}=await We.from("financial_transactions").update({...r,updated_at:new Date().toISOString()}).eq("id",e);if(a)throw a;n(s=>({transactions:s.transactions.map(i=>i.id===e?{...i,...r,updated_at:new Date().toISOString()}:i),loading:!1}))}catch(a){throw console.error("Error updating transaction:",a),n({loading:!1,error:a instanceof Error?a.message:"Erro ao atualizar transao"}),a}},deleteTransaction:async e=>{n({loading:!0,error:null});try{const{error:r}=await We.from("financial_transactions").delete().eq("id",e);if(r)throw r;n(a=>({transactions:a.transactions.filter(s=>s.id!==e),loading:!1}))}catch(r){throw console.error("Error deleting transaction:",r),n({loading:!1,error:r instanceof Error?r.message:"Erro ao excluir transao"}),r}},getTransactions:async()=>{n({loading:!0,error:null});try{const{data:e,error:r}=await We.from("financial_transactions").select("*").order("date",{ascending:!1});if(r)throw r;n({transactions:e||[],loading:!1})}catch(e){console.error("Error getting transactions:",e),n({loading:!1,error:e instanceof Error?e.message:"Erro ao carregar transaes"})}},getTransactionsByDateRange:(e,r)=>t().transactions.filter(a=>{const s=new Date(a.date),i=new Date(e),o=new Date(r);return s>=i&&s<=o}),getTransactionsByType:e=>t().transactions.filter(r=>r.type===e),getTransactionsByCategory:e=>t().transactions.filter(r=>r.category===e),getSummary:()=>{const e=t().transactions,r=new Date().toDateString(),a=e.filter(d=>d.type==="entrada").reduce((d,f)=>d+f.amount,0),s=e.filter(d=>d.type==="saida").reduce((d,f)=>d+f.amount,0),i=a-s,o=e.filter(d=>new Date(d.date).toDateString()===r).length,l=e.filter(d=>d.type==="entrada").sort((d,f)=>f.amount-d.amount).slice(0,5),u=e.filter(d=>d.type==="saida").sort((d,f)=>f.amount-d.amount).slice(0,5);return{totalEntradas:a,totalSaidas:s,saldo:i,transacoesHoje:o,maioresEntradas:l,maioresSaidas:u}}}),{name:"financial-storage",partialize:n=>({transactions:n.transactions}),onRehydrateStorage:()=>n=>{n&&n.syncWithSupabase()}}));function xV({open:n,onOpenChange:t,transaction:e}){const{profile:r}=Jn(),[a,s]=V.useState((e==null?void 0:e.type)||"entrada"),[i,o]=V.useState((e==null?void 0:e.category)||""),[l,u]=V.useState((e==null?void 0:e.description)||""),[d,f]=V.useState(e!=null&&e.amount?e.amount.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2}):""),[m,p]=V.useState(e!=null&&e.date?new Date(e.date):new Date),[y,v]=V.useState((e==null?void 0:e.payment_method)||"Dinheiro"),{addTransaction:x,updateTransaction:w}=Kw(),N=B=>{const D=Og(B.target.value);f(D)},_=async B=>{if(B.preventDefault(),!i||!l||!d){alert("Por favor, preencha todos os campos obrigatrios");return}const D=Lg(d),E={type:a,category:i,description:l,amount:D,date:m.toISOString(),payment_method:y,vendor_id:r==null?void 0:r.id};try{e?await w(e.id,E):await x(E),t(!1),C()}catch(U){console.error("Error saving transaction:",U),alert("Erro ao salvar transao")}},C=()=>{s("entrada"),o(""),u(""),f(""),p(new Date),v("Dinheiro")},A=bV[a]||[];return c.jsx(en,{open:n,onOpenChange:t,children:c.jsxs(tn,{children:[c.jsx(rn,{className:"fixed inset-0 bg-black/50"}),c.jsxs(nn,{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white rounded-lg p-4 md:p-6 w-[95vw] max-w-[500px] max-h-[85vh] overflow-y-auto",children:[c.jsxs(an,{className:"text-xl font-semibold mb-4 flex items-center",children:[c.jsx(ji,{className:"h-6 w-6 mr-2 text-green-600"}),e?"Editar Transao":"Nova Transao Financeira"]}),c.jsxs("form",{onSubmit:_,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-2",children:"Tipo de Transao *"}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs("button",{type:"button",onClick:()=>{s("entrada"),o("")},className:`flex items-center justify-center p-4 border rounded-lg transition-colors ${a==="entrada"?"border-green-500 bg-green-50 text-green-700":"border-gray-200 hover:border-gray-300"}`,children:[c.jsx(Gs,{className:"h-5 w-5 mr-2"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:"Entrada"}),c.jsx("div",{className:"text-xs",children:"Receitas"})]})]}),c.jsxs("button",{type:"button",onClick:()=>{s("saida"),o("")},className:`flex items-center justify-center p-4 border rounded-lg transition-colors ${a==="saida"?"border-red-500 bg-red-50 text-red-700":"border-gray-200 hover:border-gray-300"}`,children:[c.jsx(wm,{className:"h-5 w-5 mr-2"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:"Sada"}),c.jsx("div",{className:"text-xs",children:"Despesas"})]})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Categoria *"}),c.jsxs("select",{value:i,onChange:B=>o(B.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:[c.jsx("option",{value:"",children:"Selecione uma categoria"}),A.map(B=>c.jsx("option",{value:B,children:B},B))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Descrio *"}),c.jsx("input",{type:"text",value:l,onChange:B=>u(B.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Descreva a transao",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Valor (R$) *"}),c.jsx("input",{type:"text",value:d,onChange:N,className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"0,00",required:!0}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Use vrgula para separar os centavos"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Data *"}),c.jsx(rl,{selected:m,onChange:B=>p(B||new Date),dateFormat:"dd/MM/yyyy",className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Mtodo de Pagamento *"}),c.jsx("select",{value:y,onChange:B=>v(B.target.value),className:"w-full px-3 py-2 border rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,children:yV.map(B=>c.jsx("option",{value:B,children:B},B))})]})]}),c.jsx("div",{className:`p-4 rounded-lg border-2 ${a==="entrada"?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("div",{className:`font-medium ${a==="entrada"?"text-green-800":"text-red-800"}`,children:a==="entrada"?" Entrada":" Sada"}),c.jsxs("div",{className:"text-sm text-gray-600",children:[i&&`${i} - `,l||"Descrio da transao"]})]}),c.jsxs("div",{className:`text-lg font-bold ${a==="entrada"?"text-green-600":"text-red-600"}`,children:[a==="entrada"?"+":"-"," R$ ",d||"0,00"]})]})}),c.jsxs("div",{className:"flex flex-col md:flex-row justify-end gap-2 mt-6",children:[c.jsx("button",{type:"button",onClick:()=>t(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-md transition-colors w-full md:w-auto",children:"Cancelar"}),c.jsxs("button",{type:"submit",className:`px-4 py-2 text-sm font-medium text-white rounded-md transition-colors w-full md:w-auto ${a==="entrada"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,children:[e?"Atualizar":"Lanar"," ",a==="entrada"?"Entrada":"Sada"]})]})]}),c.jsx(sn,{className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:c.jsx(Lr,{size:20})})]})]})})}function wV(){const n=on(),[t,e]=V.useState(!1),[r,a]=V.useState(null),[s,i]=V.useState("all"),[o,l]=V.useState("all"),[u,d]=V.useState("all"),{transactions:f,loading:m,error:p,getTransactions:y,deleteTransaction:v,getSummary:x,getTransactionsByDateRange:w,clearError:N}=Kw();V.useEffect(()=>{y()},[y]);const _=x(),C=L=>{a(L),e(!0)},A=async L=>{if(confirm("Tem certeza que deseja excluir esta transao?"))try{await v(L)}catch(k){console.error("Error deleting transaction:",k)}},B=async()=>{await y()},D=f.filter(L=>{const k=s==="all"||L.type===s,P=o==="all"||L.category===o;let F=!0;if(u!=="all"){const I=new Date(L.date),ee=new Date;switch(u){case"today":F=I.toDateString()===ee.toDateString();break;case"week":const re=new Date(ee.getTime()-7*24*60*60*1e3);F=I>=re;break;case"month":const W=new Date(ee.getTime()-30*24*60*60*1e3);F=I>=W;break}}return k&&P&&F}),E=[...new Set(f.map(L=>L.category))],U=[{title:"Total de Entradas",value:_.totalEntradas,icon:Gs,color:"bg-green-500",textColor:"text-green-600",bgColor:"bg-green-100",growth:"+22%"},{title:"Total de Sadas",value:_.totalSaidas,icon:wm,color:"bg-red-500",textColor:"text-red-600",bgColor:"bg-red-100",growth:"+18%"},{title:"Saldo Atual",value:_.saldo,icon:p2,color:_.saldo>=0?"bg-blue-500":"bg-red-500",textColor:_.saldo>=0?"text-blue-600":"text-red-600",bgColor:_.saldo>=0?"bg-blue-100":"bg-red-100",growth:"+20%"},{title:"Transaes Hoje",value:_.transacoesHoje,icon:eu,color:"bg-purple-500",textColor:"text-purple-600",bgColor:"bg-purple-100",growth:"+15%"}];return c.jsx("div",{className:"min-h-screen bg-gray-50 p-4 md:p-8",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"mb-6 md:mb-8 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("button",{onClick:()=>n("/admin"),className:"mr-4 text-gray-600 hover:text-gray-900",children:c.jsx(Xn,{className:"h-6 w-6"})}),c.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Gesto Financeira"})]}),c.jsxs("div",{className:"flex flex-col md:flex-row gap-2",children:[c.jsxs("button",{onClick:B,disabled:m,className:"flex items-center justify-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:bg-gray-400",children:[c.jsx(gs,{className:`h-5 w-5 mr-2 ${m?"animate-spin":""}`}),"Atualizar"]}),c.jsxs("button",{onClick:()=>{a(null),e(!0)},className:"flex items-center justify-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[c.jsx(On,{className:"h-5 w-5 mr-2"}),"Nova Transao"]})]})]}),p&&c.jsxs("div",{className:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[p,c.jsx("button",{onClick:N,className:"ml-2 text-red-800 hover:text-red-900",children:""})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:U.map((L,k)=>{const P=L.icon;return c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("div",{className:`${L.bgColor} p-3 rounded-full`,children:c.jsx(P,{className:`h-6 w-6 ${L.textColor}`})}),c.jsx("span",{className:"text-green-600 font-medium text-sm",children:L.growth})]}),c.jsx("h3",{className:"text-gray-600 text-sm mb-2",children:L.title}),c.jsx("p",{className:`text-xl md:text-2xl font-bold ${L.textColor}`,children:typeof L.value=="number"&&L.title!=="Transaes Hoje"?bt(L.value):L.value})]},k)})}),c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 md:p-6 mb-6",children:[c.jsxs("div",{className:"flex items-center mb-4",children:[c.jsx(l2,{className:"h-5 w-5 text-gray-500 mr-2"}),c.jsx("h3",{className:"font-medium text-gray-900",children:"Filtros"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),c.jsxs("select",{value:s,onChange:L=>i(L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[c.jsx("option",{value:"all",children:"Todos"}),c.jsx("option",{value:"entrada",children:"Entradas"}),c.jsx("option",{value:"saida",children:"Sadas"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categoria"}),c.jsxs("select",{value:o,onChange:L=>l(L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[c.jsx("option",{value:"all",children:"Todas"}),E.map(L=>c.jsx("option",{value:L,children:L},L))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Perodo"}),c.jsxs("select",{value:u,onChange:L=>d(L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[c.jsx("option",{value:"all",children:"Todos"}),c.jsx("option",{value:"today",children:"Hoje"}),c.jsx("option",{value:"week",children:"ltima Semana"}),c.jsx("option",{value:"month",children:"ltimo Ms"})]})]}),c.jsx("div",{className:"flex items-end",children:c.jsx("button",{onClick:()=>{i("all"),l("all"),d("all")},className:"w-full px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors",children:"Limpar Filtros"})})]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[c.jsx("div",{className:"px-4 md:px-6 py-4 border-b border-gray-200",children:c.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Transaes Financeiras (",D.length,")"]})}),D.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx(ji,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhuma transao encontrada"}),c.jsx("p",{className:"text-gray-500 mb-6",children:f.length===0?"Comece lanando sua primeira transao financeira":"Tente ajustar os filtros de busca"}),c.jsxs("button",{onClick:()=>e(!0),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[c.jsx(On,{className:"h-5 w-5 mr-2"}),"Nova Transao"]})]}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-3 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"}),c.jsx("th",{className:"px-3 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),c.jsx("th",{className:"px-3 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Categoria"}),c.jsx("th",{className:"px-3 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descrio"}),c.jsx("th",{className:"px-3 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Valor"}),c.jsx("th",{className:"px-3 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden md:table-cell",children:"Pagamento"}),c.jsx("th",{className:"px-3 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:D.map(L=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-3 md:px-6 py-4 whitespace-nowrap",children:c.jsx("div",{className:"text-sm text-gray-900",children:Ra(new Date(L.date),"dd/MM/yyyy",{locale:Ci})})}),c.jsx("td",{className:"px-3 md:px-6 py-4 whitespace-nowrap",children:c.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-medium rounded-full ${L.type==="entrada"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[L.type==="entrada"?c.jsx(Gs,{className:"h-3 w-3 mr-1"}):c.jsx(wm,{className:"h-3 w-3 mr-1"}),L.type==="entrada"?"Entrada":"Sada"]})}),c.jsx("td",{className:"px-3 md:px-6 py-4 whitespace-nowrap",children:c.jsx("div",{className:"text-sm text-gray-900",children:L.category})}),c.jsx("td",{className:"px-3 md:px-6 py-4",children:c.jsx("div",{className:"text-sm text-gray-900 max-w-xs truncate",children:L.description})}),c.jsx("td",{className:"px-3 md:px-6 py-4 whitespace-nowrap",children:c.jsxs("div",{className:`text-sm font-medium ${L.type==="entrada"?"text-green-600":"text-red-600"}`,children:[L.type==="entrada"?"+":"-"," ",bt(L.amount)]})}),c.jsx("td",{className:"px-3 md:px-6 py-4 whitespace-nowrap hidden md:table-cell",children:c.jsx("div",{className:"text-sm text-gray-500",children:L.payment_method})}),c.jsx("td",{className:"px-3 md:px-6 py-4 whitespace-nowrap text-sm font-medium",children:c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>C(L),className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",title:"Editar",children:c.jsx(Yi,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>A(L.id),className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50",title:"Excluir",children:c.jsx(Ga,{className:"h-4 w-4"})})]})})]},L.id))})]})})]}),c.jsx(xV,{open:t,onOpenChange:L=>{e(L),L||a(null)},transaction:r})]})})}function SV(){const n=on(),t=Hn(l=>l.clients),e=nl(l=>l.vendors),r=ri(l=>l.products),a=Ri(l=>l.visits),s=t.reduce((l,u)=>l+u.totalValue,0),i=s/t.length||0,o=[{title:"Total em Vendas",value:bt(s),growth:"+22%",icon:Gs,color:"bg-green-500"},{title:"Ticket Mdio",value:bt(i),growth:"+15%",icon:Ec,color:"bg-blue-500"},{title:"Clientes Ativos",value:t.length,growth:"+18%",icon:vg,color:"bg-purple-500"},{title:"Visitas Realizadas",value:a.length,growth:"+25%",icon:eu,color:"bg-orange-500"}];return c.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"mb-8 flex items-center",children:[c.jsx("button",{onClick:()=>n("/admin"),className:"mr-4 text-gray-600 hover:text-gray-900",children:c.jsx(Xn,{className:"h-6 w-6"})}),c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Relatrios Gerenciais"})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:o.map((l,u)=>{const d=l.icon;return c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("div",{className:`${l.color} p-3 rounded-full text-white`,children:c.jsx(d,{className:"h-6 w-6"})}),c.jsx("span",{className:"text-green-600 font-medium",children:l.growth})]}),c.jsx("h3",{className:"text-gray-600 text-sm mb-2",children:l.title}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:l.value})]},u)})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[c.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Vendedores Destaque"}),c.jsx("div",{className:"space-y-4",children:e.sort((l,u)=>u.totalSales-l.totalSales).slice(0,5).map((l,u)=>c.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:"w-8 h-8 flex items-center justify-center bg-blue-100 rounded-full mr-3",children:c.jsxs("span",{className:"font-semibold text-blue-600",children:["#",u+1]})}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-900",children:l.name}),c.jsxs("p",{className:"text-sm text-gray-500",children:["Nvel ",l.level]})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"font-medium text-gray-900",children:bt(l.totalSales)}),c.jsxs("p",{className:"text-sm text-green-600",children:["+",Math.floor(Math.random()*30+10),"%"]})]})]},l.id))})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[c.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Status das Visitas"}),c.jsx("div",{className:"space-y-4",children:Object.entries(a.reduce((l,u)=>(l[u.status]=(l[u.status]||0)+1,l),{})).map(([l,u])=>c.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[c.jsx("span",{className:"font-medium text-gray-900",children:l==="scheduled"?"Agendadas":l==="in_negotiation"?"Em Negociao":l==="completed_purchase"?"Vendas Concludas":l==="completed_no_purchase"?"Sem Venda":l==="rescheduled"?"Reagendadas":l==="absent"?"Cliente Ausente":"Cliente Pensando"}),c.jsx("span",{className:"text-lg font-semibold text-gray-900",children:u})]},l))})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[c.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Produtos Mais Vendidos"}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.slice(0,4).map(l=>c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[c.jsx("img",{src:l.imageUrl,alt:l.name,className:"w-full h-32 object-cover rounded-lg mb-3"}),c.jsx("h4",{className:"font-medium text-gray-900",children:l.name}),c.jsxs("p",{className:"text-sm text-gray-600",children:["Cdigo: ",l.code]}),c.jsx("p",{className:"text-lg font-semibold text-green-600 mt-2",children:bt(l.price)})]},l.id))})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[c.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Clientes Premium"}),c.jsx("div",{className:"space-y-4",children:t.filter(l=>l.isPremium).slice(0,5).map(l=>c.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx(uj,{className:"h-5 w-5 text-yellow-400 mr-3"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-900",children:l.name}),c.jsx("p",{className:"text-sm text-gray-500",children:l.purchasedItem})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("p",{className:"font-medium text-gray-900",children:bt(l.totalValue)}),c.jsxs("p",{className:"text-sm text-gray-500",children:["Vencimento: ",new Date(l.dueDate||"").toLocaleDateString()]})]})]},l.id))})]})]})]})})}function NV(){const n=on(),[t,e]=V.useState(),[r,a]=V.useState(!1),s=i=>{e(i),a(!0)};return c.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsx("div",{className:"mb-8 flex items-center justify-between",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("button",{onClick:()=>n("/admin"),className:"mr-4 text-gray-600 hover:text-gray-900",children:c.jsx(Xn,{className:"h-6 w-6"})}),c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Agendamentos"})]})}),c.jsx(Gw,{onEventSelect:s}),c.jsx(Um,{open:r,onOpenChange:a,visit:t,mode:"view"})]})})}const ma=Ya()(Ka((n,t)=>({quotations:[],loading:!1,error:null,clearError:()=>n({error:null}),syncWithSupabase:async()=>{try{const{data:e,error:r}=await We.from("quotations").select("*").order("created_at",{ascending:!1});if(r){console.error("Sync error:",r);return}n({quotations:e||[]})}catch(e){console.error("Sync failed:",e)}},addQuotation:async e=>{n({loading:!0,error:null});try{const{data:r,error:a}=await We.from("quotations").insert([{...e,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(a)throw a;n(s=>({quotations:[r,...s.quotations],loading:!1}))}catch(r){throw console.error("Error adding quotation:",r),n({loading:!1,error:r instanceof Error?r.message:"Erro ao adicionar oramento"}),r}},updateQuotation:async(e,r)=>{n({loading:!0,error:null});try{const{error:a}=await We.from("quotations").update({...r,updated_at:new Date().toISOString()}).eq("id",e);if(a)throw a;n(s=>({quotations:s.quotations.map(i=>i.id===e?{...i,...r,updated_at:new Date().toISOString()}:i),loading:!1}))}catch(a){throw console.error("Error updating quotation:",a),n({loading:!1,error:a instanceof Error?a.message:"Erro ao atualizar oramento"}),a}},deleteQuotation:async e=>{n({loading:!0,error:null});try{const{error:r}=await We.from("quotations").delete().eq("id",e);if(r)throw r;n(a=>({quotations:a.quotations.filter(s=>s.id!==e),loading:!1}))}catch(r){throw console.error("Error deleting quotation:",r),n({loading:!1,error:r instanceof Error?r.message:"Erro ao excluir oramento"}),r}},getQuotations:async()=>{n({loading:!0,error:null});try{const{data:e,error:r}=await We.from("quotations").select("*").order("created_at",{ascending:!1});if(r)throw r;n({quotations:e||[],loading:!1})}catch(e){console.error("Error getting quotations:",e),n({loading:!1,error:e instanceof Error?e.message:"Erro ao carregar oramentos"})}},getQuotationsByVendor:e=>t().quotations.filter(r=>r.vendor_id===e)}),{name:"quotations-storage",partialize:n=>({quotations:n.quotations}),onRehydrateStorage:()=>n=>{n&&n.syncWithSupabase()}}));var _V=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function jV(n){var t=n.defaultInputValue,e=t===void 0?"":t,r=n.defaultMenuIsOpen,a=r===void 0?!1:r,s=n.defaultValue,i=s===void 0?null:s,o=n.inputValue,l=n.menuIsOpen,u=n.onChange,d=n.onInputChange,f=n.onMenuClose,m=n.onMenuOpen,p=n.value,y=gr(n,_V),v=V.useState(o!==void 0?o:e),x=Wr(v,2),w=x[0],N=x[1],_=V.useState(l!==void 0?l:a),C=Wr(_,2),A=C[0],B=C[1],D=V.useState(p!==void 0?p:i),E=Wr(D,2),U=E[0],L=E[1],k=V.useCallback(function(Z,le){typeof u=="function"&&u(Z,le),L(Z)},[u]),P=V.useCallback(function(Z,le){var de;typeof d=="function"&&(de=d(Z,le)),N(de!==void 0?de:Z)},[d]),F=V.useCallback(function(){typeof m=="function"&&m(),B(!0)},[m]),I=V.useCallback(function(){typeof f=="function"&&f(),B(!1)},[f]),ee=o!==void 0?o:w,re=l!==void 0?l:A,W=p!==void 0?p:U;return Me(Me({},y),{},{inputValue:ee,menuIsOpen:re,onChange:k,onInputChange:P,onMenuClose:I,onMenuOpen:F,value:W})}function kV(n){var t=Tg();return function(){var e,r=al(n);if(t){var a=al(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return mx(this,e)}}var CV=!1;function DV(n){if(n.sheet)return n.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===n)return document.styleSheets[t]}function EV(n){var t=document.createElement("style");return t.setAttribute("data-emotion",n.key),n.nonce!==void 0&&t.setAttribute("nonce",n.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var PV=function(){function n(e){var r=this;this._insertTag=function(a){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(a,s),r.tags.push(a)},this.isSpeedy=e.speedy===void 0?!CV:e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=n.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(EV(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var s=DV(a);try{s.insertRule(r,s.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var a;return(a=r.parentNode)==null?void 0:a.removeChild(r)}),this.tags=[],this.ctr=0},n}(),zr="-ms-",wh="-moz-",_t="-webkit-",Jw="comm",S0="rule",N0="decl",AV="@import",Xw="@keyframes",LV="@layer",OV=Math.abs,ff=String.fromCharCode,TV=Object.assign;function MV(n,t){return Pr(n,0)^45?(((t<<2^Pr(n,0))<<2^Pr(n,1))<<2^Pr(n,2))<<2^Pr(n,3):0}function Qw(n){return n.trim()}function IV(n,t){return(n=t.exec(n))?n[0]:n}function jt(n,t,e){return n.replace(t,e)}function ag(n,t){return n.indexOf(t)}function Pr(n,t){return n.charCodeAt(t)|0}function Kc(n,t,e){return n.slice(t,e)}function Ta(n){return n.length}function _0(n){return n.length}function jd(n,t){return t.push(n),n}function RV(n,t){return n.map(t).join("")}var pf=1,dl=1,Zw=0,xn=0,ur=0,kl="";function mf(n,t,e,r,a,s,i){return{value:n,root:t,parent:e,type:r,props:a,children:s,line:pf,column:dl,length:i,return:""}}function dc(n,t){return TV(mf("",null,null,"",null,null,0),n,{length:-n.length},t)}function $V(){return ur}function FV(){return ur=xn>0?Pr(kl,--xn):0,dl--,ur===10&&(dl=1,pf--),ur}function Ln(){return ur=xn<Zw?Pr(kl,xn++):0,dl++,ur===10&&(dl=1,pf++),ur}function Ha(){return Pr(kl,xn)}function Hd(){return xn}function mu(n,t){return Kc(kl,n,t)}function Jc(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function e5(n){return pf=dl=1,Zw=Ta(kl=n),xn=0,[]}function t5(n){return kl="",n}function Wd(n){return Qw(mu(xn-1,sg(n===91?n+2:n===40?n+1:n)))}function BV(n){for(;(ur=Ha())&&ur<33;)Ln();return Jc(n)>2||Jc(ur)>3?"":" "}function qV(n,t){for(;--t&&Ln()&&!(ur<48||ur>102||ur>57&&ur<65||ur>70&&ur<97););return mu(n,Hd()+(t<6&&Ha()==32&&Ln()==32))}function sg(n){for(;Ln();)switch(ur){case n:return xn;case 34:case 39:n!==34&&n!==39&&sg(ur);break;case 40:n===41&&sg(n);break;case 92:Ln();break}return xn}function UV(n,t){for(;Ln()&&n+ur!==57;)if(n+ur===84&&Ha()===47)break;return"/*"+mu(t,xn-1)+"*"+ff(n===47?n:Ln())}function VV(n){for(;!Jc(Ha());)Ln();return mu(n,xn)}function zV(n){return t5(Yd("",null,null,null,[""],n=e5(n),0,[0],n))}function Yd(n,t,e,r,a,s,i,o,l){for(var u=0,d=0,f=i,m=0,p=0,y=0,v=1,x=1,w=1,N=0,_="",C=a,A=s,B=r,D=_;x;)switch(y=N,N=Ln()){case 40:if(y!=108&&Pr(D,f-1)==58){ag(D+=jt(Wd(N),"&","&\f"),"&\f")!=-1&&(w=-1);break}case 34:case 39:case 91:D+=Wd(N);break;case 9:case 10:case 13:case 32:D+=BV(y);break;case 92:D+=qV(Hd()-1,7);continue;case 47:switch(Ha()){case 42:case 47:jd(HV(UV(Ln(),Hd()),t,e),l);break;default:D+="/"}break;case 123*v:o[u++]=Ta(D)*w;case 125*v:case 59:case 0:switch(N){case 0:case 125:x=0;case 59+d:w==-1&&(D=jt(D,/\f/g,"")),p>0&&Ta(D)-f&&jd(p>32?ay(D+";",r,e,f-1):ay(jt(D," ","")+";",r,e,f-2),l);break;case 59:D+=";";default:if(jd(B=ny(D,t,e,u,d,a,o,_,C=[],A=[],f),s),N===123)if(d===0)Yd(D,t,B,B,C,s,f,o,A);else switch(m===99&&Pr(D,3)===110?100:m){case 100:case 108:case 109:case 115:Yd(n,B,B,r&&jd(ny(n,B,B,0,0,a,o,_,a,C=[],f),A),a,A,f,o,r?C:A);break;default:Yd(D,B,B,B,[""],A,0,o,A)}}u=d=p=0,v=w=1,_=D="",f=i;break;case 58:f=1+Ta(D),p=y;default:if(v<1){if(N==123)--v;else if(N==125&&v++==0&&FV()==125)continue}switch(D+=ff(N),N*v){case 38:w=d>0?1:(D+="\f",-1);break;case 44:o[u++]=(Ta(D)-1)*w,w=1;break;case 64:Ha()===45&&(D+=Wd(Ln())),m=Ha(),d=f=Ta(_=D+=VV(Hd())),N++;break;case 45:y===45&&Ta(D)==2&&(v=0)}}return s}function ny(n,t,e,r,a,s,i,o,l,u,d){for(var f=a-1,m=a===0?s:[""],p=_0(m),y=0,v=0,x=0;y<r;++y)for(var w=0,N=Kc(n,f+1,f=OV(v=i[y])),_=n;w<p;++w)(_=Qw(v>0?m[w]+" "+N:jt(N,/&\f/g,m[w])))&&(l[x++]=_);return mf(n,t,e,a===0?S0:o,l,u,d)}function HV(n,t,e){return mf(n,t,e,Jw,ff($V()),Kc(n,2,-2),0)}function ay(n,t,e,r){return mf(n,t,e,N0,Kc(n,0,r),Kc(n,r+1,-1),r)}function Wo(n,t){for(var e="",r=_0(n),a=0;a<r;a++)e+=t(n[a],a,n,t)||"";return e}function WV(n,t,e,r){switch(n.type){case LV:if(n.children.length)break;case AV:case N0:return n.return=n.return||n.value;case Jw:return"";case Xw:return n.return=n.value+"{"+Wo(n.children,r)+"}";case S0:n.value=n.props.join(",")}return Ta(e=Wo(n.children,r))?n.return=n.value+"{"+e+"}":""}function YV(n){var t=_0(n);return function(e,r,a,s){for(var i="",o=0;o<t;o++)i+=n[o](e,r,a,s)||"";return i}}function GV(n){return function(t){t.root||(t=t.return)&&n(t)}}function KV(n){var t=Object.create(null);return function(e){return t[e]===void 0&&(t[e]=n(e)),t[e]}}var JV=function(t,e,r){for(var a=0,s=0;a=s,s=Ha(),a===38&&s===12&&(e[r]=1),!Jc(s);)Ln();return mu(t,xn)},XV=function(t,e){var r=-1,a=44;do switch(Jc(a)){case 0:a===38&&Ha()===12&&(e[r]=1),t[r]+=JV(xn-1,e,r);break;case 2:t[r]+=Wd(a);break;case 4:if(a===44){t[++r]=Ha()===58?"&\f":"",e[r]=t[r].length;break}default:t[r]+=ff(a)}while(a=Ln());return t},QV=function(t,e){return t5(XV(e5(t),e))},sy=new WeakMap,ZV=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var e=t.value,r=t.parent,a=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&e.charCodeAt(0)!==58&&!sy.get(r))&&!a){sy.set(t,!0);for(var s=[],i=QV(e,s),o=r.props,l=0,u=0;l<i.length;l++)for(var d=0;d<o.length;d++,u++)t.props[u]=s[l]?i[l].replace(/&\f/g,o[d]):o[d]+" "+i[l]}}},ez=function(t){if(t.type==="decl"){var e=t.value;e.charCodeAt(0)===108&&e.charCodeAt(2)===98&&(t.return="",t.value="")}};function r5(n,t){switch(MV(n,t)){case 5103:return _t+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return _t+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return _t+n+wh+n+zr+n+n;case 6828:case 4268:return _t+n+zr+n+n;case 6165:return _t+n+zr+"flex-"+n+n;case 5187:return _t+n+jt(n,/(\w+).+(:[^]+)/,_t+"box-$1$2"+zr+"flex-$1$2")+n;case 5443:return _t+n+zr+"flex-item-"+jt(n,/flex-|-self/,"")+n;case 4675:return _t+n+zr+"flex-line-pack"+jt(n,/align-content|flex-|-self/,"")+n;case 5548:return _t+n+zr+jt(n,"shrink","negative")+n;case 5292:return _t+n+zr+jt(n,"basis","preferred-size")+n;case 6060:return _t+"box-"+jt(n,"-grow","")+_t+n+zr+jt(n,"grow","positive")+n;case 4554:return _t+jt(n,/([^-])(transform)/g,"$1"+_t+"$2")+n;case 6187:return jt(jt(jt(n,/(zoom-|grab)/,_t+"$1"),/(image-set)/,_t+"$1"),n,"")+n;case 5495:case 3959:return jt(n,/(image-set\([^]*)/,_t+"$1$`$1");case 4968:return jt(jt(n,/(.+:)(flex-)?(.*)/,_t+"box-pack:$3"+zr+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+_t+n+n;case 4095:case 3583:case 4068:case 2532:return jt(n,/(.+)-inline(.+)/,_t+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ta(n)-1-t>6)switch(Pr(n,t+1)){case 109:if(Pr(n,t+4)!==45)break;case 102:return jt(n,/(.+:)(.+)-([^]+)/,"$1"+_t+"$2-$3$1"+wh+(Pr(n,t+3)==108?"$3":"$2-$3"))+n;case 115:return~ag(n,"stretch")?r5(jt(n,"stretch","fill-available"),t)+n:n}break;case 4949:if(Pr(n,t+1)!==115)break;case 6444:switch(Pr(n,Ta(n)-3-(~ag(n,"!important")&&10))){case 107:return jt(n,":",":"+_t)+n;case 101:return jt(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+_t+(Pr(n,14)===45?"inline-":"")+"box$3$1"+_t+"$2$3$1"+zr+"$2box$3")+n}break;case 5936:switch(Pr(n,t+11)){case 114:return _t+n+zr+jt(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return _t+n+zr+jt(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return _t+n+zr+jt(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return _t+n+zr+n+n}return n}var tz=function(t,e,r,a){if(t.length>-1&&!t.return)switch(t.type){case N0:t.return=r5(t.value,t.length);break;case Xw:return Wo([dc(t,{value:jt(t.value,"@","@"+_t)})],a);case S0:if(t.length)return RV(t.props,function(s){switch(IV(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Wo([dc(t,{props:[jt(s,/:(read-\w+)/,":"+wh+"$1")]})],a);case"::placeholder":return Wo([dc(t,{props:[jt(s,/:(plac\w+)/,":"+_t+"input-$1")]}),dc(t,{props:[jt(s,/:(plac\w+)/,":"+wh+"$1")]}),dc(t,{props:[jt(s,/:(plac\w+)/,zr+"input-$1")]})],a)}return""})}},rz=[tz],nz=function(t){var e=t.key;if(e==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(v){var x=v.getAttribute("data-emotion");x.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var a=t.stylisPlugins||rz,s={},i,o=[];i=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+e+' "]'),function(v){for(var x=v.getAttribute("data-emotion").split(" "),w=1;w<x.length;w++)s[x[w]]=!0;o.push(v)});var l,u=[ZV,ez];{var d,f=[WV,GV(function(v){d.insert(v)})],m=YV(u.concat(a,f)),p=function(x){return Wo(zV(x),m)};l=function(x,w,N,_){d=N,p(x?x+"{"+w.styles+"}":w.styles),_&&(y.inserted[w.name]=!0)}}var y={key:e,sheet:new PV({key:e,container:i,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:l};return y.sheet.hydrate(o),y},n5={exports:{}},Lt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kr=typeof Symbol=="function"&&Symbol.for,j0=kr?Symbol.for("react.element"):60103,k0=kr?Symbol.for("react.portal"):60106,gf=kr?Symbol.for("react.fragment"):60107,vf=kr?Symbol.for("react.strict_mode"):60108,bf=kr?Symbol.for("react.profiler"):60114,yf=kr?Symbol.for("react.provider"):60109,xf=kr?Symbol.for("react.context"):60110,C0=kr?Symbol.for("react.async_mode"):60111,wf=kr?Symbol.for("react.concurrent_mode"):60111,Sf=kr?Symbol.for("react.forward_ref"):60112,Nf=kr?Symbol.for("react.suspense"):60113,az=kr?Symbol.for("react.suspense_list"):60120,_f=kr?Symbol.for("react.memo"):60115,jf=kr?Symbol.for("react.lazy"):60116,sz=kr?Symbol.for("react.block"):60121,iz=kr?Symbol.for("react.fundamental"):60117,oz=kr?Symbol.for("react.responder"):60118,lz=kr?Symbol.for("react.scope"):60119;function Mn(n){if(typeof n=="object"&&n!==null){var t=n.$$typeof;switch(t){case j0:switch(n=n.type,n){case C0:case wf:case gf:case bf:case vf:case Nf:return n;default:switch(n=n&&n.$$typeof,n){case xf:case Sf:case jf:case _f:case yf:return n;default:return t}}case k0:return t}}}function a5(n){return Mn(n)===wf}Lt.AsyncMode=C0;Lt.ConcurrentMode=wf;Lt.ContextConsumer=xf;Lt.ContextProvider=yf;Lt.Element=j0;Lt.ForwardRef=Sf;Lt.Fragment=gf;Lt.Lazy=jf;Lt.Memo=_f;Lt.Portal=k0;Lt.Profiler=bf;Lt.StrictMode=vf;Lt.Suspense=Nf;Lt.isAsyncMode=function(n){return a5(n)||Mn(n)===C0};Lt.isConcurrentMode=a5;Lt.isContextConsumer=function(n){return Mn(n)===xf};Lt.isContextProvider=function(n){return Mn(n)===yf};Lt.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===j0};Lt.isForwardRef=function(n){return Mn(n)===Sf};Lt.isFragment=function(n){return Mn(n)===gf};Lt.isLazy=function(n){return Mn(n)===jf};Lt.isMemo=function(n){return Mn(n)===_f};Lt.isPortal=function(n){return Mn(n)===k0};Lt.isProfiler=function(n){return Mn(n)===bf};Lt.isStrictMode=function(n){return Mn(n)===vf};Lt.isSuspense=function(n){return Mn(n)===Nf};Lt.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===gf||n===wf||n===bf||n===vf||n===Nf||n===az||typeof n=="object"&&n!==null&&(n.$$typeof===jf||n.$$typeof===_f||n.$$typeof===yf||n.$$typeof===xf||n.$$typeof===Sf||n.$$typeof===iz||n.$$typeof===oz||n.$$typeof===lz||n.$$typeof===sz)};Lt.typeOf=Mn;n5.exports=Lt;var cz=n5.exports,s5=cz,uz={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},dz={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i5={};i5[s5.ForwardRef]=uz;i5[s5.Memo]=dz;var hz=!0;function fz(n,t,e){var r="";return e.split(" ").forEach(function(a){n[a]!==void 0?t.push(n[a]+";"):a&&(r+=a+" ")}),r}var o5=function(t,e,r){var a=t.key+"-"+e.name;(r===!1||hz===!1)&&t.registered[a]===void 0&&(t.registered[a]=e.styles)},pz=function(t,e,r){o5(t,e,r);var a=t.key+"-"+e.name;if(t.inserted[e.name]===void 0){var s=e;do t.insert(e===s?"."+a:"",s,t.sheet,!0),s=s.next;while(s!==void 0)}};function mz(n){for(var t=0,e,r=0,a=n.length;a>=4;++r,a-=4)e=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,e=(e&65535)*1540483477+((e>>>16)*59797<<16),e^=e>>>24,t=(e&65535)*1540483477+((e>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(a){case 3:t^=(n.charCodeAt(r+2)&255)<<16;case 2:t^=(n.charCodeAt(r+1)&255)<<8;case 1:t^=n.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var gz={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},vz=!1,bz=/[A-Z]|^ms/g,yz=/_EMO_([^_]+?)_([^]*?)_EMO_/g,l5=function(t){return t.charCodeAt(1)===45},iy=function(t){return t!=null&&typeof t!="boolean"},Qp=KV(function(n){return l5(n)?n:n.replace(bz,"-$&").toLowerCase()}),oy=function(t,e){switch(t){case"animation":case"animationName":if(typeof e=="string")return e.replace(yz,function(r,a,s){return Ma={name:a,styles:s,next:Ma},a})}return gz[t]!==1&&!l5(t)&&typeof e=="number"&&e!==0?e+"px":e},xz="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function Xc(n,t,e){if(e==null)return"";var r=e;if(r.__emotion_styles!==void 0)return r;switch(typeof e){case"boolean":return"";case"object":{var a=e;if(a.anim===1)return Ma={name:a.name,styles:a.styles,next:Ma},a.name;var s=e;if(s.styles!==void 0){var i=s.next;if(i!==void 0)for(;i!==void 0;)Ma={name:i.name,styles:i.styles,next:Ma},i=i.next;var o=s.styles+";";return o}return wz(n,t,e)}case"function":{if(n!==void 0){var l=Ma,u=e(n);return Ma=l,Xc(n,t,u)}break}}var d=e;return d}function wz(n,t,e){var r="";if(Array.isArray(e))for(var a=0;a<e.length;a++)r+=Xc(n,t,e[a])+";";else for(var s in e){var i=e[s];if(typeof i!="object"){var o=i;iy(o)&&(r+=Qp(s)+":"+oy(s,o)+";")}else{if(s==="NO_COMPONENT_SELECTOR"&&vz)throw new Error(xz);if(Array.isArray(i)&&typeof i[0]=="string"&&t==null)for(var l=0;l<i.length;l++)iy(i[l])&&(r+=Qp(s)+":"+oy(s,i[l])+";");else{var u=Xc(n,t,i);switch(s){case"animation":case"animationName":{r+=Qp(s)+":"+u+";";break}default:r+=s+"{"+u+"}"}}}}return r}var ly=/label:\s*([^\s;{]+)\s*(;|$)/g,Ma;function c5(n,t,e){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var r=!0,a="";Ma=void 0;var s=n[0];if(s==null||s.raw===void 0)r=!1,a+=Xc(e,t,s);else{var i=s;a+=i[0]}for(var o=1;o<n.length;o++)if(a+=Xc(e,t,n[o]),r){var l=s;a+=l[o]}ly.lastIndex=0;for(var u="",d;(d=ly.exec(a))!==null;)u+="-"+d[1];var f=mz(a)+u;return{name:f,styles:a,next:Ma}}var Sz=function(t){return t()},Nz=sm.useInsertionEffect?sm.useInsertionEffect:!1,_z=Nz||Sz,jz=!1,u5=V.createContext(typeof HTMLElement<"u"?nz({key:"css"}):null);u5.Provider;var kz=function(t){return V.forwardRef(function(e,r){var a=V.useContext(u5);return t(e,a,r)})},Cz=V.createContext({}),D0={}.hasOwnProperty,ig="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Dz=function(t,e){var r={};for(var a in e)D0.call(e,a)&&(r[a]=e[a]);return r[ig]=t,r},Ez=function(t){var e=t.cache,r=t.serialized,a=t.isStringTag;return o5(e,r,a),_z(function(){return pz(e,r,a)}),null},Pz=kz(function(n,t,e){var r=n.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var a=n[ig],s=[r],i="";typeof n.className=="string"?i=fz(t.registered,s,n.className):n.className!=null&&(i=n.className+" ");var o=c5(s,void 0,V.useContext(Cz));i+=t.key+"-"+o.name;var l={};for(var u in n)D0.call(n,u)&&u!=="css"&&u!==ig&&!jz&&(l[u]=n[u]);return l.className=i,e&&(l.ref=e),V.createElement(V.Fragment,null,V.createElement(Ez,{cache:t,serialized:o,isStringTag:typeof a=="string"}),V.createElement(a,l))}),Az=Pz,Ke=function(t,e){var r=arguments;if(e==null||!D0.call(e,"css"))return V.createElement.apply(void 0,r);var a=r.length,s=new Array(a);s[0]=Az,s[1]=Dz(t,e);for(var i=2;i<a;i++)s[i]=r[i];return V.createElement.apply(null,s)};(function(n){var t;t||(t=n.JSX||(n.JSX={}))})(Ke||(Ke={}));function E0(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return c5(t)}function Lz(){var n=E0.apply(void 0,arguments),t="animation-"+n.name;return{name:t,styles:"@keyframes "+t+"{"+n.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function Oz(n,t){return t||(t=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(t)}}))}var og=V.useLayoutEffect,Tz=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Sh=function(){};function Mz(n,t){return t?t[0]==="-"?n+t:n+"__"+t:n}function Iz(n,t){for(var e=arguments.length,r=new Array(e>2?e-2:0),a=2;a<e;a++)r[a-2]=arguments[a];var s=[].concat(r);if(t&&n)for(var i in t)t.hasOwnProperty(i)&&t[i]&&s.push("".concat(Mz(n,i)));return s.filter(function(o){return o}).map(function(o){return String(o).trim()}).join(" ")}var cy=function(t){return Hz(t)?t.filter(Boolean):pt(t)==="object"&&t!==null?[t]:[]},d5=function(t){t.className,t.clearValue,t.cx,t.getStyles,t.getClassNames,t.getValue,t.hasValue,t.isMulti,t.isRtl,t.options,t.selectOption,t.selectProps,t.setValue,t.theme;var e=gr(t,Tz);return Me({},e)},Zt=function(t,e,r){var a=t.cx,s=t.getStyles,i=t.getClassNames,o=t.className;return{css:s(e,t),className:a(r??{},i(e,t),o)}};function kf(n){return[document.documentElement,document.body,window].indexOf(n)>-1}function Rz(n){return kf(n)?window.innerHeight:n.clientHeight}function h5(n){return kf(n)?window.pageYOffset:n.scrollTop}function Nh(n,t){if(kf(n)){window.scrollTo(0,t);return}n.scrollTop=t}function $z(n){var t=getComputedStyle(n),e=t.position==="absolute",r=/(auto|scroll)/;if(t.position==="fixed")return document.documentElement;for(var a=n;a=a.parentElement;)if(t=getComputedStyle(a),!(e&&t.position==="static")&&r.test(t.overflow+t.overflowY+t.overflowX))return a;return document.documentElement}function Fz(n,t,e,r){return e*((n=n/r-1)*n*n+1)+t}function kd(n,t){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Sh,a=h5(n),s=t-a,i=10,o=0;function l(){o+=i;var u=Fz(o,a,s,e);Nh(n,u),o<e?window.requestAnimationFrame(l):r(n)}l()}function uy(n,t){var e=n.getBoundingClientRect(),r=t.getBoundingClientRect(),a=t.offsetHeight/3;r.bottom+a>e.bottom?Nh(n,Math.min(t.offsetTop+t.clientHeight-n.offsetHeight+a,n.scrollHeight)):r.top-a<e.top&&Nh(n,Math.max(t.offsetTop-a,0))}function Bz(n){var t=n.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}function dy(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function qz(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var f5=!1,Uz={get passive(){return f5=!0}},Cd=typeof window<"u"?window:{};Cd.addEventListener&&Cd.removeEventListener&&(Cd.addEventListener("p",Sh,Uz),Cd.removeEventListener("p",Sh,!1));var Vz=f5;function zz(n){return n!=null}function Hz(n){return Array.isArray(n)}function Dd(n,t,e){return n?t:e}var Wz=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),a=1;a<e;a++)r[a-1]=arguments[a];var s=Object.entries(t).filter(function(i){var o=Wr(i,1),l=o[0];return!r.includes(l)});return s.reduce(function(i,o){var l=Wr(o,2),u=l[0],d=l[1];return i[u]=d,i},{})},Yz=["children","innerProps"],Gz=["children","innerProps"];function Kz(n){var t=n.maxHeight,e=n.menuEl,r=n.minHeight,a=n.placement,s=n.shouldScroll,i=n.isFixedPosition,o=n.controlHeight,l=$z(e),u={placement:"bottom",maxHeight:t};if(!e||!e.offsetParent)return u;var d=l.getBoundingClientRect(),f=d.height,m=e.getBoundingClientRect(),p=m.bottom,y=m.height,v=m.top,x=e.offsetParent.getBoundingClientRect(),w=x.top,N=i?window.innerHeight:Rz(l),_=h5(l),C=parseInt(getComputedStyle(e).marginBottom,10),A=parseInt(getComputedStyle(e).marginTop,10),B=w-A,D=N-v,E=B+_,U=f-_-v,L=p-N+_+C,k=_+v-A,P=160;switch(a){case"auto":case"bottom":if(D>=y)return{placement:"bottom",maxHeight:t};if(U>=y&&!i)return s&&kd(l,L,P),{placement:"bottom",maxHeight:t};if(!i&&U>=r||i&&D>=r){s&&kd(l,L,P);var F=i?D-C:U-C;return{placement:"bottom",maxHeight:F}}if(a==="auto"||i){var I=t,ee=i?B:E;return ee>=r&&(I=Math.min(ee-C-o,t)),{placement:"top",maxHeight:I}}if(a==="bottom")return s&&Nh(l,L),{placement:"bottom",maxHeight:t};break;case"top":if(B>=y)return{placement:"top",maxHeight:t};if(E>=y&&!i)return s&&kd(l,k,P),{placement:"top",maxHeight:t};if(!i&&E>=r||i&&B>=r){var re=t;return(!i&&E>=r||i&&B>=r)&&(re=i?B-A:E-A),s&&kd(l,k,P),{placement:"top",maxHeight:re}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(a,'".'))}return u}function Jz(n){var t={bottom:"top",top:"bottom"};return n?t[n]:"bottom"}var p5=function(t){return t==="auto"?"bottom":t},Xz=function(t,e){var r,a=t.placement,s=t.theme,i=s.borderRadius,o=s.spacing,l=s.colors;return Me((r={label:"menu"},pa(r,Jz(a),"100%"),pa(r,"position","absolute"),pa(r,"width","100%"),pa(r,"zIndex",1),r),e?{}:{backgroundColor:l.neutral0,borderRadius:i,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:o.menuGutter,marginTop:o.menuGutter})},m5=V.createContext(null),Qz=function(t){var e=t.children,r=t.minMenuHeight,a=t.maxMenuHeight,s=t.menuPlacement,i=t.menuPosition,o=t.menuShouldScrollIntoView,l=t.theme,u=V.useContext(m5)||{},d=u.setPortalPlacement,f=V.useRef(null),m=V.useState(a),p=Wr(m,2),y=p[0],v=p[1],x=V.useState(null),w=Wr(x,2),N=w[0],_=w[1],C=l.spacing.controlHeight;return og(function(){var A=f.current;if(A){var B=i==="fixed",D=o&&!B,E=Kz({maxHeight:a,menuEl:A,minHeight:r,placement:s,shouldScroll:D,isFixedPosition:B,controlHeight:C});v(E.maxHeight),_(E.placement),d==null||d(E.placement)}},[a,s,i,o,r,d,C]),e({ref:f,placerProps:Me(Me({},t),{},{placement:N||p5(s),maxHeight:y})})},Zz=function(t){var e=t.children,r=t.innerRef,a=t.innerProps;return Ke("div",Ve({},Zt(t,"menu",{menu:!0}),{ref:r},a),e)},eH=Zz,tH=function(t,e){var r=t.maxHeight,a=t.theme.spacing.baseUnit;return Me({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},e?{}:{paddingBottom:a,paddingTop:a})},rH=function(t){var e=t.children,r=t.innerProps,a=t.innerRef,s=t.isMulti;return Ke("div",Ve({},Zt(t,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:a},r),e)},g5=function(t,e){var r=t.theme,a=r.spacing.baseUnit,s=r.colors;return Me({textAlign:"center"},e?{}:{color:s.neutral40,padding:"".concat(a*2,"px ").concat(a*3,"px")})},nH=g5,aH=g5,sH=function(t){var e=t.children,r=e===void 0?"No options":e,a=t.innerProps,s=gr(t,Yz);return Ke("div",Ve({},Zt(Me(Me({},s),{},{children:r,innerProps:a}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),a),r)},iH=function(t){var e=t.children,r=e===void 0?"Loading...":e,a=t.innerProps,s=gr(t,Gz);return Ke("div",Ve({},Zt(Me(Me({},s),{},{children:r,innerProps:a}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),a),r)},oH=function(t){var e=t.rect,r=t.offset,a=t.position;return{left:e.left,position:a,top:r,width:e.width,zIndex:1}},lH=function(t){var e=t.appendTo,r=t.children,a=t.controlElement,s=t.innerProps,i=t.menuPlacement,o=t.menuPosition,l=V.useRef(null),u=V.useRef(null),d=V.useState(p5(i)),f=Wr(d,2),m=f[0],p=f[1],y=V.useMemo(function(){return{setPortalPlacement:p}},[]),v=V.useState(null),x=Wr(v,2),w=x[0],N=x[1],_=V.useCallback(function(){if(a){var D=Bz(a),E=o==="fixed"?0:window.pageYOffset,U=D[m]+E;(U!==(w==null?void 0:w.offset)||D.left!==(w==null?void 0:w.rect.left)||D.width!==(w==null?void 0:w.rect.width))&&N({offset:U,rect:D})}},[a,o,m,w==null?void 0:w.offset,w==null?void 0:w.rect.left,w==null?void 0:w.rect.width]);og(function(){_()},[_]);var C=V.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),a&&l.current&&(u.current=E2(a,l.current,_,{elementResize:"ResizeObserver"in window}))},[a,_]);og(function(){C()},[C]);var A=V.useCallback(function(D){l.current=D,C()},[C]);if(!e&&o!=="fixed"||!w)return null;var B=Ke("div",Ve({ref:A},Zt(Me(Me({},t),{},{offset:w.offset,position:o,rect:w.rect}),"menuPortal",{"menu-portal":!0}),s),r);return Ke(m5.Provider,{value:y},e?jh.createPortal(B,e):B)},cH=function(t){var e=t.isDisabled,r=t.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:e?"none":void 0,position:"relative"}},uH=function(t){var e=t.children,r=t.innerProps,a=t.isDisabled,s=t.isRtl;return Ke("div",Ve({},Zt(t,"container",{"--is-disabled":a,"--is-rtl":s}),r),e)},dH=function(t,e){var r=t.theme.spacing,a=t.isMulti,s=t.hasValue,i=t.selectProps.controlShouldRenderValue;return Me({alignItems:"center",display:a&&s&&i?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},e?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},hH=function(t){var e=t.children,r=t.innerProps,a=t.isMulti,s=t.hasValue;return Ke("div",Ve({},Zt(t,"valueContainer",{"value-container":!0,"value-container--is-multi":a,"value-container--has-value":s}),r),e)},fH=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},pH=function(t){var e=t.children,r=t.innerProps;return Ke("div",Ve({},Zt(t,"indicatorsContainer",{indicators:!0}),r),e)},hy,mH=["size"],gH=["innerProps","isRtl","size"],vH={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},v5=function(t){var e=t.size,r=gr(t,mH);return Ke("svg",Ve({height:e,width:e,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:vH},r))},P0=function(t){return Ke(v5,Ve({size:20},t),Ke("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},b5=function(t){return Ke(v5,Ve({size:20},t),Ke("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},y5=function(t,e){var r=t.isFocused,a=t.theme,s=a.spacing.baseUnit,i=a.colors;return Me({label:"indicatorContainer",display:"flex",transition:"color 150ms"},e?{}:{color:r?i.neutral60:i.neutral20,padding:s*2,":hover":{color:r?i.neutral80:i.neutral40}})},bH=y5,yH=function(t){var e=t.children,r=t.innerProps;return Ke("div",Ve({},Zt(t,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),e||Ke(b5,null))},xH=y5,wH=function(t){var e=t.children,r=t.innerProps;return Ke("div",Ve({},Zt(t,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),e||Ke(P0,null))},SH=function(t,e){var r=t.isDisabled,a=t.theme,s=a.spacing.baseUnit,i=a.colors;return Me({label:"indicatorSeparator",alignSelf:"stretch",width:1},e?{}:{backgroundColor:r?i.neutral10:i.neutral20,marginBottom:s*2,marginTop:s*2})},NH=function(t){var e=t.innerProps;return Ke("span",Ve({},e,Zt(t,"indicatorSeparator",{"indicator-separator":!0})))},_H=Lz(hy||(hy=Oz([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),jH=function(t,e){var r=t.isFocused,a=t.size,s=t.theme,i=s.colors,o=s.spacing.baseUnit;return Me({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:a,lineHeight:1,marginRight:a,textAlign:"center",verticalAlign:"middle"},e?{}:{color:r?i.neutral60:i.neutral20,padding:o*2})},Zp=function(t){var e=t.delay,r=t.offset;return Ke("span",{css:E0({animation:"".concat(_H," 1s ease-in-out ").concat(e,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},kH=function(t){var e=t.innerProps,r=t.isRtl,a=t.size,s=a===void 0?4:a,i=gr(t,gH);return Ke("div",Ve({},Zt(Me(Me({},i),{},{innerProps:e,isRtl:r,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),e),Ke(Zp,{delay:0,offset:r}),Ke(Zp,{delay:160,offset:!0}),Ke(Zp,{delay:320,offset:!r}))},CH=function(t,e){var r=t.isDisabled,a=t.isFocused,s=t.theme,i=s.colors,o=s.borderRadius,l=s.spacing;return Me({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},e?{}:{backgroundColor:r?i.neutral5:i.neutral0,borderColor:r?i.neutral10:a?i.primary:i.neutral20,borderRadius:o,borderStyle:"solid",borderWidth:1,boxShadow:a?"0 0 0 1px ".concat(i.primary):void 0,"&:hover":{borderColor:a?i.primary:i.neutral30}})},DH=function(t){var e=t.children,r=t.isDisabled,a=t.isFocused,s=t.innerRef,i=t.innerProps,o=t.menuIsOpen;return Ke("div",Ve({ref:s},Zt(t,"control",{control:!0,"control--is-disabled":r,"control--is-focused":a,"control--menu-is-open":o}),i,{"aria-disabled":r||void 0}),e)},EH=DH,PH=["data"],AH=function(t,e){var r=t.theme.spacing;return e?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},LH=function(t){var e=t.children,r=t.cx,a=t.getStyles,s=t.getClassNames,i=t.Heading,o=t.headingProps,l=t.innerProps,u=t.label,d=t.theme,f=t.selectProps;return Ke("div",Ve({},Zt(t,"group",{group:!0}),l),Ke(i,Ve({},o,{selectProps:f,theme:d,getStyles:a,getClassNames:s,cx:r}),u),Ke("div",null,e))},OH=function(t,e){var r=t.theme,a=r.colors,s=r.spacing;return Me({label:"group",cursor:"default",display:"block"},e?{}:{color:a.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},TH=function(t){var e=d5(t);e.data;var r=gr(e,PH);return Ke("div",Ve({},Zt(t,"groupHeading",{"group-heading":!0}),r))},MH=LH,IH=["innerRef","isDisabled","isHidden","inputClassName"],RH=function(t,e){var r=t.isDisabled,a=t.value,s=t.theme,i=s.spacing,o=s.colors;return Me(Me({visibility:r?"hidden":"visible",transform:a?"translateZ(0)":""},$H),e?{}:{margin:i.baseUnit/2,paddingBottom:i.baseUnit/2,paddingTop:i.baseUnit/2,color:o.neutral80})},x5={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},$H={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Me({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},x5)},FH=function(t){return Me({label:"input",color:"inherit",background:0,opacity:t?0:1,width:"100%"},x5)},BH=function(t){var e=t.cx,r=t.value,a=d5(t),s=a.innerRef,i=a.isDisabled,o=a.isHidden,l=a.inputClassName,u=gr(a,IH);return Ke("div",Ve({},Zt(t,"input",{"input-container":!0}),{"data-value":r||""}),Ke("input",Ve({className:e({input:!0},l),ref:s,style:FH(o),disabled:i},u)))},qH=BH,UH=function(t,e){var r=t.theme,a=r.spacing,s=r.borderRadius,i=r.colors;return Me({label:"multiValue",display:"flex",minWidth:0},e?{}:{backgroundColor:i.neutral10,borderRadius:s/2,margin:a.baseUnit/2})},VH=function(t,e){var r=t.theme,a=r.borderRadius,s=r.colors,i=t.cropWithEllipsis;return Me({overflow:"hidden",textOverflow:i||i===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},e?{}:{borderRadius:a/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},zH=function(t,e){var r=t.theme,a=r.spacing,s=r.borderRadius,i=r.colors,o=t.isFocused;return Me({alignItems:"center",display:"flex"},e?{}:{borderRadius:s/2,backgroundColor:o?i.dangerLight:void 0,paddingLeft:a.baseUnit,paddingRight:a.baseUnit,":hover":{backgroundColor:i.dangerLight,color:i.danger}})},w5=function(t){var e=t.children,r=t.innerProps;return Ke("div",r,e)},HH=w5,WH=w5;function YH(n){var t=n.children,e=n.innerProps;return Ke("div",Ve({role:"button"},e),t||Ke(P0,{size:14}))}var GH=function(t){var e=t.children,r=t.components,a=t.data,s=t.innerProps,i=t.isDisabled,o=t.removeProps,l=t.selectProps,u=r.Container,d=r.Label,f=r.Remove;return Ke(u,{data:a,innerProps:Me(Me({},Zt(t,"multiValue",{"multi-value":!0,"multi-value--is-disabled":i})),s),selectProps:l},Ke(d,{data:a,innerProps:Me({},Zt(t,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},e),Ke(f,{data:a,innerProps:Me(Me({},Zt(t,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(e||"option")},o),selectProps:l}))},KH=GH,JH=function(t,e){var r=t.isDisabled,a=t.isFocused,s=t.isSelected,i=t.theme,o=i.spacing,l=i.colors;return Me({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},e?{}:{backgroundColor:s?l.primary:a?l.primary25:"transparent",color:r?l.neutral20:s?l.neutral0:"inherit",padding:"".concat(o.baseUnit*2,"px ").concat(o.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:s?l.primary:l.primary50}})},XH=function(t){var e=t.children,r=t.isDisabled,a=t.isFocused,s=t.isSelected,i=t.innerRef,o=t.innerProps;return Ke("div",Ve({},Zt(t,"option",{option:!0,"option--is-disabled":r,"option--is-focused":a,"option--is-selected":s}),{ref:i,"aria-disabled":r},o),e)},QH=XH,ZH=function(t,e){var r=t.theme,a=r.spacing,s=r.colors;return Me({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},e?{}:{color:s.neutral50,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},eW=function(t){var e=t.children,r=t.innerProps;return Ke("div",Ve({},Zt(t,"placeholder",{placeholder:!0}),r),e)},tW=eW,rW=function(t,e){var r=t.isDisabled,a=t.theme,s=a.spacing,i=a.colors;return Me({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e?{}:{color:r?i.neutral40:i.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},nW=function(t){var e=t.children,r=t.isDisabled,a=t.innerProps;return Ke("div",Ve({},Zt(t,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),a),e)},aW=nW,sW={ClearIndicator:wH,Control:EH,DropdownIndicator:yH,DownChevron:b5,CrossIcon:P0,Group:MH,GroupHeading:TH,IndicatorsContainer:pH,IndicatorSeparator:NH,Input:qH,LoadingIndicator:kH,Menu:eH,MenuList:rH,MenuPortal:lH,LoadingMessage:iH,NoOptionsMessage:sH,MultiValue:KH,MultiValueContainer:HH,MultiValueLabel:WH,MultiValueRemove:YH,Option:QH,Placeholder:tW,SelectContainer:uH,SingleValue:aW,ValueContainer:hH},iW=function(t){return Me(Me({},sW),t.components)},oW={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},lW=function(t){return Ke("span",Ve({css:oW},t))},fy=lW,cW={guidance:function(t){var e=t.isSearchable,r=t.isMulti,a=t.tabSelectsValue,s=t.context,i=t.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(a?", press Tab to select the option and exit the menu":"",".");case"input":return i?"".concat(t["aria-label"]||"Select"," is focused ").concat(e?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var e=t.action,r=t.label,a=r===void 0?"":r,s=t.labels,i=t.isDisabled;switch(e){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(a,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return i?"option ".concat(a," is disabled. Select another option."):"option ".concat(a,", selected.");default:return""}},onFocus:function(t){var e=t.context,r=t.focused,a=t.options,s=t.label,i=s===void 0?"":s,o=t.selectValue,l=t.isDisabled,u=t.isSelected,d=t.isAppleDevice,f=function(v,x){return v&&v.length?"".concat(v.indexOf(x)+1," of ").concat(v.length):""};if(e==="value"&&o)return"value ".concat(i," focused, ").concat(f(o,r),".");if(e==="menu"&&d){var m=l?" disabled":"",p="".concat(u?" selected":"").concat(m);return"".concat(i).concat(p,", ").concat(f(a,r),".")}return""},onFilter:function(t){var e=t.inputValue,r=t.resultsMessage;return"".concat(r).concat(e?" for search term "+e:"",".")}},uW=function(t){var e=t.ariaSelection,r=t.focusedOption,a=t.focusedValue,s=t.focusableOptions,i=t.isFocused,o=t.selectValue,l=t.selectProps,u=t.id,d=t.isAppleDevice,f=l.ariaLiveMessages,m=l.getOptionLabel,p=l.inputValue,y=l.isMulti,v=l.isOptionDisabled,x=l.isSearchable,w=l.menuIsOpen,N=l.options,_=l.screenReaderStatus,C=l.tabSelectsValue,A=l.isLoading,B=l["aria-label"],D=l["aria-live"],E=V.useMemo(function(){return Me(Me({},cW),f||{})},[f]),U=V.useMemo(function(){var ee="";if(e&&E.onChange){var re=e.option,W=e.options,Z=e.removedValue,le=e.removedValues,de=e.value,Ce=function(ae){return Array.isArray(ae)?null:ae},M=Z||re||Ce(de),Y=M?m(M):"",X=W||le||void 0,K=X?X.map(m):[],ne=Me({isDisabled:M&&v(M,o),label:Y,labels:K},e);ee=E.onChange(ne)}return ee},[e,E,v,o,m]),L=V.useMemo(function(){var ee="",re=r||a,W=!!(r&&o&&o.includes(r));if(re&&E.onFocus){var Z={focused:re,label:m(re),isDisabled:v(re,o),isSelected:W,options:s,context:re===r?"menu":"value",selectValue:o,isAppleDevice:d};ee=E.onFocus(Z)}return ee},[r,a,m,v,E,s,o,d]),k=V.useMemo(function(){var ee="";if(w&&N.length&&!A&&E.onFilter){var re=_({count:s.length});ee=E.onFilter({inputValue:p,resultsMessage:re})}return ee},[s,p,w,E,N,_,A]),P=(e==null?void 0:e.action)==="initial-input-focus",F=V.useMemo(function(){var ee="";if(E.guidance){var re=a?"value":w?"menu":"input";ee=E.guidance({"aria-label":B,context:re,isDisabled:r&&v(r,o),isMulti:y,isSearchable:x,tabSelectsValue:C,isInitialFocus:P})}return ee},[B,r,a,y,v,x,w,E,o,C,P]),I=Ke(V.Fragment,null,Ke("span",{id:"aria-selection"},U),Ke("span",{id:"aria-focused"},L),Ke("span",{id:"aria-results"},k),Ke("span",{id:"aria-guidance"},F));return Ke(V.Fragment,null,Ke(fy,{id:u},P&&I),Ke(fy,{"aria-live":D,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},i&&!P&&I))},dW=uW,lg=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],hW=new RegExp("["+lg.map(function(n){return n.letters}).join("")+"]","g"),S5={};for(var em=0;em<lg.length;em++)for(var tm=lg[em],rm=0;rm<tm.letters.length;rm++)S5[tm.letters[rm]]=tm.base;var N5=function(t){return t.replace(hW,function(e){return S5[e]})},fW=h0(N5),py=function(t){return t.replace(/^\s+|\s+$/g,"")},pW=function(t){return"".concat(t.label," ").concat(t.value)},mW=function(t){return function(e,r){if(e.data.__isNew__)return!0;var a=Me({ignoreCase:!0,ignoreAccents:!0,stringify:pW,trim:!0,matchFrom:"any"},t),s=a.ignoreCase,i=a.ignoreAccents,o=a.stringify,l=a.trim,u=a.matchFrom,d=l?py(r):r,f=l?py(o(e)):o(e);return s&&(d=d.toLowerCase(),f=f.toLowerCase()),i&&(d=fW(d),f=N5(f)),u==="start"?f.substr(0,d.length)===d:f.indexOf(d)>-1}},gW=["innerRef"];function vW(n){var t=n.innerRef,e=gr(n,gW),r=Wz(e,"onExited","in","enter","exit","appear");return Ke("input",Ve({ref:t},r,{css:E0({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var bW=function(t){t.cancelable&&t.preventDefault(),t.stopPropagation()};function yW(n){var t=n.isEnabled,e=n.onBottomArrive,r=n.onBottomLeave,a=n.onTopArrive,s=n.onTopLeave,i=V.useRef(!1),o=V.useRef(!1),l=V.useRef(0),u=V.useRef(null),d=V.useCallback(function(x,w){if(u.current!==null){var N=u.current,_=N.scrollTop,C=N.scrollHeight,A=N.clientHeight,B=u.current,D=w>0,E=C-A-_,U=!1;E>w&&i.current&&(r&&r(x),i.current=!1),D&&o.current&&(s&&s(x),o.current=!1),D&&w>E?(e&&!i.current&&e(x),B.scrollTop=C,U=!0,i.current=!0):!D&&-w>_&&(a&&!o.current&&a(x),B.scrollTop=0,U=!0,o.current=!0),U&&bW(x)}},[e,r,a,s]),f=V.useCallback(function(x){d(x,x.deltaY)},[d]),m=V.useCallback(function(x){l.current=x.changedTouches[0].clientY},[]),p=V.useCallback(function(x){var w=l.current-x.changedTouches[0].clientY;d(x,w)},[d]),y=V.useCallback(function(x){if(x){var w=Vz?{passive:!1}:!1;x.addEventListener("wheel",f,w),x.addEventListener("touchstart",m,w),x.addEventListener("touchmove",p,w)}},[p,m,f]),v=V.useCallback(function(x){x&&(x.removeEventListener("wheel",f,!1),x.removeEventListener("touchstart",m,!1),x.removeEventListener("touchmove",p,!1))},[p,m,f]);return V.useEffect(function(){if(t){var x=u.current;return y(x),function(){v(x)}}},[t,y,v]),function(x){u.current=x}}var my=["boxSizing","height","overflow","paddingRight","position"],gy={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function vy(n){n.cancelable&&n.preventDefault()}function by(n){n.stopPropagation()}function yy(){var n=this.scrollTop,t=this.scrollHeight,e=n+this.offsetHeight;n===0?this.scrollTop=1:e===t&&(this.scrollTop=n-1)}function xy(){return"ontouchstart"in window||navigator.maxTouchPoints}var wy=!!(typeof window<"u"&&window.document&&window.document.createElement),hc=0,Ao={capture:!1,passive:!1};function xW(n){var t=n.isEnabled,e=n.accountForScrollbars,r=e===void 0?!0:e,a=V.useRef({}),s=V.useRef(null),i=V.useCallback(function(l){if(wy){var u=document.body,d=u&&u.style;if(r&&my.forEach(function(y){var v=d&&d[y];a.current[y]=v}),r&&hc<1){var f=parseInt(a.current.paddingRight,10)||0,m=document.body?document.body.clientWidth:0,p=window.innerWidth-m+f||0;Object.keys(gy).forEach(function(y){var v=gy[y];d&&(d[y]=v)}),d&&(d.paddingRight="".concat(p,"px"))}u&&xy()&&(u.addEventListener("touchmove",vy,Ao),l&&(l.addEventListener("touchstart",yy,Ao),l.addEventListener("touchmove",by,Ao))),hc+=1}},[r]),o=V.useCallback(function(l){if(wy){var u=document.body,d=u&&u.style;hc=Math.max(hc-1,0),r&&hc<1&&my.forEach(function(f){var m=a.current[f];d&&(d[f]=m)}),u&&xy()&&(u.removeEventListener("touchmove",vy,Ao),l&&(l.removeEventListener("touchstart",yy,Ao),l.removeEventListener("touchmove",by,Ao)))}},[r]);return V.useEffect(function(){if(t){var l=s.current;return i(l),function(){o(l)}}},[t,i,o]),function(l){s.current=l}}var wW=function(t){var e=t.target;return e.ownerDocument.activeElement&&e.ownerDocument.activeElement.blur()},SW={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function NW(n){var t=n.children,e=n.lockEnabled,r=n.captureEnabled,a=r===void 0?!0:r,s=n.onBottomArrive,i=n.onBottomLeave,o=n.onTopArrive,l=n.onTopLeave,u=yW({isEnabled:a,onBottomArrive:s,onBottomLeave:i,onTopArrive:o,onTopLeave:l}),d=xW({isEnabled:e}),f=function(p){u(p),d(p)};return Ke(V.Fragment,null,e&&Ke("div",{onClick:wW,css:SW}),t(f))}var _W={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},jW=function(t){var e=t.name,r=t.onFocus;return Ke("input",{required:!0,name:e,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:_W,value:"",onChange:function(){}})},kW=jW;function A0(n){var t;return typeof window<"u"&&window.navigator!=null?n.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function CW(){return A0(/^iPhone/i)}function _5(){return A0(/^Mac/i)}function DW(){return A0(/^iPad/i)||_5()&&navigator.maxTouchPoints>1}function EW(){return CW()||DW()}function PW(){return _5()||EW()}var AW=function(t){return t.label},LW=function(t){return t.label},OW=function(t){return t.value},TW=function(t){return!!t.isDisabled},MW={clearIndicator:xH,container:cH,control:CH,dropdownIndicator:bH,group:AH,groupHeading:OH,indicatorsContainer:fH,indicatorSeparator:SH,input:RH,loadingIndicator:jH,loadingMessage:aH,menu:Xz,menuList:tH,menuPortal:oH,multiValue:UH,multiValueLabel:VH,multiValueRemove:zH,noOptionsMessage:nH,option:JH,placeholder:ZH,singleValue:rW,valueContainer:dH},IW={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},RW=4,j5=4,$W=38,FW=j5*2,BW={baseUnit:j5,controlHeight:$W,menuGutter:FW},nm={borderRadius:RW,colors:IW,spacing:BW},qW={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:dy(),captureMenuScroll:!dy(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:mW(),formatGroupLabel:AW,getOptionLabel:LW,getOptionValue:OW,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:TW,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!qz(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){var e=t.count;return"".concat(e," result").concat(e!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function Sy(n,t,e,r){var a=D5(n,t,e),s=E5(n,t,e),i=C5(n,t),o=_h(n,t);return{type:"option",data:t,isDisabled:a,isSelected:s,label:i,value:o,index:r}}function Gd(n,t){return n.options.map(function(e,r){if("options"in e){var a=e.options.map(function(i,o){return Sy(n,i,t,o)}).filter(function(i){return _y(n,i)});return a.length>0?{type:"group",data:e,options:a,index:r}:void 0}var s=Sy(n,e,t,r);return _y(n,s)?s:void 0}).filter(zz)}function k5(n){return n.reduce(function(t,e){return e.type==="group"?t.push.apply(t,Ai(e.options.map(function(r){return r.data}))):t.push(e.data),t},[])}function Ny(n,t){return n.reduce(function(e,r){return r.type==="group"?e.push.apply(e,Ai(r.options.map(function(a){return{data:a.data,id:"".concat(t,"-").concat(r.index,"-").concat(a.index)}}))):e.push({data:r.data,id:"".concat(t,"-").concat(r.index)}),e},[])}function UW(n,t){return k5(Gd(n,t))}function _y(n,t){var e=n.inputValue,r=e===void 0?"":e,a=t.data,s=t.isSelected,i=t.label,o=t.value;return(!A5(n)||!s)&&P5(n,{label:i,value:o,data:a},r)}function VW(n,t){var e=n.focusedValue,r=n.selectValue,a=r.indexOf(e);if(a>-1){var s=t.indexOf(e);if(s>-1)return e;if(a<t.length)return t[a]}return null}function zW(n,t){var e=n.focusedOption;return e&&t.indexOf(e)>-1?e:t[0]}var am=function(t,e){var r,a=(r=t.find(function(s){return s.data===e}))===null||r===void 0?void 0:r.id;return a||null},C5=function(t,e){return t.getOptionLabel(e)},_h=function(t,e){return t.getOptionValue(e)};function D5(n,t,e){return typeof n.isOptionDisabled=="function"?n.isOptionDisabled(t,e):!1}function E5(n,t,e){if(e.indexOf(t)>-1)return!0;if(typeof n.isOptionSelected=="function")return n.isOptionSelected(t,e);var r=_h(n,t);return e.some(function(a){return _h(n,a)===r})}function P5(n,t,e){return n.filterOption?n.filterOption(t,e):!0}var A5=function(t){var e=t.hideSelectedOptions,r=t.isMulti;return e===void 0?r:e},HW=1,L5=function(n){Tr(e,n);var t=kV(e);function e(r){var a;if(dr(this,e),a=t.call(this,r),a.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:""},a.blockOptionHover=!1,a.isComposing=!1,a.commonProps=void 0,a.initialTouchX=0,a.initialTouchY=0,a.openAfterFocus=!1,a.scrollToFocusedOptionOnUpdate=!1,a.userIsDragging=void 0,a.isAppleDevice=PW(),a.controlRef=null,a.getControlRef=function(l){a.controlRef=l},a.focusedOptionRef=null,a.getFocusedOptionRef=function(l){a.focusedOptionRef=l},a.menuListRef=null,a.getMenuListRef=function(l){a.menuListRef=l},a.inputRef=null,a.getInputRef=function(l){a.inputRef=l},a.focus=a.focusInput,a.blur=a.blurInput,a.onChange=function(l,u){var d=a.props,f=d.onChange,m=d.name;u.name=m,a.ariaOnChange(l,u),f(l,u)},a.setValue=function(l,u,d){var f=a.props,m=f.closeMenuOnSelect,p=f.isMulti,y=f.inputValue;a.onInputChange("",{action:"set-value",prevInputValue:y}),m&&(a.setState({inputIsHiddenAfterUpdate:!p}),a.onMenuClose()),a.setState({clearFocusValueOnUpdate:!0}),a.onChange(l,{action:u,option:d})},a.selectOption=function(l){var u=a.props,d=u.blurInputOnSelect,f=u.isMulti,m=u.name,p=a.state.selectValue,y=f&&a.isOptionSelected(l,p),v=a.isOptionDisabled(l,p);if(y){var x=a.getOptionValue(l);a.setValue(p.filter(function(w){return a.getOptionValue(w)!==x}),"deselect-option",l)}else if(!v)f?a.setValue([].concat(Ai(p),[l]),"select-option",l):a.setValue(l,"select-option");else{a.ariaOnChange(l,{action:"select-option",option:l,name:m});return}d&&a.blurInput()},a.removeValue=function(l){var u=a.props.isMulti,d=a.state.selectValue,f=a.getOptionValue(l),m=d.filter(function(y){return a.getOptionValue(y)!==f}),p=Dd(u,m,m[0]||null);a.onChange(p,{action:"remove-value",removedValue:l}),a.focusInput()},a.clearValue=function(){var l=a.state.selectValue;a.onChange(Dd(a.props.isMulti,[],null),{action:"clear",removedValues:l})},a.popValue=function(){var l=a.props.isMulti,u=a.state.selectValue,d=u[u.length-1],f=u.slice(0,u.length-1),m=Dd(l,f,f[0]||null);d&&a.onChange(m,{action:"pop-value",removedValue:d})},a.getFocusedOptionId=function(l){return am(a.state.focusableOptionsWithIds,l)},a.getFocusableOptionsWithIds=function(){return Ny(Gd(a.props,a.state.selectValue),a.getElementId("option"))},a.getValue=function(){return a.state.selectValue},a.cx=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];return Iz.apply(void 0,[a.props.classNamePrefix].concat(u))},a.getOptionLabel=function(l){return C5(a.props,l)},a.getOptionValue=function(l){return _h(a.props,l)},a.getStyles=function(l,u){var d=a.props.unstyled,f=MW[l](u,d);f.boxSizing="border-box";var m=a.props.styles[l];return m?m(f,u):f},a.getClassNames=function(l,u){var d,f;return(d=(f=a.props.classNames)[l])===null||d===void 0?void 0:d.call(f,u)},a.getElementId=function(l){return"".concat(a.state.instancePrefix,"-").concat(l)},a.getComponents=function(){return iW(a.props)},a.buildCategorizedOptions=function(){return Gd(a.props,a.state.selectValue)},a.getCategorizedOptions=function(){return a.props.menuIsOpen?a.buildCategorizedOptions():[]},a.buildFocusableOptions=function(){return k5(a.buildCategorizedOptions())},a.getFocusableOptions=function(){return a.props.menuIsOpen?a.buildFocusableOptions():[]},a.ariaOnChange=function(l,u){a.setState({ariaSelection:Me({value:l},u)})},a.onMenuMouseDown=function(l){l.button===0&&(l.stopPropagation(),l.preventDefault(),a.focusInput())},a.onMenuMouseMove=function(l){a.blockOptionHover=!1},a.onControlMouseDown=function(l){if(!l.defaultPrevented){var u=a.props.openMenuOnClick;a.state.isFocused?a.props.menuIsOpen?l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&a.onMenuClose():u&&a.openMenu("first"):(u&&(a.openAfterFocus=!0),a.focusInput()),l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&l.preventDefault()}},a.onDropdownIndicatorMouseDown=function(l){if(!(l&&l.type==="mousedown"&&l.button!==0)&&!a.props.isDisabled){var u=a.props,d=u.isMulti,f=u.menuIsOpen;a.focusInput(),f?(a.setState({inputIsHiddenAfterUpdate:!d}),a.onMenuClose()):a.openMenu("first"),l.preventDefault()}},a.onClearIndicatorMouseDown=function(l){l&&l.type==="mousedown"&&l.button!==0||(a.clearValue(),l.preventDefault(),a.openAfterFocus=!1,l.type==="touchend"?a.focusInput():setTimeout(function(){return a.focusInput()}))},a.onScroll=function(l){typeof a.props.closeMenuOnScroll=="boolean"?l.target instanceof HTMLElement&&kf(l.target)&&a.props.onMenuClose():typeof a.props.closeMenuOnScroll=="function"&&a.props.closeMenuOnScroll(l)&&a.props.onMenuClose()},a.onCompositionStart=function(){a.isComposing=!0},a.onCompositionEnd=function(){a.isComposing=!1},a.onTouchStart=function(l){var u=l.touches,d=u&&u.item(0);d&&(a.initialTouchX=d.clientX,a.initialTouchY=d.clientY,a.userIsDragging=!1)},a.onTouchMove=function(l){var u=l.touches,d=u&&u.item(0);if(d){var f=Math.abs(d.clientX-a.initialTouchX),m=Math.abs(d.clientY-a.initialTouchY),p=5;a.userIsDragging=f>p||m>p}},a.onTouchEnd=function(l){a.userIsDragging||(a.controlRef&&!a.controlRef.contains(l.target)&&a.menuListRef&&!a.menuListRef.contains(l.target)&&a.blurInput(),a.initialTouchX=0,a.initialTouchY=0)},a.onControlTouchEnd=function(l){a.userIsDragging||a.onControlMouseDown(l)},a.onClearIndicatorTouchEnd=function(l){a.userIsDragging||a.onClearIndicatorMouseDown(l)},a.onDropdownIndicatorTouchEnd=function(l){a.userIsDragging||a.onDropdownIndicatorMouseDown(l)},a.handleInputChange=function(l){var u=a.props.inputValue,d=l.currentTarget.value;a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange(d,{action:"input-change",prevInputValue:u}),a.props.menuIsOpen||a.onMenuOpen()},a.onInputFocus=function(l){a.props.onFocus&&a.props.onFocus(l),a.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(a.openAfterFocus||a.props.openMenuOnFocus)&&a.openMenu("first"),a.openAfterFocus=!1},a.onInputBlur=function(l){var u=a.props.inputValue;if(a.menuListRef&&a.menuListRef.contains(document.activeElement)){a.inputRef.focus();return}a.props.onBlur&&a.props.onBlur(l),a.onInputChange("",{action:"input-blur",prevInputValue:u}),a.onMenuClose(),a.setState({focusedValue:null,isFocused:!1})},a.onOptionHover=function(l){if(!(a.blockOptionHover||a.state.focusedOption===l)){var u=a.getFocusableOptions(),d=u.indexOf(l);a.setState({focusedOption:l,focusedOptionId:d>-1?a.getFocusedOptionId(l):null})}},a.shouldHideSelectedOptions=function(){return A5(a.props)},a.onValueInputFocus=function(l){l.preventDefault(),l.stopPropagation(),a.focus()},a.onKeyDown=function(l){var u=a.props,d=u.isMulti,f=u.backspaceRemovesValue,m=u.escapeClearsValue,p=u.inputValue,y=u.isClearable,v=u.isDisabled,x=u.menuIsOpen,w=u.onKeyDown,N=u.tabSelectsValue,_=u.openMenuOnFocus,C=a.state,A=C.focusedOption,B=C.focusedValue,D=C.selectValue;if(!v&&!(typeof w=="function"&&(w(l),l.defaultPrevented))){switch(a.blockOptionHover=!0,l.key){case"ArrowLeft":if(!d||p)return;a.focusValue("previous");break;case"ArrowRight":if(!d||p)return;a.focusValue("next");break;case"Delete":case"Backspace":if(p)return;if(B)a.removeValue(B);else{if(!f)return;d?a.popValue():y&&a.clearValue()}break;case"Tab":if(a.isComposing||l.shiftKey||!x||!N||!A||_&&a.isOptionSelected(A,D))return;a.selectOption(A);break;case"Enter":if(l.keyCode===229)break;if(x){if(!A||a.isComposing)return;a.selectOption(A);break}return;case"Escape":x?(a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange("",{action:"menu-close",prevInputValue:p}),a.onMenuClose()):y&&m&&a.clearValue();break;case" ":if(p)return;if(!x){a.openMenu("first");break}if(!A)return;a.selectOption(A);break;case"ArrowUp":x?a.focusOption("up"):a.openMenu("last");break;case"ArrowDown":x?a.focusOption("down"):a.openMenu("first");break;case"PageUp":if(!x)return;a.focusOption("pageup");break;case"PageDown":if(!x)return;a.focusOption("pagedown");break;case"Home":if(!x)return;a.focusOption("first");break;case"End":if(!x)return;a.focusOption("last");break;default:return}l.preventDefault()}},a.state.instancePrefix="react-select-"+(a.props.instanceId||++HW),a.state.selectValue=cy(r.value),r.menuIsOpen&&a.state.selectValue.length){var s=a.getFocusableOptionsWithIds(),i=a.buildFocusableOptions(),o=i.indexOf(a.state.selectValue[0]);a.state.focusableOptionsWithIds=s,a.state.focusedOption=i[o],a.state.focusedOptionId=am(s,i[o])}return a}return hr(e,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&uy(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(a){var s=this.props,i=s.isDisabled,o=s.menuIsOpen,l=this.state.isFocused;(l&&!i&&a.isDisabled||l&&o&&!a.menuIsOpen)&&this.focusInput(),l&&i&&!a.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!i&&a.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(uy(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(a,s){this.props.onInputChange(a,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(a){var s=this,i=this.state,o=i.selectValue,l=i.isFocused,u=this.buildFocusableOptions(),d=a==="first"?0:u.length-1;if(!this.props.isMulti){var f=u.indexOf(o[0]);f>-1&&(d=f)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[d],focusedOptionId:this.getFocusedOptionId(u[d])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(a){var s=this.state,i=s.selectValue,o=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=i.indexOf(o);o||(l=-1);var u=i.length-1,d=-1;if(i.length){switch(a){case"previous":l===0?d=0:l===-1?d=u:d=l-1;break;case"next":l>-1&&l<u&&(d=l+1);break}this.setState({inputIsHidden:d!==-1,focusedValue:i[d]})}}}},{key:"focusOption",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,i=this.state.focusedOption,o=this.getFocusableOptions();if(o.length){var l=0,u=o.indexOf(i);i||(u=-1),a==="up"?l=u>0?u-1:o.length-1:a==="down"?l=(u+1)%o.length:a==="pageup"?(l=u-s,l<0&&(l=0)):a==="pagedown"?(l=u+s,l>o.length-1&&(l=o.length-1)):a==="last"&&(l=o.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:o[l],focusedValue:null,focusedOptionId:this.getFocusedOptionId(o[l])})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(nm):Me(Me({},nm),this.props.theme):nm}},{key:"getCommonProps",value:function(){var a=this.clearValue,s=this.cx,i=this.getStyles,o=this.getClassNames,l=this.getValue,u=this.selectOption,d=this.setValue,f=this.props,m=f.isMulti,p=f.isRtl,y=f.options,v=this.hasValue();return{clearValue:a,cx:s,getStyles:i,getClassNames:o,getValue:l,hasValue:v,isMulti:m,isRtl:p,options:y,selectOption:u,selectProps:f,setValue:d,theme:this.getTheme()}}},{key:"hasValue",value:function(){var a=this.state.selectValue;return a.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var a=this.props,s=a.isClearable,i=a.isMulti;return s===void 0?i:s}},{key:"isOptionDisabled",value:function(a,s){return D5(this.props,a,s)}},{key:"isOptionSelected",value:function(a,s){return E5(this.props,a,s)}},{key:"filterOption",value:function(a,s){return P5(this.props,a,s)}},{key:"formatOptionLabel",value:function(a,s){if(typeof this.props.formatOptionLabel=="function"){var i=this.props.inputValue,o=this.state.selectValue;return this.props.formatOptionLabel(a,{context:s,inputValue:i,selectValue:o})}else return this.getOptionLabel(a)}},{key:"formatGroupLabel",value:function(a){return this.props.formatGroupLabel(a)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var a=this.props,s=a.isDisabled,i=a.isSearchable,o=a.inputId,l=a.inputValue,u=a.tabIndex,d=a.form,f=a.menuIsOpen,m=a.required,p=this.getComponents(),y=p.Input,v=this.state,x=v.inputIsHidden,w=v.ariaSelection,N=this.commonProps,_=o||this.getElementId("input"),C=Me(Me(Me({"aria-autocomplete":"list","aria-expanded":f,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":m,role:"combobox","aria-activedescendant":this.isAppleDevice?void 0:this.state.focusedOptionId||""},f&&{"aria-controls":this.getElementId("listbox")}),!i&&{"aria-readonly":!0}),this.hasValue()?(w==null?void 0:w.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return i?V.createElement(y,Ve({},N,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:_,innerRef:this.getInputRef,isDisabled:s,isHidden:x,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:d,type:"text",value:l},C)):V.createElement(vW,Ve({id:_,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Sh,onFocus:this.onInputFocus,disabled:s,tabIndex:u,inputMode:"none",form:d,value:""},C))}},{key:"renderPlaceholderOrValue",value:function(){var a=this,s=this.getComponents(),i=s.MultiValue,o=s.MultiValueContainer,l=s.MultiValueLabel,u=s.MultiValueRemove,d=s.SingleValue,f=s.Placeholder,m=this.commonProps,p=this.props,y=p.controlShouldRenderValue,v=p.isDisabled,x=p.isMulti,w=p.inputValue,N=p.placeholder,_=this.state,C=_.selectValue,A=_.focusedValue,B=_.isFocused;if(!this.hasValue()||!y)return w?null:V.createElement(f,Ve({},m,{key:"placeholder",isDisabled:v,isFocused:B,innerProps:{id:this.getElementId("placeholder")}}),N);if(x)return C.map(function(E,U){var L=E===A,k="".concat(a.getOptionLabel(E),"-").concat(a.getOptionValue(E));return V.createElement(i,Ve({},m,{components:{Container:o,Label:l,Remove:u},isFocused:L,isDisabled:v,key:k,index:U,removeProps:{onClick:function(){return a.removeValue(E)},onTouchEnd:function(){return a.removeValue(E)},onMouseDown:function(F){F.preventDefault()}},data:E}),a.formatOptionLabel(E,"value"))});if(w)return null;var D=C[0];return V.createElement(d,Ve({},m,{data:D,isDisabled:v}),this.formatOptionLabel(D,"value"))}},{key:"renderClearIndicator",value:function(){var a=this.getComponents(),s=a.ClearIndicator,i=this.commonProps,o=this.props,l=o.isDisabled,u=o.isLoading,d=this.state.isFocused;if(!this.isClearable()||!s||l||!this.hasValue()||u)return null;var f={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return V.createElement(s,Ve({},i,{innerProps:f,isFocused:d}))}},{key:"renderLoadingIndicator",value:function(){var a=this.getComponents(),s=a.LoadingIndicator,i=this.commonProps,o=this.props,l=o.isDisabled,u=o.isLoading,d=this.state.isFocused;if(!s||!u)return null;var f={"aria-hidden":"true"};return V.createElement(s,Ve({},i,{innerProps:f,isDisabled:l,isFocused:d}))}},{key:"renderIndicatorSeparator",value:function(){var a=this.getComponents(),s=a.DropdownIndicator,i=a.IndicatorSeparator;if(!s||!i)return null;var o=this.commonProps,l=this.props.isDisabled,u=this.state.isFocused;return V.createElement(i,Ve({},o,{isDisabled:l,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var a=this.getComponents(),s=a.DropdownIndicator;if(!s)return null;var i=this.commonProps,o=this.props.isDisabled,l=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return V.createElement(s,Ve({},i,{innerProps:u,isDisabled:o,isFocused:l}))}},{key:"renderMenu",value:function(){var a=this,s=this.getComponents(),i=s.Group,o=s.GroupHeading,l=s.Menu,u=s.MenuList,d=s.MenuPortal,f=s.LoadingMessage,m=s.NoOptionsMessage,p=s.Option,y=this.commonProps,v=this.state.focusedOption,x=this.props,w=x.captureMenuScroll,N=x.inputValue,_=x.isLoading,C=x.loadingMessage,A=x.minMenuHeight,B=x.maxMenuHeight,D=x.menuIsOpen,E=x.menuPlacement,U=x.menuPosition,L=x.menuPortalTarget,k=x.menuShouldBlockScroll,P=x.menuShouldScrollIntoView,F=x.noOptionsMessage,I=x.onMenuScrollToTop,ee=x.onMenuScrollToBottom;if(!D)return null;var re=function(Y,X){var K=Y.type,ne=Y.data,ue=Y.isDisabled,ae=Y.isSelected,fe=Y.label,Ne=Y.value,_e=v===ne,Oe=ue?void 0:function(){return a.onOptionHover(ne)},Pe=ue?void 0:function(){return a.selectOption(ne)},De="".concat(a.getElementId("option"),"-").concat(X),ve={id:De,onClick:Pe,onMouseMove:Oe,onMouseOver:Oe,tabIndex:-1,role:"option","aria-selected":a.isAppleDevice?void 0:ae};return V.createElement(p,Ve({},y,{innerProps:ve,data:ne,isDisabled:ue,isSelected:ae,key:De,label:fe,type:K,value:Ne,isFocused:_e,innerRef:_e?a.getFocusedOptionRef:void 0}),a.formatOptionLabel(Y.data,"menu"))},W;if(this.hasOptions())W=this.getCategorizedOptions().map(function(M){if(M.type==="group"){var Y=M.data,X=M.options,K=M.index,ne="".concat(a.getElementId("group"),"-").concat(K),ue="".concat(ne,"-heading");return V.createElement(i,Ve({},y,{key:ne,data:Y,options:X,Heading:o,headingProps:{id:ue,data:M.data},label:a.formatGroupLabel(M.data)}),M.options.map(function(ae){return re(ae,"".concat(K,"-").concat(ae.index))}))}else if(M.type==="option")return re(M,"".concat(M.index))});else if(_){var Z=C({inputValue:N});if(Z===null)return null;W=V.createElement(f,y,Z)}else{var le=F({inputValue:N});if(le===null)return null;W=V.createElement(m,y,le)}var de={minMenuHeight:A,maxMenuHeight:B,menuPlacement:E,menuPosition:U,menuShouldScrollIntoView:P},Ce=V.createElement(Qz,Ve({},y,de),function(M){var Y=M.ref,X=M.placerProps,K=X.placement,ne=X.maxHeight;return V.createElement(l,Ve({},y,de,{innerRef:Y,innerProps:{onMouseDown:a.onMenuMouseDown,onMouseMove:a.onMenuMouseMove},isLoading:_,placement:K}),V.createElement(NW,{captureEnabled:w,onTopArrive:I,onBottomArrive:ee,lockEnabled:k},function(ue){return V.createElement(u,Ve({},y,{innerRef:function(fe){a.getMenuListRef(fe),ue(fe)},innerProps:{role:"listbox","aria-multiselectable":y.isMulti,id:a.getElementId("listbox")},isLoading:_,maxHeight:ne,focusedOption:v}),W)}))});return L||U==="fixed"?V.createElement(d,Ve({},y,{appendTo:L,controlElement:this.controlRef,menuPlacement:E,menuPosition:U}),Ce):Ce}},{key:"renderFormField",value:function(){var a=this,s=this.props,i=s.delimiter,o=s.isDisabled,l=s.isMulti,u=s.name,d=s.required,f=this.state.selectValue;if(d&&!this.hasValue()&&!o)return V.createElement(kW,{name:u,onFocus:this.onValueInputFocus});if(!(!u||o))if(l)if(i){var m=f.map(function(v){return a.getOptionValue(v)}).join(i);return V.createElement("input",{name:u,type:"hidden",value:m})}else{var p=f.length>0?f.map(function(v,x){return V.createElement("input",{key:"i-".concat(x),name:u,type:"hidden",value:a.getOptionValue(v)})}):V.createElement("input",{name:u,type:"hidden",value:""});return V.createElement("div",null,p)}else{var y=f[0]?this.getOptionValue(f[0]):"";return V.createElement("input",{name:u,type:"hidden",value:y})}}},{key:"renderLiveRegion",value:function(){var a=this.commonProps,s=this.state,i=s.ariaSelection,o=s.focusedOption,l=s.focusedValue,u=s.isFocused,d=s.selectValue,f=this.getFocusableOptions();return V.createElement(dW,Ve({},a,{id:this.getElementId("live-region"),ariaSelection:i,focusedOption:o,focusedValue:l,isFocused:u,selectValue:d,focusableOptions:f,isAppleDevice:this.isAppleDevice}))}},{key:"render",value:function(){var a=this.getComponents(),s=a.Control,i=a.IndicatorsContainer,o=a.SelectContainer,l=a.ValueContainer,u=this.props,d=u.className,f=u.id,m=u.isDisabled,p=u.menuIsOpen,y=this.state.isFocused,v=this.commonProps=this.getCommonProps();return V.createElement(o,Ve({},v,{className:d,innerProps:{id:f,onKeyDown:this.onKeyDown},isDisabled:m,isFocused:y}),this.renderLiveRegion(),V.createElement(s,Ve({},v,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:m,isFocused:y,menuIsOpen:p}),V.createElement(l,Ve({},v,{isDisabled:m}),this.renderPlaceholderOrValue(),this.renderInput()),V.createElement(i,Ve({},v,{isDisabled:m}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(a,s){var i=s.prevProps,o=s.clearFocusValueOnUpdate,l=s.inputIsHiddenAfterUpdate,u=s.ariaSelection,d=s.isFocused,f=s.prevWasFocused,m=s.instancePrefix,p=a.options,y=a.value,v=a.menuIsOpen,x=a.inputValue,w=a.isMulti,N=cy(y),_={};if(i&&(y!==i.value||p!==i.options||v!==i.menuIsOpen||x!==i.inputValue)){var C=v?UW(a,N):[],A=v?Ny(Gd(a,N),"".concat(m,"-option")):[],B=o?VW(s,N):null,D=zW(s,C),E=am(A,D);_={selectValue:N,focusedOption:D,focusedOptionId:E,focusableOptionsWithIds:A,focusedValue:B,clearFocusValueOnUpdate:!1}}var U=l!=null&&a!==i?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},L=u,k=d&&f;return d&&!k&&(L={value:Dd(w,N,N[0]||null),options:N,action:"initial-input-focus"},k=!f),(u==null?void 0:u.action)==="initial-input-focus"&&(L=null),Me(Me(Me({},_),U),{},{prevProps:a,ariaSelection:L,prevWasFocused:k})}}]),e}(V.Component);L5.defaultProps=qW;var WW=V.forwardRef(function(n,t){var e=jV(n);return V.createElement(L5,Ve({ref:t},e))}),jy=WW;async function L0(n){const t=new Qe,e=t.internal.pageSize.getWidth(),r=t.internal.pageSize.getHeight(),a=[14,165,233],s=[239,246,255],i=[30,41,59],o=[100,116,139];let l=20;t.setFillColor(...a),t.rect(0,0,e,70,"F");try{const x="/Imagem do WhatsApp de 2025-06-07 (s) 14.47.51_4a694503 (1).png",w=()=>new Promise((N,_)=>{const C=new Image;C.crossOrigin="anonymous",C.onload=()=>N(C),C.onerror=()=>_(new Error("Failed to load logo")),C.src=x});try{const N=await w(),_=document.createElement("canvas"),C=_.getContext("2d");if(C){const A=N.width,B=N.height,D=A/B,E=20,U=E*D;_.width=A,_.height=B,C.drawImage(N,0,0);const L=_.toDataURL("image/png");t.addImage(L,"PNG",15,25,U,E)}else throw new Error("Canvas context not available")}catch(N){console.warn("Could not load HidroMineral logo, using placeholder:",N);const _=40,C=20;t.setFillColor(255,255,255),t.rect(15,25,_,C,"F"),t.setDrawColor(14,165,233),t.setLineWidth(1),t.rect(15,25,_,C),t.setTextColor(14,165,233),t.setFontSize(8),t.setFont("helvetica","bold"),t.text("HidroMineral",15+_/2,32,{align:"center"}),t.setFontSize(6),t.text("Mineralizador",15+_/2,40,{align:"center"})}}catch(x){console.warn("Error handling logo:",x);const w=40,N=20;t.setFillColor(255,255,255),t.rect(15,25,w,N,"F"),t.setDrawColor(200,200,200),t.setLineWidth(1),t.rect(15,25,w,N),t.setTextColor(100,100,100),t.setFontSize(7),t.setFont("helvetica","bold"),t.text("LOGO",15+w/2,37,{align:"center"})}const u=105;t.setTextColor(255,255,255),t.setFontSize(20),t.setFont("helvetica","bold"),t.text("ORAMENTO",u,25);const d=105;t.setTextColor(255,255,255),t.setFontSize(9),t.setFont("helvetica","normal"),t.text("CNPJ: 24.395.398/0001-70",d,37),t.text("Tel: (66) 2102-5000",d,45),t.text("Rua dos Cajueiros, 1366",d,53),t.text("Setor Residencial Norte - Sinop-MT",d,61),t.setTextColor(255,255,255),t.setFontSize(9),t.setFont("helvetica","normal"),t.text(`N ${n.id.substring(0,8)}`,e-15,30,{align:"right"}),t.text(`Emitido: ${new Date().toLocaleDateString("pt-BR")}`,e-15,38,{align:"right"}),t.text(`Vlido at: ${new Date(n.valid_until).toLocaleDateString("pt-BR")}`,e-15,46,{align:"right"}),l=85,t.setFillColor(...s),t.rect(15,l,e-30,35,"F"),t.setDrawColor(...a),t.setLineWidth(.5),t.rect(15,l,e-30,35),t.setTextColor(...i),t.setFontSize(14),t.setFont("helvetica","bold"),t.text("DADOS DO CLIENTE",20,l+10),t.setFontSize(12),t.setFont("helvetica","normal"),t.text(`${n.client.name}`,20,l+22);let f=l+29;if(n.client.email&&(t.setFontSize(10),t.setTextColor(...o),t.text(`Email: ${n.client.email}`,20,f)),n.client.phone&&(t.setFontSize(10),t.setTextColor(...o),t.text(`Telefone: ${n.client.phone}`,e/2,f)),l+=55,t.setTextColor(...i),t.setFontSize(14),t.setFont("helvetica","bold"),t.text("ITENS DO ORAMENTO",20,l),l+=15,t.setFillColor(...a),t.rect(15,l,e-30,15,"F"),t.setTextColor(255,255,255),t.setFontSize(10),t.setFont("helvetica","bold"),t.text("DESCRIO",20,l+10),t.text("QTD",e-130,l+10,{align:"center"}),t.text("VALOR UNIT.",e-90,l+10,{align:"center"}),t.text("TOTAL",e-30,l+10,{align:"right"}),l+=15,t.setTextColor(...i),t.setFont("helvetica","normal"),n.items.forEach((x,w)=>{w%2===0&&(t.setFillColor(248,250,252),t.rect(15,l,e-30,12,"F")),t.setDrawColor(226,232,240),t.setLineWidth(.1),t.line(15,l+12,e-15,l+12),t.setFontSize(10),t.text(x.name,20,l+8),t.text(x.quantity.toString(),e-130,l+8,{align:"center"}),t.text(`R$ ${x.price.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,e-90,l+8,{align:"center"}),t.text(`R$ ${x.total.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,e-30,l+8,{align:"right"}),l+=12}),l+=10,t.setFillColor(241,245,249),t.rect(e-120,l,105,20,"F"),t.setDrawColor(...a),t.setLineWidth(1),t.rect(e-120,l,105,20),t.setTextColor(...i),t.setFontSize(12),t.setFont("helvetica","bold"),t.text("VALOR TOTAL",e-115,l+8),t.setFontSize(16),t.setTextColor(...a),t.text(`R$ ${n.total_value.toLocaleString("pt-BR",{minimumFractionDigits:2})}`,e-25,l+15,{align:"right"}),l+=40,n.notes&&n.notes.trim()){t.setTextColor(...i),t.setFontSize(12),t.setFont("helvetica","bold"),t.text("OBSERVAES",20,l),l+=10;const x=Math.max(25,Math.ceil(n.notes.length/80)*5+10);t.setFillColor(249,250,251),t.rect(15,l,e-30,x,"F"),t.setDrawColor(209,213,219),t.setLineWidth(.5),t.rect(15,l,e-30,x),t.setFontSize(10),t.setFont("helvetica","normal"),t.setTextColor(...o);const w=t.splitTextToSize(n.notes,e-40);let N=l+8;w.forEach(_=>{t.text(_,20,N),N+=5}),l+=x+15}const m=r-50;t.setTextColor(0,0,0),t.setFontSize(11),t.setFont("helvetica","bold"),t.text("ASSINATURA DO CLIENTE",20,m),t.setDrawColor(150,150,150),t.setLineWidth(.5),t.line(20,m+15,120,m+15),t.setTextColor(0,0,0),t.setFontSize(11),t.setFont("helvetica","bold"),t.text("ASSINATURA DA EMPRESA",e-120,m),t.setDrawColor(150,150,150),t.setLineWidth(.5),t.line(e-120,m+15,e-20,m+15);const p=r-25;t.setFontSize(10),t.setFont("helvetica","italic"),t.setTextColor(...a),t.text("Obrigado pela confiana!",e/2,p,{align:"center"});const y=p+8;return t.setFontSize(9),t.setFont("helvetica","italic"),t.setTextColor(...o),t.text("Este oramento tem validade conforme data especificada acima.",e/2,y,{align:"center"}),t.text("Valores sujeitos a alterao sem aviso prvio.",e/2,y+5,{align:"center"}),t.output("blob")}function O5({open:n,onOpenChange:t,quotationId:e}){const{profile:r}=Jn(),[a,s]=V.useState(null),[i,o]=V.useState([]),[l,u]=V.useState(new Date(Date.now()+7*24*60*60*1e3)),[d,f]=V.useState(""),m=Hn(k=>k.clients),p=ri(k=>k.products),y=Ii(k=>k.services),v=ma(k=>k.quotations),x=ma(k=>k.addQuotation),w=ma(k=>k.updateQuotation);V.useEffect(()=>{var k;if(e){const P=v.find(F=>F.id===e);P&&(s({value:P.client_id,label:(k=m.find(F=>F.id===P.client_id))==null?void 0:k.name}),o(P.items),u(new Date(P.valid_until)),f(P.notes))}},[e,v,m]);const N=()=>{o([...i,{id:"",type:"product",name:"",quantity:1,price:0,total:0}])},_=k=>{o(i.filter((P,F)=>F!==k))},C=(k,P,F)=>{const I=[...i],ee=I[k];if(P==="id"){const[re,W]=F.split(":"),Z=re==="product"?p.find(le=>le.id===W):y.find(le=>le.id===W);Z&&(ee.id=W,ee.type=re,ee.name=Z.name,ee.price=Z.price,ee.total=ee.quantity*Z.price)}else P==="quantity"&&(ee.quantity=F,ee.total=F*ee.price);I[k]=ee,o(I)},A=()=>i.reduce((k,P)=>k+P.total,0),B=async k=>{if(k.preventDefault(),!a||!(r!=null&&r.id))return;const P={client_id:a.value,vendor_id:r.id,items:i,total_value:A(),status:"draft",valid_until:l.toISOString(),notes:d};try{e?await w(e,P):await x(P),t(!1),U()}catch(F){console.error("Error saving quotation:",F),alert("Erro ao salvar oramento")}},D=async()=>{if(!a||i.length===0){alert("Por favor, selecione um cliente e adicione itens ao oramento");return}const k=m.find(F=>F.id===a.value);if(!k){alert("Cliente no encontrado");return}const P={id:e||"NOVO",client:k,items:i,total_value:A(),valid_until:l.toISOString(),notes:d,company:{name:"HidroMineral",cnpj:"24.395.398/0001-70",phone:"(66) 2102-5000",address:"Rua dos Cajueiros, 1366 - Bairro Setor Residencial Norte - Sinop-MT"}};try{const F=await L0(P),I=URL.createObjectURL(F),ee=document.createElement("a");ee.href=I,ee.download=`Orcamento_${k.name.replace(/\s+/g,"_")}_${new Date().toLocaleDateString("pt-BR").replace(/\//g,"-")}.pdf`,document.body.appendChild(ee),ee.click(),document.body.removeChild(ee),URL.revokeObjectURL(I)}catch(F){console.error("Error generating PDF:",F),alert("Erro ao gerar PDF")}},E=async()=>{if(!a||i.length===0){alert("Por favor, selecione um cliente e adicione itens ao oramento");return}const k=m.find(ee=>ee.id===a.value);if(!k){alert("Cliente no encontrado");return}const P=` *HidroMineral*

Ol *${k.name}*! 

Segue o oramento solicitado:

 *ORAMENTO #${e||"NOVO"}*
 *Valor Total: R$ ${A().toLocaleString("pt-BR",{minimumFractionDigits:2})}*
 *Vlido at: ${l.toLocaleDateString("pt-BR")}*

*ITENS:*
${i.map(ee=>` ${ee.name}
  Qtd: ${ee.quantity} | Valor: R$ ${ee.total.toLocaleString("pt-BR",{minimumFractionDigits:2})}`).join(`

`)}

${d?`
 *Observaes:*
${d}
`:""}
---
 (66) 2102-5000
 Rua dos Cajueiros, 1366 - Bairro Setor Residencial Norte - Sinop-MT
 CNPJ: 24.395.398/0001-70

*Aguardamos seu retorno para confirmarmos o pedido!*

_Obrigado pela confiana!_ `,F=encodeURIComponent(P);let I="";if(k.phone){const ee=k.phone.replace(/\D/g,"");I=`https://wa.me/${ee.startsWith("55")?ee:`55${ee}`}?text=${F}`}else I=`https://wa.me/?text=${F}`;window.open(I,"_blank")},U=()=>{s(null),o([]),u(new Date(Date.now()+7*24*60*60*1e3)),f("")},L=[...p.map(k=>({value:`product:${k.id}`,label:`${k.name} (Produto)`})),...y.map(k=>({value:`service:${k.id}`,label:`${k.name} (Servio)`}))];return c.jsx(en,{open:n,onOpenChange:t,children:c.jsxs(tn,{children:[c.jsx(rn,{className:"fixed inset-0 bg-black/50"}),c.jsxs(nn,{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white rounded-lg p-6 w-[90vw] max-w-[900px] max-h-[85vh] overflow-y-auto",children:[c.jsx(an,{className:"text-xl font-semibold mb-4",children:e?"Editar Oramento":"Novo Oramento"}),c.jsxs("form",{onSubmit:B,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Cliente"}),c.jsx(jy,{value:a,onChange:s,options:m.map(k=>({value:k.id,label:k.name})),className:"w-full",placeholder:"Selecione um cliente"})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between items-center mb-2",children:[c.jsx("label",{className:"block text-sm font-medium",children:"Itens"}),c.jsxs("button",{type:"button",onClick:N,className:"flex items-center px-3 py-1 text-sm bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:[c.jsx(On,{className:"h-4 w-4 mr-1"}),"Adicionar Item"]})]}),c.jsx("div",{className:"space-y-4",children:i.map((k,P)=>c.jsxs("div",{className:"flex gap-4 items-start p-4 bg-gray-50 rounded-lg border",children:[c.jsx("div",{className:"flex-1 min-w-0",children:c.jsx(jy,{value:k.id?{value:`${k.type}:${k.id}`,label:`${k.name} (${k.type==="product"?"Produto":"Servio"})`}:null,onChange:F=>C(P,"id",F==null?void 0:F.value),options:L,className:"w-full min-w-[200px]",placeholder:"Selecione um item"})}),c.jsxs("div",{className:"w-20 flex-shrink-0",children:[c.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Qtd"}),c.jsx("input",{type:"number",value:k.quantity,onChange:F=>C(P,"quantity",Number(F.target.value)),className:"w-full px-3 py-2 border rounded-md",min:"1"})]}),c.jsxs("div",{className:"w-28 flex-shrink-0",children:[c.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Valor Unit."}),c.jsx("input",{type:"text",value:bt(k.price),className:"w-full px-3 py-2 border rounded-md bg-gray-100",disabled:!0})]}),c.jsxs("div",{className:"w-28 flex-shrink-0",children:[c.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Total"}),c.jsx("input",{type:"text",value:bt(k.total),className:"w-full px-3 py-2 border rounded-md bg-gray-100 font-medium",disabled:!0})]}),c.jsx("div",{className:"flex-shrink-0",children:c.jsx("button",{type:"button",onClick:()=>_(P),className:"p-2 text-red-600 hover:bg-red-50 rounded-full transition-colors",children:c.jsx(Ga,{className:"h-5 w-5"})})})]},P))}),i.length>0&&c.jsx("div",{className:"flex justify-end mt-4",children:c.jsxs("div",{className:"bg-gradient-to-r from-blue-100 to-cyan-100 px-6 py-3 rounded-lg border border-blue-200",children:[c.jsx("span",{className:"font-medium text-gray-700",children:"Total: "}),c.jsx("span",{className:"text-xl font-bold text-blue-700",children:bt(A())})]})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Vlido at"}),c.jsx(rl,{selected:l,onChange:k=>u(k||new Date),dateFormat:"dd/MM/yyyy",className:"w-full px-3 py-2 border rounded-md",minDate:new Date})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium mb-1",children:"Observaes"}),c.jsx("textarea",{value:d,onChange:k=>f(k.target.value),className:"w-full px-3 py-2 border rounded-md",rows:3,placeholder:"Adicione observaes, condies especiais, forma de pagamento, etc..."})]}),c.jsxs("div",{className:"flex justify-between gap-2 pt-4 border-t",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{type:"button",onClick:D,className:"flex items-center px-4 py-2 text-sm font-medium text-blue-700 bg-blue-50 border border-blue-200 rounded-md hover:bg-blue-100 transition-colors",children:[c.jsx(Dc,{className:"h-4 w-4 mr-2"}),"Baixar PDF"]}),c.jsxs("button",{type:"button",onClick:E,className:"flex items-center px-4 py-2 text-sm font-medium text-green-700 bg-green-50 border border-green-200 rounded-md hover:bg-green-100 transition-colors",children:[c.jsx(gg,{className:"h-4 w-4 mr-2"}),"Compartilhar WhatsApp"]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{type:"button",onClick:()=>t(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 rounded-md transition-colors",children:"Cancelar"}),c.jsx("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md transition-colors",children:"Salvar"})]})]})]}),c.jsx(sn,{className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:c.jsx(Lr,{size:20})})]})]})})}function YW(){const n=on(),{profile:t}=Jn(),[e,r]=V.useState(!1),[a,s]=V.useState(),i=ma(_=>_.quotations),o=ma(_=>_.getQuotations),l=ma(_=>_.updateQuotation),u=ma(_=>_.deleteQuotation),d=Hn(_=>_.clients),{info:f,getInfo:m}=bg();V.useEffect(()=>{t&&(o(),m())},[o,m,t]);const p=async(_,C)=>{try{await l(_,{status:C})}catch(A){console.error("Error updating quotation status:",A),alert("Erro ao atualizar status do oramento")}},y=async _=>{if(confirm("Tem certeza que deseja excluir este oramento?"))try{await u(_)}catch(C){console.error("Error deleting quotation:",C),alert("Erro ao excluir oramento")}},v=async _=>{const C=d.find(B=>B.id===_.client_id);if(!C){alert("Cliente no encontrado");return}const A={id:_.id,client:C,items:_.items,total_value:_.total_value,valid_until:_.valid_until,notes:_.notes,company:f||{name:"Empresa",cnpj:"00.000.000/0000-00",phone:"(00) 0000-0000",address:"Endereo da empresa"}};try{const B=await L0(A),D=URL.createObjectURL(B),E=document.createElement("a");E.href=D,E.download=`Orcamento_${C.name.replace(/\s+/g,"_")}_${new Date().toLocaleDateString("pt-BR").replace(/\//g,"-")}.pdf`,document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(D)}catch(B){console.error("Error generating PDF:",B),alert("Erro ao gerar PDF")}},x=async _=>{const C=d.find(E=>E.id===_.client_id);if(!C){alert("Cliente no encontrado");return}const A=` *${(f==null?void 0:f.name)||"Empresa"}*

Ol *${C.name}*! 

Segue o oramento solicitado:

 *ORAMENTO #${_.id}*
 *Valor Total: R$ ${_.total_value.toLocaleString("pt-BR",{minimumFractionDigits:2})}*
 *Vlido at: ${new Date(_.valid_until).toLocaleDateString("pt-BR")}*

*ITENS:*
${_.items.map(E=>` ${E.name}
  Qtd: ${E.quantity} | Valor: R$ ${E.total.toLocaleString("pt-BR",{minimumFractionDigits:2})}`).join(`

`)}

${_.notes?`
 *Observaes:*
${_.notes}
`:""}
---
 ${(f==null?void 0:f.phone)||"(00) 0000-0000"}
 ${(f==null?void 0:f.address)||"Endereo da empresa"}
 CNPJ: ${(f==null?void 0:f.cnpj)||"00.000.000/0000-00"}

*Aguardamos seu retorno para confirmarmos o pedido!*

_Obrigado pela confiana!_ `,B=encodeURIComponent(A);let D="";if(C.phone){const E=C.phone.replace(/\D/g,"");D=`https://wa.me/${E.startsWith("55")?E:`55${E}`}?text=${B}`}else D=`https://wa.me/?text=${B}`;window.open(D,"_blank")},w=_=>{switch(_){case"draft":return"bg-gray-100 text-gray-800";case"sent":return"bg-blue-100 text-blue-800";case"accepted":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},N=_=>{switch(_){case"draft":return"Rascunho";case"sent":return"Enviado";case"accepted":return"Aceito";case"rejected":return"Recusado";default:return _}};return c.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("button",{onClick:()=>n("/admin"),className:"mr-4 text-gray-600 hover:text-gray-900",children:c.jsx(Xn,{className:"h-6 w-6"})}),c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Oramentos"})]}),c.jsxs("button",{onClick:()=>{s(void 0),r(!0)},className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[c.jsx(On,{className:"h-5 w-5 mr-2"}),"Novo Oramento"]})]}),c.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vlido at"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(_=>{const C=d.find(A=>A.id===_.client_id);return c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("div",{className:"text-sm font-medium text-gray-900",children:C==null?void 0:C.name})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("div",{className:"text-sm text-gray-900 font-medium",children:bt(_.total_value)})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("div",{className:"text-sm text-gray-900",children:new Date(_.valid_until).toLocaleDateString("pt-BR")})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${w(_.status)}`,children:N(_.status)})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>v(_),className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50 transition-colors",title:"Baixar PDF",children:c.jsx(Dc,{className:"h-5 w-5"})}),c.jsx("button",{onClick:()=>x(_),className:"text-green-600 hover:text-green-900 p-1 rounded hover:bg-green-50 transition-colors",title:"Compartilhar no WhatsApp",children:c.jsx(gg,{className:"h-5 w-5"})}),_.status==="draft"&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>{s(_.id),r(!0)},className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50 transition-colors",title:"Editar oramento",children:c.jsx(Yi,{className:"h-5 w-5"})}),c.jsx("button",{onClick:()=>p(_.id,"sent"),className:"text-green-600 hover:text-green-900 p-1 rounded hover:bg-green-50 transition-colors",title:"Enviar oramento",children:c.jsx(d2,{className:"h-5 w-5"})})]}),_.status==="sent"&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>p(_.id,"accepted"),className:"text-green-600 hover:text-green-900 p-1 rounded hover:bg-green-50 transition-colors",title:"Marcar como aceito",children:c.jsx(oj,{className:"h-5 w-5"})}),c.jsx("button",{onClick:()=>p(_.id,"rejected"),className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50 transition-colors",title:"Marcar como recusado",children:c.jsx(Lr,{className:"h-5 w-5"})})]}),c.jsx("button",{onClick:()=>y(_.id),className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50 transition-colors",title:"Excluir oramento",children:c.jsx(Ga,{className:"h-5 w-5"})})]})})]},_.id)})})]})})}),c.jsx(O5,{open:e,onOpenChange:r,quotationId:a})]})})}function GW(){const n=on(),[t,e]=V.useState(""),[r,a]=V.useState("all"),[s,i]=V.useState("all"),[o,l]=V.useState(null),[u,d]=V.useState(!1),{sales:f,loading:m,error:p,getSales:y,cancelSale:v,getTotalSales:x,getTotalRevenue:w,clearError:N}=yg();V.useEffect(()=>{y()},[y]);const _=f.filter(L=>{const k=L.client.name.toLowerCase().includes(t.toLowerCase())||L.id.toLowerCase().includes(t.toLowerCase())||L.vendor.toLowerCase().includes(t.toLowerCase()),P=r==="all"||L.status===r;let F=!0;if(s!=="all"){const I=new Date(L.date),ee=new Date;switch(s){case"today":F=I.toDateString()===ee.toDateString();break;case"week":const re=new Date(ee.getTime()-7*24*60*60*1e3);F=I>=re;break;case"month":const W=new Date(ee.getTime()-30*24*60*60*1e3);F=I>=W;break}}return k&&P&&F}),C=async L=>{if(confirm("Tem certeza que deseja cancelar esta venda? Esta ao no pode ser desfeita."))try{await v(L)}catch(k){console.error("Error cancelling sale:",k)}},A=async L=>{try{const k=await ux(L),P=URL.createObjectURL(k),F=document.createElement("a");F.href=P,F.download=`Venda_${L.client.name.replace(/\s+/g,"_")}_${new Date(L.date).toLocaleDateString("pt-BR").replace(/\//g,"-")}.pdf`,document.body.appendChild(F),F.click(),document.body.removeChild(F),URL.revokeObjectURL(P)}catch(k){console.error("Error generating PDF:",k),alert("Erro ao gerar PDF da venda")}},B=L=>{l(L),d(!0)},D=L=>{switch(L){case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},E=L=>{switch(L){case"completed":return"Concluda";case"cancelled":return"Cancelada";default:return L}},U=L=>({money:"Dinheiro",credit:"Carto de Crdito",debit:"Carto de Dbito",pix:"PIX",transfer:"Transferncia",check:"Cheque"})[L]||L;return c.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsx("div",{className:"mb-8 flex items-center justify-between",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("button",{onClick:()=>n("/admin"),className:"mr-4 text-gray-600 hover:text-gray-900",children:c.jsx(Xn,{className:"h-6 w-6"})}),c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gesto de Vendas"})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[c.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total de Vendas"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x()})]}),c.jsx("div",{className:"bg-blue-100 rounded-full p-3",children:c.jsx(Qo,{className:"h-6 w-6 text-blue-600"})})]})}),c.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Receita Total"}),c.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["R$ ",w().toFixed(2)]})]}),c.jsx("div",{className:"bg-green-100 rounded-full p-3",children:c.jsx(ji,{className:"h-6 w-6 text-green-600"})})]})}),c.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Vendas Hoje"}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f.filter(L=>new Date(L.date).toDateString()===new Date().toDateString()&&L.status==="completed").length})]}),c.jsx("div",{className:"bg-purple-100 rounded-full p-3",children:c.jsx(eu,{className:"h-6 w-6 text-purple-600"})})]})}),c.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Ticket Mdio"}),c.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["R$ ",x()>0?(w()/x()).toFixed(2):"0.00"]})]}),c.jsx("div",{className:"bg-orange-100 rounded-full p-3",children:c.jsx(Gs,{className:"h-6 w-6 text-orange-600"})})]})})]}),c.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx(cj,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),c.jsx("input",{type:"text",placeholder:"Buscar por cliente, ID ou vendedor...",value:t,onChange:L=>e(L.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),c.jsxs("select",{value:r,onChange:L=>a(L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[c.jsx("option",{value:"all",children:"Todos os Status"}),c.jsx("option",{value:"completed",children:"Concludas"}),c.jsx("option",{value:"cancelled",children:"Canceladas"})]}),c.jsxs("select",{value:s,onChange:L=>i(L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[c.jsx("option",{value:"all",children:"Todas as Datas"}),c.jsx("option",{value:"today",children:"Hoje"}),c.jsx("option",{value:"week",children:"ltima Semana"}),c.jsx("option",{value:"month",children:"ltimo Ms"})]}),c.jsxs("button",{onClick:()=>{e(""),a("all"),i("all")},className:"flex items-center justify-center px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200",children:[c.jsx(l2,{className:"h-4 w-4 mr-2"}),"Limpar Filtros"]})]})}),p&&c.jsxs("div",{className:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[p,c.jsx("button",{onClick:N,className:"ml-2 text-red-800 hover:text-red-900",children:""})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID / Data"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vendedor"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Itens"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pagamento"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:_.map(L=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[c.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["#",L.id.substring(0,8)]}),c.jsx("div",{className:"text-sm text-gray-500",children:new Date(L.date).toLocaleDateString("pt-BR")})]}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[c.jsx("div",{className:"text-sm font-medium text-gray-900",children:L.client.name}),L.client.phone&&c.jsx("div",{className:"text-sm text-gray-500",children:L.client.phone})]}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("div",{className:"text-sm text-gray-900",children:L.vendor})}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[c.jsxs("div",{className:"text-sm text-gray-900",children:[L.items.length," item(s)"]}),c.jsxs("div",{className:"text-sm text-gray-500",children:[L.items.slice(0,2).map(k=>k.name).join(", "),L.items.length>2&&"..."]})]}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[c.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["R$ ",L.total.toLocaleString("pt-BR",{minimumFractionDigits:2})]}),L.discount>0&&c.jsxs("div",{className:"text-sm text-gray-500",children:["Desc: R$ ",L.discount.toFixed(2)]})]}),c.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[c.jsx("div",{className:"text-sm text-gray-900",children:U(L.paymentMethod)}),L.installments>1&&c.jsxs("div",{className:"text-sm text-gray-500",children:[L.installments,"x"]})]}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${D(L.status)}`,children:E(L.status)})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>B(L),className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",title:"Ver detalhes",children:c.jsx(Xo,{className:"h-5 w-5"})}),c.jsx("button",{onClick:()=>A(L),className:"text-green-600 hover:text-green-900 p-1 rounded hover:bg-green-50",title:"Baixar PDF",children:c.jsx(Dc,{className:"h-5 w-5"})}),L.status==="completed"&&c.jsx("button",{onClick:()=>C(L.id),className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50",title:"Cancelar venda",children:c.jsx(Dv,{className:"h-5 w-5"})})]})})]},L.id))})]})}),_.length===0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Qo,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhuma venda encontrada"}),c.jsx("p",{className:"text-gray-500",children:t||r!=="all"||s!=="all"?"Tente ajustar os filtros de busca":"As vendas realizadas aparecero aqui"})]})]}),c.jsx(en,{open:u,onOpenChange:d,children:c.jsxs(tn,{children:[c.jsx(rn,{className:"fixed inset-0 bg-black/50"}),c.jsxs(nn,{className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white rounded-lg p-6 w-[90vw] max-w-[800px] max-h-[85vh] overflow-y-auto",children:[c.jsxs(an,{className:"text-xl font-semibold mb-4",children:["Detalhes da Venda #",o==null?void 0:o.id.substring(0,8)]}),o&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[c.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Informaes da Venda"}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"ID:"})," ",o.id]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Data:"})," ",new Date(o.date).toLocaleString("pt-BR")]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Vendedor:"})," ",o.vendor]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Status:"}),c.jsx("span",{className:`ml-2 px-2 py-1 text-xs rounded-full ${D(o.status)}`,children:E(o.status)})]})]})]}),c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[c.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Cliente"}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Nome:"})," ",o.client.name]}),o.client.email&&c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Email:"})," ",o.client.email]}),o.client.phone&&c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Telefone:"})," ",o.client.phone]}),o.client.address&&c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Endereo:"})," ",o.client.address]})]})]})]}),c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[c.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Itens Vendidos"}),c.jsx("div",{className:"space-y-3",children:o.items.map((L,k)=>c.jsxs("div",{className:"flex justify-between items-center bg-white rounded p-3",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[L.imageUrl&&c.jsx("img",{src:L.imageUrl,alt:L.name,className:"w-12 h-12 object-cover rounded"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:L.name}),c.jsx("div",{className:"text-sm text-gray-500",children:L.type==="product"?"Produto":"Servio"})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"font-medium",children:["R$ ",L.total.toFixed(2)]}),c.jsxs("div",{className:"text-sm text-gray-500",children:[L.quantity,"x ",bt(L.price)]})]})]},k))})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[c.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Pagamento"}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Mtodo:"})," ",U(o.paymentMethod)]}),o.installments>1&&c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"Parcelas:"})," ",o.installments,"x de R$ ",(o.total/o.installments).toFixed(2)]})]})]}),c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[c.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Valores"}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Subtotal:"}),c.jsx("span",{children:bt(o.subtotal)})]}),o.discount>0&&c.jsxs("div",{className:"flex justify-between text-red-600",children:[c.jsx("span",{children:"Desconto:"}),c.jsxs("span",{children:["- ",bt(o.discount)]})]}),c.jsxs("div",{className:"flex justify-between font-bold text-lg border-t pt-2",children:[c.jsx("span",{children:"Total:"}),c.jsx("span",{children:bt(o.total)})]})]})]})]}),o.observations&&c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[c.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Observaes"}),c.jsx("p",{className:"text-sm text-gray-700",children:o.observations})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[c.jsxs("button",{onClick:()=>A(o),className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[c.jsx(Dc,{className:"h-4 w-4 mr-2"}),"Baixar PDF"]}),o.status==="completed"&&c.jsxs("button",{onClick:()=>{C(o.id),d(!1)},className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:[c.jsx(Dv,{className:"h-4 w-4 mr-2"}),"Cancelar Venda"]})]})]}),c.jsx(sn,{className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:c.jsx(Lr,{size:20})})]})]})})]})})}async function KW(){const{supabase:n}=await ga(async()=>{const{supabase:t}=await Promise.resolve().then(()=>a2);return{supabase:t}},void 0);try{const{data:t,error:e}=await n.from("information_schema.tables").select("table_name").eq("table_schema","public").order("table_name");if(e){console.error("Erro ao buscar tabelas:",e);return}console.log("=== TABELAS NO BANCO DE DADOS ===");const r=["profiles","products","services","customers","bank_accounts","sales","company_info","quotations"],a=(t==null?void 0:t.map(i=>i.table_name))||[];console.log("Tabelas do Sistema (esperadas):"),r.forEach(i=>{const o=a.includes(i);console.log(`${o?"":""} ${i}`)}),console.log(`
Tabelas Extras (podem no ser do sistema):`);const s=a.filter(i=>!r.includes(i));s.length===0?console.log(" Nenhuma tabela extra encontrada"):s.forEach(i=>{console.log(` ${i}`)}),console.log(`
=== CONTAGEM DE REGISTROS ===`);for(const i of r)if(a.includes(i))try{const{count:o,error:l}=await n.from(i).select("*",{count:"exact",head:!0});l||console.log(`${i}: ${o} registros`)}catch{console.log(`${i}: Erro ao contar registros`)}return{systemTables:a.filter(i=>r.includes(i)),extraTables:s,totalTables:a.length}}catch(t){console.error("Erro geral:",t)}}async function JW(){const{supabase:n}=await ga(async()=>{const{supabase:t}=await Promise.resolve().then(()=>a2);return{supabase:t}},void 0);console.log(" Iniciando limpeza de dados de teste...");try{const{error:t}=await n.from("sales").delete().neq("id","00000000-0000-0000-0000-000000000000");t?console.error("Erro ao limpar sales:",t):console.log(" Sales limpo");const{error:e}=await n.from("customers").delete().neq("id","00000000-0000-0000-0000-000000000000");e?console.error("Erro ao limpar customers:",e):console.log(" Customers limpo");const{error:r}=await n.from("products").delete().neq("id","00000000-0000-0000-0000-000000000000");r?console.error("Erro ao limpar products:",r):console.log(" Products limpo"),console.log(" Limpeza concluda!")}catch(t){console.error("Erro durante limpeza:",t)}}function XW(){var u,d,f;const n=on(),[t,e]=V.useState(!1),[r,a]=V.useState(!1),[s,i]=V.useState(null),o=async()=>{e(!0);try{const m=await KW();i(m)}catch(m){console.error("Erro ao verificar banco:",m)}finally{e(!1)}},l=async()=>{if(confirm("Tem certeza que deseja limpar os dados de teste? Esta ao no pode ser desfeita.")){a(!0);try{await JW(),alert("Dados de teste limpos com sucesso!"),await o()}catch(m){console.error("Erro ao limpar dados:",m),alert("Erro ao limpar dados de teste")}finally{a(!1)}}};return c.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsx("div",{className:"mb-8 flex items-center justify-between",children:c.jsxs("div",{className:"flex items-center",children:[c.jsx("button",{onClick:()=>n("/admin"),className:"mr-4 text-gray-600 hover:text-gray-900",children:c.jsx(Xn,{className:"h-6 w-6"})}),c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Verificao do Banco de Dados"})]})}),c.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Anlise do Banco"}),c.jsxs("div",{className:"flex gap-4",children:[c.jsxs("button",{onClick:o,disabled:t,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-blue-400",children:[t?c.jsx(gs,{className:"h-5 w-5 mr-2 animate-spin"}):c.jsx(o2,{className:"h-5 w-5 mr-2"}),t?"Verificando...":"Verificar Banco"]}),c.jsxs("button",{onClick:l,disabled:r,className:"flex items-center px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:bg-red-400",children:[r?c.jsx(gs,{className:"h-5 w-5 mr-2 animate-spin"}):c.jsx(Ga,{className:"h-5 w-5 mr-2"}),r?"Limpando...":"Limpar Dados de Teste"]})]})]}),c.jsx("div",{className:"text-sm text-gray-600 mb-4",children:"Esta ferramenta verifica se h dados no banco que no pertencem ao sistema de gesto empresarial. Abra o console do navegador (F12) para ver os detalhes completos."}),s&&c.jsxs("div",{className:"mt-6 space-y-4",children:[c.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[c.jsx("h3",{className:"font-medium text-green-800 mb-2",children:"Tabelas do Sistema"}),c.jsxs("p",{className:"text-green-700",children:[((u=s.systemTables)==null?void 0:u.length)||0," tabelas encontradas"]}),c.jsx("div",{className:"mt-2 text-sm text-green-600",children:((d=s.systemTables)==null?void 0:d.join(", "))||"Nenhuma"})]}),((f=s.extraTables)==null?void 0:f.length)>0&&c.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[c.jsx("h3",{className:"font-medium text-yellow-800 mb-2",children:"Tabelas Extras"}),c.jsxs("p",{className:"text-yellow-700",children:[s.extraTables.length," tabelas que podem no ser do sistema"]}),c.jsx("div",{className:"mt-2 text-sm text-yellow-600",children:s.extraTables.join(", ")})]}),c.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[c.jsx("h3",{className:"font-medium text-blue-800 mb-2",children:"Resumo"}),c.jsxs("p",{className:"text-blue-700",children:["Total de ",s.totalTables," tabelas no banco de dados"]})]})]})]}),c.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[c.jsx("h3",{className:"font-medium text-yellow-800 mb-2",children:" Importante"}),c.jsxs("ul",{className:"text-sm text-yellow-700 space-y-1",children:[c.jsx("li",{children:" As tabelas do Supabase Auth (auth.*) so normais e necessrias"}),c.jsx("li",{children:" Tabelas extras podem ser de outros projetos no mesmo banco"}),c.jsx("li",{children:" A limpeza remove apenas dados de teste, no as estruturas das tabelas"}),c.jsx("li",{children:" Sempre faa backup antes de limpar dados importantes"})]})]})]})})}function QW(){const n=on(),[t,e]=V.useState(!1),[r,a]=V.useState(null),[s,i]=V.useState("all"),{maintenances:o,loading:l,error:u,getMaintenances:d,deleteMaintenance:f,completeMaintenance:m,clearError:p}=hx();Hn(D=>D.clients),V.useEffect(()=>{d()},[d]);const y=D=>{a(D),e(!0)},v=async D=>{if(confirm("Tem certeza que deseja excluir este agendamento?"))try{await f(D)}catch(E){console.error("Error deleting maintenance:",E)}},x=async D=>{if(confirm("Marcar esta manuteno como concluda?"))try{await m(D,"Manuteno concluda com sucesso")}catch(E){console.error("Error completing maintenance:",E)}},w=D=>{if(!D.clientPhone){alert("Cliente no possui telefone cadastrado");return}if(!D.scheduledDate||isNaN(new Date(D.scheduledDate).getTime())){alert("Data de agendamento invlida");return}const E=`Ol ${D.clientName}! 

 *Lembrete de Manuteno - HidroMineral*

Temos um agendamento de manuteno para seu equipamento:

 *Tipo:* ${Bd(D.maintenanceType)}
 *Data:* ${Ra(new Date(D.scheduledDate),"dd 'de' MMMM 's' HH:mm",{locale:Ci})}
 *Produto:* ${D.productName}

${D.notes?` *Observaes:* ${D.notes}`:""}

Estaremos chegando no horrio agendado. Qualquer dvida, entre em contato!

Atenciosamente,
Equipe HidroMineral `,U=encodeURIComponent(E),L=D.clientPhone.replace(/\D/g,""),P=`https://wa.me/${L.startsWith("55")?L:`55${L}`}?text=${U}`;window.open(P,"_blank")},N=D=>{switch(D){case"agendado":return"bg-blue-100 text-blue-800";case"em_andamento":return"bg-yellow-100 text-yellow-800";case"concluido":return"bg-green-100 text-green-800";case"cancelado":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},_=D=>{switch(D){case"agendado":return c.jsx(Np,{className:"h-4 w-4"});case"em_andamento":return c.jsx(Cv,{className:"h-4 w-4"});case"concluido":return c.jsx(Ev,{className:"h-4 w-4"});case"cancelado":return c.jsx(Cv,{className:"h-4 w-4"});default:return c.jsx(Np,{className:"h-4 w-4"})}},C=D=>{switch(D){case"agendado":return"Agendado";case"em_andamento":return"Em Andamento";case"concluido":return"Concludo";case"cancelado":return"Cancelado";default:return D}},A=o.filter(D=>s==="all"?!0:D.status===s),B=o.filter(D=>{if(!D.scheduledDate||isNaN(new Date(D.scheduledDate).getTime()))return!1;const E=new Date,L=new Date(D.scheduledDate).getTime()-E.getTime(),k=Math.ceil(L/(1e3*60*60*24));return D.status==="agendado"&&k<=7&&k>=0});return c.jsx("div",{className:"min-h-screen bg-gray-50 p-4 md:p-8",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"mb-6 md:mb-8 flex flex-col md:flex-row md:items-center justify-between gap-4",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("button",{onClick:()=>n("/admin"),className:"mr-4 text-gray-600 hover:text-gray-900",children:c.jsx(Xn,{className:"h-6 w-6"})}),c.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900",children:"Agendamento de Manuteno"})]}),c.jsxs("button",{onClick:()=>{a(null),e(!0)},className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors w-full md:w-auto justify-center",children:[c.jsx(On,{className:"h-5 w-5 mr-2"}),"Agendar Manuteno"]})]}),B.length>0&&c.jsxs("div",{className:"mb-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[c.jsxs("h3",{className:"font-medium text-yellow-800 mb-2",children:[" Manutenes Prximas (",B.length,")"]}),c.jsx("div",{className:"space-y-2",children:B.slice(0,3).map(D=>c.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between bg-white rounded p-3 gap-2",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("span",{className:"font-medium",children:D.clientName}),c.jsx("span",{className:"text-sm text-gray-600 ml-2",children:D.scheduledDate&&!isNaN(new Date(D.scheduledDate).getTime())?Ra(new Date(D.scheduledDate),"dd/MM 's' HH:mm"):"Data invlida"}),c.jsx("div",{className:"text-sm text-gray-500",children:Bd(D.maintenanceType)})]}),D.clientPhone&&c.jsxs("button",{onClick:()=>w(D),className:"flex items-center px-3 py-1 bg-green-600 text-white rounded text-sm hover:bg-green-700 transition-colors w-full md:w-auto justify-center",children:[c.jsx(xm,{className:"h-4 w-4 mr-1"}),"Contatar"]})]},D.id))})]}),u&&c.jsxs("div",{className:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[u,c.jsx("button",{onClick:p,className:"ml-2 text-red-800 hover:text-red-900",children:""})]}),c.jsx("div",{className:"mb-6 bg-white rounded-lg shadow-md p-4",children:c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsxs("button",{onClick:()=>i("all"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${s==="all"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Todos (",o.length,")"]}),c.jsxs("button",{onClick:()=>i("agendado"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${s==="agendado"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Agendados (",o.filter(D=>D.status==="agendado").length,")"]}),c.jsxs("button",{onClick:()=>i("concluido"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${s==="concluido"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Concludos (",o.filter(D=>D.status==="concluido").length,")"]})]})}),c.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:A.length===0?c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"text-gray-400 mb-4",children:c.jsx(Np,{className:"h-16 w-16 mx-auto"})}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhuma manuteno encontrada"}),c.jsx("p",{className:"text-gray-500 mb-6",children:s==="all"?"Comece agendando a primeira manuteno":`Nenhuma manuteno com status "${C(s)}"`}),c.jsxs("button",{onClick:()=>e(!0),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[c.jsx(On,{className:"h-5 w-5 mr-2"}),"Agendar Primeira Manuteno"]})]}):c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-3 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),c.jsx("th",{className:"px-3 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Produto"}),c.jsx("th",{className:"px-3 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),c.jsx("th",{className:"px-3 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"}),c.jsx("th",{className:"px-3 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),c.jsx("th",{className:"px-3 md:px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:A.map(D=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsxs("td",{className:"px-3 md:px-6 py-4 whitespace-nowrap",children:[c.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.clientName}),D.clientPhone&&c.jsx("div",{className:"text-sm text-gray-500",children:D.clientPhone})]}),c.jsx("td",{className:"px-3 md:px-6 py-4 whitespace-nowrap",children:c.jsx("div",{className:"text-sm text-gray-900",children:D.productName})}),c.jsx("td",{className:"px-3 md:px-6 py-4 whitespace-nowrap",children:c.jsx("div",{className:"text-sm text-gray-900",children:Bd(D.maintenanceType)})}),c.jsxs("td",{className:"px-3 md:px-6 py-4 whitespace-nowrap",children:[c.jsx("div",{className:"text-sm text-gray-900",children:D.scheduledDate&&!isNaN(new Date(D.scheduledDate).getTime())?Ra(new Date(D.scheduledDate),"dd/MM/yyyy",{locale:Ci}):"Data invlida"}),c.jsx("div",{className:"text-sm text-gray-500",children:D.scheduledDate&&!isNaN(new Date(D.scheduledDate).getTime())?Ra(new Date(D.scheduledDate),"HH:mm",{locale:Ci}):"--:--"})]}),c.jsx("td",{className:"px-3 md:px-6 py-4 whitespace-nowrap",children:c.jsxs("span",{className:`inline-flex items-center px-2 py-1 text-xs font-medium rounded-full ${N(D.status)}`,children:[_(D.status),c.jsx("span",{className:"ml-1",children:C(D.status)})]})}),c.jsx("td",{className:"px-3 md:px-6 py-4 whitespace-nowrap text-sm font-medium",children:c.jsxs("div",{className:"flex flex-col md:flex-row gap-1 md:gap-2",children:[D.clientPhone&&c.jsx("button",{onClick:()=>w(D),className:"text-green-600 hover:text-green-900 p-1 rounded hover:bg-green-50 transition-colors",title:"Contatar via WhatsApp",children:c.jsx(xm,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>y(D),className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50 transition-colors",title:"Editar",children:c.jsx(Od,{className:"h-4 w-4"})}),D.status==="agendado"&&c.jsx("button",{onClick:()=>x(D.id),className:"text-green-600 hover:text-green-900 p-1 rounded hover:bg-green-50 transition-colors",title:"Marcar como concludo",children:c.jsx(Ev,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>v(D.id),className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50 transition-colors",title:"Excluir",children:c.jsx(Ga,{className:"h-4 w-4"})})]})})]},D.id))})]})})}),c.jsx(fx,{open:t,onOpenChange:e,maintenance:r})]})})}function ZW(){const n=on(),{profile:t}=Jn(),[e,r]=V.useState(!1),[a,s]=V.useState(),i=ma(_=>_.getQuotationsByVendor((t==null?void 0:t.id)||"")),o=ma(_=>_.getQuotations),l=ma(_=>_.updateQuotation),u=ma(_=>_.deleteQuotation),d=Hn(_=>_.clients),{info:f,getInfo:m}=bg();V.useEffect(()=>{t&&(o(),m())},[o,m,t]);const p=async(_,C)=>{try{await l(_,{status:C})}catch(A){console.error("Error updating quotation status:",A),alert("Erro ao atualizar status do oramento")}},y=async _=>{if(confirm("Tem certeza que deseja excluir este oramento?"))try{await u(_)}catch(C){console.error("Error deleting quotation:",C),alert("Erro ao excluir oramento")}},v=async _=>{const C=d.find(B=>B.id===_.client_id);if(!C){alert("Cliente no encontrado");return}const A={id:_.id,client:C,items:_.items,total_value:_.total_value,valid_until:_.valid_until,notes:_.notes,company:f||{name:"Empresa",cnpj:"00.000.000/0000-00",phone:"(00) 0000-0000",address:"Endereo da empresa"}};try{const B=await L0(A),D=URL.createObjectURL(B),E=document.createElement("a");E.href=D,E.download=`Orcamento_${C.name.replace(/\s+/g,"_")}_${new Date().toLocaleDateString("pt-BR").replace(/\//g,"-")}.pdf`,document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(D)}catch(B){console.error("Error generating PDF:",B),alert("Erro ao gerar PDF")}},x=async _=>{const C=d.find(E=>E.id===_.client_id);if(!C){alert("Cliente no encontrado");return}const A=` *${(f==null?void 0:f.name)||"Empresa"}*

Ol *${C.name}*! 

Segue o oramento solicitado:

 *ORAMENTO #${_.id}*
 *Valor Total: R$ ${_.total_value.toLocaleString("pt-BR",{minimumFractionDigits:2})}*
 *Vlido at: ${new Date(_.valid_until).toLocaleDateString("pt-BR")}*

*ITENS:*
${_.items.map(E=>` ${E.name}
  Qtd: ${E.quantity} | Valor: R$ ${E.total.toLocaleString("pt-BR",{minimumFractionDigits:2})}`).join(`

`)}

${_.notes?`
 *Observaes:*
${_.notes}
`:""}
---
 ${(f==null?void 0:f.phone)||"(00) 0000-0000"}
 ${(f==null?void 0:f.address)||"Endereo da empresa"}
 CNPJ: ${(f==null?void 0:f.cnpj)||"00.000.000/0000-00"}

*Aguardamos seu retorno para confirmarmos o pedido!*

_Obrigado pela confiana!_ `,B=encodeURIComponent(A);let D="";if(C.phone){const E=C.phone.replace(/\D/g,"");D=`https://wa.me/${E.startsWith("55")?E:`55${E}`}?text=${B}`}else D=`https://wa.me/?text=${B}`;window.open(D,"_blank")},w=_=>{switch(_){case"draft":return"bg-gray-100 text-gray-800";case"sent":return"bg-blue-100 text-blue-800";case"accepted":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},N=_=>{switch(_){case"draft":return"Rascunho";case"sent":return"Enviado";case"accepted":return"Aceito";case"rejected":return"Recusado";default:return _}};return c.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsx("button",{onClick:()=>n("/vendor"),className:"mr-4 text-gray-600 hover:text-gray-900",children:c.jsx(Xn,{className:"h-6 w-6"})}),c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Meus Oramentos"})]}),c.jsxs("button",{onClick:()=>{s(void 0),r(!0)},className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[c.jsx(On,{className:"h-5 w-5 mr-2"}),"Novo Oramento"]})]}),c.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Cliente"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Vlido at"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aes"})]})}),c.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(_=>{const C=d.find(A=>A.id===_.client_id);return c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("div",{className:"text-sm font-medium text-gray-900",children:C==null?void 0:C.name})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("div",{className:"text-sm text-gray-900 font-medium",children:bt(_.total_value)})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("div",{className:"text-sm text-gray-900",children:new Date(_.valid_until).toLocaleDateString("pt-BR")})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:c.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${w(_.status)}`,children:N(_.status)})}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>v(_),className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50 transition-colors",title:"Baixar PDF",children:c.jsx(Dc,{className:"h-5 w-5"})}),c.jsx("button",{onClick:()=>x(_),className:"text-green-600 hover:text-green-900 p-1 rounded hover:bg-green-50 transition-colors",title:"Compartilhar no WhatsApp",children:c.jsx(gg,{className:"h-5 w-5"})}),_.status==="draft"&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>{s(_.id),r(!0)},className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50 transition-colors",title:"Editar oramento",children:c.jsx(Yi,{className:"h-5 w-5"})}),c.jsx("button",{onClick:()=>p(_.id,"sent"),className:"text-green-600 hover:text-green-900 p-1 rounded hover:bg-green-50 transition-colors",title:"Enviar oramento",children:c.jsx(d2,{className:"h-5 w-5"})})]}),c.jsx("button",{onClick:()=>y(_.id),className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50 transition-colors",title:"Excluir oramento",children:c.jsx(Ga,{className:"h-5 w-5"})})]})})]},_.id)})})]})})}),c.jsx(O5,{open:e,onOpenChange:r,quotationId:a})]})})}function eY(){return c.jsx(xS,{children:c.jsx(tj,{children:c.jsx(nj,{children:c.jsxs(wS,{children:[c.jsx($r,{path:"/login",element:c.jsx(fj,{})}),c.jsx($r,{path:"/admin",element:c.jsx(mn,{role:"admin",children:c.jsx(gD,{})})}),c.jsx($r,{path:"/admin/products",element:c.jsx(mn,{role:"admin",children:c.jsx(hV,{})})}),c.jsx($r,{path:"/admin/services",element:c.jsx(mn,{role:"admin",children:c.jsx(pV,{})})}),c.jsx($r,{path:"/admin/clients",element:c.jsx(mn,{role:"admin",children:c.jsx(mV,{})})}),c.jsx($r,{path:"/admin/vendors",element:c.jsx(mn,{role:"admin",children:c.jsx(vV,{})})}),c.jsx($r,{path:"/admin/financial",element:c.jsx(mn,{role:"admin",children:c.jsx(wV,{})})}),c.jsx($r,{path:"/admin/reports",element:c.jsx(mn,{role:"admin",children:c.jsx(SV,{})})}),c.jsx($r,{path:"/admin/schedule",element:c.jsx(mn,{role:"admin",children:c.jsx(NV,{})})}),c.jsx($r,{path:"/admin/quotations",element:c.jsx(mn,{role:"admin",children:c.jsx(YW,{})})}),c.jsx($r,{path:"/admin/sales",element:c.jsx(mn,{role:"admin",children:c.jsx(GW,{})})}),c.jsx($r,{path:"/admin/database-check",element:c.jsx(mn,{role:"admin",children:c.jsx(XW,{})})}),c.jsx($r,{path:"/admin/maintenance",element:c.jsx(mn,{role:"admin",children:c.jsx(QW,{})})}),c.jsx($r,{path:"/vendor",element:c.jsx(mn,{role:"vendor",children:c.jsx(uV,{})})}),c.jsx($r,{path:"/vendor/quotations",element:c.jsx(mn,{role:"vendor",children:c.jsx(ZW,{})})}),c.jsx($r,{path:"/",element:c.jsx(im,{to:"/login\\",replace:!0})})]})})})})}Oy(document.getElementById("root")).render(c.jsx(V.StrictMode,{children:c.jsx(eY,{})}));export{pa as _};
